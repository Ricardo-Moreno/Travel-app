function LI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oE={exports:{}},_h={},aE={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=Symbol.for("react.element"),kI=Symbol.for("react.portal"),TI=Symbol.for("react.fragment"),II=Symbol.for("react.strict_mode"),bI=Symbol.for("react.profiler"),NI=Symbol.for("react.provider"),PI=Symbol.for("react.context"),RI=Symbol.for("react.forward_ref"),MI=Symbol.for("react.suspense"),DI=Symbol.for("react.memo"),AI=Symbol.for("react.lazy"),Vy=Symbol.iterator;function OI(t){return t===null||typeof t!="object"?null:(t=Vy&&t[Vy]||t["@@iterator"],typeof t=="function"?t:null)}var lE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uE=Object.assign,cE={};function co(t,e,n){this.props=t,this.context=e,this.refs=cE,this.updater=n||lE}co.prototype.isReactComponent={};co.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};co.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hE(){}hE.prototype=co.prototype;function Am(t,e,n){this.props=t,this.context=e,this.refs=cE,this.updater=n||lE}var Om=Am.prototype=new hE;Om.constructor=Am;uE(Om,co.prototype);Om.isPureReactComponent=!0;var Wy=Array.isArray,dE=Object.prototype.hasOwnProperty,$m={current:null},fE={key:!0,ref:!0,__self:!0,__source:!0};function pE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dE.call(e,r)&&!fE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:dl,type:t,key:s,ref:o,props:i,_owner:$m.current}}function $I(t,e){return{$$typeof:dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fm(t){return typeof t=="object"&&t!==null&&t.$$typeof===dl}function FI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hy=/\/+/g;function Td(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FI(""+t.key):e.toString(36)}function qu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dl:case kI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Td(o,0):r,Wy(i)?(n="",t!=null&&(n=t.replace(Hy,"$&/")+"/"),qu(i,e,n,"",function(u){return u})):i!=null&&(Fm(i)&&(i=$I(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Wy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Td(s,a);o+=qu(s,e,n,l,i)}else if(l=OI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Td(s,a++),o+=qu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,n){if(t==null)return t;var r=[],i=0;return qu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},Gu={transition:null},UI={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Gu,ReactCurrentOwner:$m};me.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Fm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=co;me.Fragment=TI;me.Profiler=bI;me.PureComponent=Am;me.StrictMode=II;me.Suspense=MI;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UI;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$m.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dE.call(e,l)&&!fE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:dl,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:PI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NI,_context:t},t.Consumer=t};me.createElement=pE;me.createFactory=function(t){var e=pE.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:RI,render:t}};me.isValidElement=Fm;me.lazy=function(t){return{$$typeof:AI,_payload:{_status:-1,_result:t},_init:jI}};me.memo=function(t,e){return{$$typeof:DI,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Gu.transition;Gu.transition={};try{t()}finally{Gu.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return Kt.current.useCallback(t,e)};me.useContext=function(t){return Kt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Kt.current.useEffect(t,e)};me.useId=function(){return Kt.current.useId()};me.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Kt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};me.useRef=function(t){return Kt.current.useRef(t)};me.useState=function(t){return Kt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Kt.current.useTransition()};me.version="18.2.0";aE.exports=me;var h=aE.exports;const ie=sE(h),Mf=LI({__proto__:null,default:ie},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI=h,zI=Symbol.for("react.element"),VI=Symbol.for("react.fragment"),WI=Object.prototype.hasOwnProperty,HI=BI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qI={key:!0,ref:!0,__self:!0,__source:!0};function mE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WI.call(e,r)&&!qI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zI,type:t,key:s,ref:o,props:i,_owner:HI.current}}_h.Fragment=VI;_h.jsx=mE;_h.jsxs=mE;oE.exports=_h;var w=oE.exports,Df={},gE={exports:{}},pn={},vE={exports:{}},yE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,A){var O=N.length;N.push(A);e:for(;0<O;){var z=O-1>>>1,K=N[z];if(0<i(K,A))N[z]=A,N[O]=K,O=z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var A=N[0],O=N.pop();if(O!==A){N[0]=O;e:for(var z=0,K=N.length,W=K>>>1;z<W;){var P=2*(z+1)-1,Y=N[P],X=P+1,B=N[X];if(0>i(Y,O))X<K&&0>i(B,Y)?(N[z]=B,N[X]=O,z=X):(N[z]=Y,N[P]=O,z=P);else if(X<K&&0>i(B,O))N[z]=B,N[X]=O,z=X;else break e}}return A}function i(N,A){var O=N.sortIndex-A.sortIndex;return O!==0?O:N.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,v=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=N)r(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(u)}}function _(N){if(E=!1,y(N),!v)if(n(l)!==null)v=!0,te(C);else{var A=n(u);A!==null&&de(_,A.startTime-N)}}function C(N,A){v=!1,E&&(E=!1,g(k),k=-1),p=!0;var O=f;try{for(y(A),d=n(l);d!==null&&(!(d.expirationTime>A)||N&&!D());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var K=z(d.expirationTime<=A);A=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),y(A)}else r(l);d=n(l)}if(d!==null)var W=!0;else{var P=n(u);P!==null&&de(_,P.startTime-A),W=!1}return W}finally{d=null,f=O,p=!1}}var x=!1,T=null,k=-1,L=5,I=-1;function D(){return!(t.unstable_now()-I<L)}function q(){if(T!==null){var N=t.unstable_now();I=N;var A=!0;try{A=T(!0,N)}finally{A?Q():(x=!1,T=null)}}else x=!1}var Q;if(typeof m=="function")Q=function(){m(q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,oe=G.port2;G.port1.onmessage=q,Q=function(){oe.postMessage(null)}}else Q=function(){S(q,0)};function te(N){T=N,x||(x=!0,Q())}function de(N,A){k=S(function(){N(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,te(C))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var O=f;f=A;try{return N()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,A){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var O=f;f=N;try{return A()}finally{f=O}},t.unstable_scheduleCallback=function(N,A,O){var z=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?z+O:z):O=z,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=O+K,N={id:c++,callback:A,priorityLevel:N,startTime:O,expirationTime:K,sortIndex:-1},O>z?(N.sortIndex=O,e(u,N),n(l)===null&&N===n(u)&&(E?(g(k),k=-1):E=!0,de(_,O-z))):(N.sortIndex=K,e(l,N),v||p||(v=!0,te(C))),N},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(N){var A=f;return function(){var O=f;f=A;try{return N.apply(this,arguments)}finally{f=O}}}})(yE);vE.exports=yE;var GI=vE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE=h,dn=GI;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _E=new Set,Ia={};function ts(t,e){Vs(t,e),Vs(t+"Capture",e)}function Vs(t,e){for(Ia[t]=e,t=0;t<e.length;t++)_E.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=Object.prototype.hasOwnProperty,KI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qy={},Gy={};function QI(t){return Af.call(Gy,t)?!0:Af.call(qy,t)?!1:KI.test(t)?Gy[t]=!0:(qy[t]=!0,!1)}function YI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XI(t,e,n,r){if(e===null||typeof e>"u"||YI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var jm=/[\-:]([a-z])/g;function Um(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jm,Um);kt[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jm,Um);kt[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jm,Um);kt[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bm(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XI(e,n,i,r)&&(n=null),r||i===null?QI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=wE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),zm=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),SE=Symbol.for("react.context"),Vm=Symbol.for("react.forward_ref"),$f=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),Wm=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),CE=Symbol.for("react.offscreen"),Ky=Symbol.iterator;function Po(t){return t===null||typeof t!="object"?null:(t=Ky&&t[Ky]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Id;function Ko(t){if(Id===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Id=e&&e[1]||""}return`
`+Id+t}var bd=!1;function Nd(t,e){if(!t||bd)return"";bd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ko(t):""}function ZI(t){switch(t.tag){case 5:return Ko(t.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return t=Nd(t.type,!1),t;case 11:return t=Nd(t.type.render,!1),t;case 1:return t=Nd(t.type,!0),t;default:return""}}function jf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case ms:return"Portal";case Of:return"Profiler";case zm:return"StrictMode";case $f:return"Suspense";case Ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SE:return(t.displayName||"Context")+".Consumer";case EE:return(t._context.displayName||"Context")+".Provider";case Vm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wm:return e=t.displayName||null,e!==null?e:jf(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return jf(t(e))}catch{}}return null}function JI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jf(e);case 8:return e===zm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eb(t){var e=xE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=eb(t))}function LE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uf(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kE(t,e){e=e.checked,e!=null&&Bm(t,"checked",e,!1)}function Bf(t,e){kE(t,e);var n=si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zf(t,e.type,n):e.hasOwnProperty("defaultValue")&&zf(t,e.type,si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zf(t,e,n){(e!=="number"||cc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qo=Array.isArray;function Ns(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Qo(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:si(n)}}function TE(t,e){var n=si(e.value),r=si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vu,bE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ba(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tb=["Webkit","ms","Moz","O"];Object.keys(oa).forEach(function(t){tb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oa[e]=oa[t]})});function NE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oa.hasOwnProperty(t)&&oa[t]?(""+e).trim():e+"px"}function PE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=NE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nb=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hf(t,e){if(e){if(nb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function qf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=null;function Hm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kf=null,Ps=null,Rs=null;function Jy(t){if(t=ml(t)){if(typeof Kf!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Lh(e),Kf(t.stateNode,t.type,e))}}function RE(t){Ps?Rs?Rs.push(t):Rs=[t]:Ps=t}function ME(){if(Ps){var t=Ps,e=Rs;if(Rs=Ps=null,Jy(t),e)for(t=0;t<e.length;t++)Jy(e[t])}}function DE(t,e){return t(e)}function AE(){}var Pd=!1;function OE(t,e,n){if(Pd)return t(e,n);Pd=!0;try{return DE(t,e,n)}finally{Pd=!1,(Ps!==null||Rs!==null)&&(AE(),ME())}}function Na(t,e){var n=t.stateNode;if(n===null)return null;var r=Lh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Qf=!1;if(Sr)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Qf=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Qf=!1}function rb(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var aa=!1,hc=null,dc=!1,Yf=null,ib={onError:function(t){aa=!0,hc=t}};function sb(t,e,n,r,i,s,o,a,l){aa=!1,hc=null,rb.apply(ib,arguments)}function ob(t,e,n,r,i,s,o,a,l){if(sb.apply(this,arguments),aa){if(aa){var u=hc;aa=!1,hc=null}else throw Error(R(198));dc||(dc=!0,Yf=u)}}function ns(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $E(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function e0(t){if(ns(t)!==t)throw Error(R(188))}function ab(t){var e=t.alternate;if(!e){if(e=ns(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return e0(i),t;if(s===r)return e0(i),e;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function FE(t){return t=ab(t),t!==null?jE(t):null}function jE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jE(t);if(e!==null)return e;t=t.sibling}return null}var UE=dn.unstable_scheduleCallback,t0=dn.unstable_cancelCallback,lb=dn.unstable_shouldYield,ub=dn.unstable_requestPaint,Ye=dn.unstable_now,cb=dn.unstable_getCurrentPriorityLevel,qm=dn.unstable_ImmediatePriority,BE=dn.unstable_UserBlockingPriority,fc=dn.unstable_NormalPriority,hb=dn.unstable_LowPriority,zE=dn.unstable_IdlePriority,Eh=null,er=null;function db(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Eh,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:mb,fb=Math.log,pb=Math.LN2;function mb(t){return t>>>=0,t===0?32:31-(fb(t)/pb|0)|0}var yu=64,wu=4194304;function Yo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Yo(a):(s&=o,s!==0&&(r=Yo(s)))}else o=n&~i,o!==0?r=Yo(o):s!==0&&(r=Yo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),i=1<<n,r|=t[n],e&=~i;return r}function gb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$n(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=gb(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VE(){var t=yu;return yu<<=1,!(yu&4194240)&&(yu=64),t}function Rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function yb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Gm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function WE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HE,Km,qE,GE,KE,Zf=!1,_u=[],Wr=null,Hr=null,qr=null,Pa=new Map,Ra=new Map,$r=[],wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n0(t,e){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Pa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(e.pointerId)}}function Mo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ml(e),e!==null&&Km(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _b(t,e,n,r,i){switch(e){case"focusin":return Wr=Mo(Wr,t,e,n,r,i),!0;case"dragenter":return Hr=Mo(Hr,t,e,n,r,i),!0;case"mouseover":return qr=Mo(qr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pa.set(s,Mo(Pa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ra.set(s,Mo(Ra.get(s)||null,t,e,n,r,i)),!0}return!1}function QE(t){var e=bi(t.target);if(e!==null){var n=ns(e);if(n!==null){if(e=n.tag,e===13){if(e=$E(n),e!==null){t.blockedOn=e,KE(t.priority,function(){qE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gf=r,n.target.dispatchEvent(r),Gf=null}else return e=ml(n),e!==null&&Km(e),t.blockedOn=n,!1;e.shift()}return!0}function r0(t,e,n){Ku(t)&&n.delete(e)}function Eb(){Zf=!1,Wr!==null&&Ku(Wr)&&(Wr=null),Hr!==null&&Ku(Hr)&&(Hr=null),qr!==null&&Ku(qr)&&(qr=null),Pa.forEach(r0),Ra.forEach(r0)}function Do(t,e){t.blockedOn===e&&(t.blockedOn=null,Zf||(Zf=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,Eb)))}function Ma(t){function e(i){return Do(i,t)}if(0<_u.length){Do(_u[0],t);for(var n=1;n<_u.length;n++){var r=_u[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wr!==null&&Do(Wr,t),Hr!==null&&Do(Hr,t),qr!==null&&Do(qr,t),Pa.forEach(e),Ra.forEach(e),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)QE(n),n.blockedOn===null&&$r.shift()}var Ms=Pr.ReactCurrentBatchConfig,mc=!0;function Sb(t,e,n,r){var i=Ie,s=Ms.transition;Ms.transition=null;try{Ie=1,Qm(t,e,n,r)}finally{Ie=i,Ms.transition=s}}function Cb(t,e,n,r){var i=Ie,s=Ms.transition;Ms.transition=null;try{Ie=4,Qm(t,e,n,r)}finally{Ie=i,Ms.transition=s}}function Qm(t,e,n,r){if(mc){var i=Jf(t,e,n,r);if(i===null)zd(t,e,r,gc,n),n0(t,r);else if(_b(i,t,e,n,r))r.stopPropagation();else if(n0(t,r),e&4&&-1<wb.indexOf(t)){for(;i!==null;){var s=ml(i);if(s!==null&&HE(s),s=Jf(t,e,n,r),s===null&&zd(t,e,r,gc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zd(t,e,r,null,n)}}var gc=null;function Jf(t,e,n,r){if(gc=null,t=Hm(r),t=bi(t),t!==null)if(e=ns(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$E(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gc=t,null}function YE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cb()){case qm:return 1;case BE:return 4;case fc:case hb:return 16;case zE:return 536870912;default:return 16}default:return 16}}var Ur=null,Ym=null,Qu=null;function XE(){if(Qu)return Qu;var t,e=Ym,n=e.length,r,i="value"in Ur?Ur.value:Ur.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qu=i.slice(t,1<r?1-r:void 0)}function Yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eu(){return!0}function i0(){return!1}function mn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Eu:i0,this.isPropagationStopped=i0,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),e}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xm=mn(ho),pl=qe({},ho,{view:0,detail:0}),xb=mn(pl),Md,Dd,Ao,Sh=qe({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ao&&(Ao&&t.type==="mousemove"?(Md=t.screenX-Ao.screenX,Dd=t.screenY-Ao.screenY):Dd=Md=0,Ao=t),Md)},movementY:function(t){return"movementY"in t?t.movementY:Dd}}),s0=mn(Sh),Lb=qe({},Sh,{dataTransfer:0}),kb=mn(Lb),Tb=qe({},pl,{relatedTarget:0}),Ad=mn(Tb),Ib=qe({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),bb=mn(Ib),Nb=qe({},ho,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pb=mn(Nb),Rb=qe({},ho,{data:0}),o0=mn(Rb),Mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ab={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ob(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ab[t])?!!e[t]:!1}function Zm(){return Ob}var $b=qe({},pl,{key:function(t){if(t.key){var e=Mb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Db[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zm,charCode:function(t){return t.type==="keypress"?Yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fb=mn($b),jb=qe({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a0=mn(jb),Ub=qe({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zm}),Bb=mn(Ub),zb=qe({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vb=mn(zb),Wb=qe({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hb=mn(Wb),qb=[9,13,27,32],Jm=Sr&&"CompositionEvent"in window,la=null;Sr&&"documentMode"in document&&(la=document.documentMode);var Gb=Sr&&"TextEvent"in window&&!la,ZE=Sr&&(!Jm||la&&8<la&&11>=la),l0=String.fromCharCode(32),u0=!1;function JE(t,e){switch(t){case"keyup":return qb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function Kb(t,e){switch(t){case"compositionend":return eS(e);case"keypress":return e.which!==32?null:(u0=!0,l0);case"textInput":return t=e.data,t===l0&&u0?null:t;default:return null}}function Qb(t,e){if(vs)return t==="compositionend"||!Jm&&JE(t,e)?(t=XE(),Qu=Ym=Ur=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZE&&e.locale!=="ko"?null:e.data;default:return null}}var Yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yb[t.type]:e==="textarea"}function tS(t,e,n,r){RE(r),e=vc(e,"onChange"),0<e.length&&(n=new Xm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ua=null,Da=null;function Xb(t){dS(t,0)}function Ch(t){var e=_s(t);if(LE(e))return t}function Zb(t,e){if(t==="change")return e}var nS=!1;if(Sr){var Od;if(Sr){var $d="oninput"in document;if(!$d){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),$d=typeof h0.oninput=="function"}Od=$d}else Od=!1;nS=Od&&(!document.documentMode||9<document.documentMode)}function d0(){ua&&(ua.detachEvent("onpropertychange",rS),Da=ua=null)}function rS(t){if(t.propertyName==="value"&&Ch(Da)){var e=[];tS(e,Da,t,Hm(t)),OE(Xb,e)}}function Jb(t,e,n){t==="focusin"?(d0(),ua=e,Da=n,ua.attachEvent("onpropertychange",rS)):t==="focusout"&&d0()}function eN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ch(Da)}function tN(t,e){if(t==="click")return Ch(e)}function nN(t,e){if(t==="input"||t==="change")return Ch(e)}function rN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:rN;function Aa(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Af.call(e,i)||!Un(t[i],e[i]))return!1}return!0}function f0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function p0(t,e){var n=f0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f0(n)}}function iS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sS(){for(var t=window,e=cc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cc(t.document)}return e}function eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iN(t){var e=sS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iS(n.ownerDocument.documentElement,n)){if(r!==null&&eg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=p0(n,s);var o=p0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sN=Sr&&"documentMode"in document&&11>=document.documentMode,ys=null,ep=null,ca=null,tp=!1;function m0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tp||ys==null||ys!==cc(r)||(r=ys,"selectionStart"in r&&eg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ca&&Aa(ca,r)||(ca=r,r=vc(ep,"onSelect"),0<r.length&&(e=new Xm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ys)))}function Su(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ws={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},Fd={},oS={};Sr&&(oS=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function xh(t){if(Fd[t])return Fd[t];if(!ws[t])return t;var e=ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oS)return Fd[t]=e[n];return t}var aS=xh("animationend"),lS=xh("animationiteration"),uS=xh("animationstart"),cS=xh("transitionend"),hS=new Map,g0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(t,e){hS.set(t,e),ts(e,[t])}for(var jd=0;jd<g0.length;jd++){var Ud=g0[jd],oN=Ud.toLowerCase(),aN=Ud[0].toUpperCase()+Ud.slice(1);pi(oN,"on"+aN)}pi(aS,"onAnimationEnd");pi(lS,"onAnimationIteration");pi(uS,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(cS,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function v0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ob(r,e,void 0,t),t.currentTarget=null}function dS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;v0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;v0(i,a,u),s=l}}}if(dc)throw t=Yf,dc=!1,Yf=null,t}function De(t,e){var n=e[op];n===void 0&&(n=e[op]=new Set);var r=t+"__bubble";n.has(r)||(fS(e,t,2,!1),n.add(r))}function Bd(t,e,n){var r=0;e&&(r|=4),fS(n,t,r,e)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Oa(t){if(!t[Cu]){t[Cu]=!0,_E.forEach(function(n){n!=="selectionchange"&&(lN.has(n)||Bd(n,!1,t),Bd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cu]||(e[Cu]=!0,Bd("selectionchange",!1,e))}}function fS(t,e,n,r){switch(YE(e)){case 1:var i=Sb;break;case 4:i=Cb;break;default:i=Qm}n=i.bind(null,e,n,t),i=void 0,!Qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}OE(function(){var u=s,c=Hm(n),d=[];e:{var f=hS.get(t);if(f!==void 0){var p=Xm,v=t;switch(t){case"keypress":if(Yu(n)===0)break e;case"keydown":case"keyup":p=Fb;break;case"focusin":v="focus",p=Ad;break;case"focusout":v="blur",p=Ad;break;case"beforeblur":case"afterblur":p=Ad;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=s0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bb;break;case aS:case lS:case uS:p=bb;break;case cS:p=Vb;break;case"scroll":p=xb;break;case"wheel":p=Hb;break;case"copy":case"cut":case"paste":p=Pb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=a0}var E=(e&4)!==0,S=!E&&t==="scroll",g=E?f!==null?f+"Capture":null:f;E=[];for(var m=u,y;m!==null;){y=m;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=Na(m,g),_!=null&&E.push($a(m,_,y)))),S)break;m=m.return}0<E.length&&(f=new p(f,v,null,n,c),d.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Gf&&(v=n.relatedTarget||n.fromElement)&&(bi(v)||v[Cr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?bi(v):null,v!==null&&(S=ns(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(E=s0,_="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(E=a0,_="onPointerLeave",g="onPointerEnter",m="pointer"),S=p==null?f:_s(p),y=v==null?f:_s(v),f=new E(_,m+"leave",p,n,c),f.target=S,f.relatedTarget=y,_=null,bi(c)===u&&(E=new E(g,m+"enter",v,n,c),E.target=y,E.relatedTarget=S,_=E),S=_,p&&v)t:{for(E=p,g=v,m=0,y=E;y;y=us(y))m++;for(y=0,_=g;_;_=us(_))y++;for(;0<m-y;)E=us(E),m--;for(;0<y-m;)g=us(g),y--;for(;m--;){if(E===g||g!==null&&E===g.alternate)break t;E=us(E),g=us(g)}E=null}else E=null;p!==null&&y0(d,f,p,E,!1),v!==null&&S!==null&&y0(d,S,v,E,!0)}}e:{if(f=u?_s(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=Zb;else if(c0(f))if(nS)C=nN;else{C=eN;var x=Jb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=tN);if(C&&(C=C(t,u))){tS(d,C,n,c);break e}x&&x(t,f,u),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&zf(f,"number",f.value)}switch(x=u?_s(u):window,t){case"focusin":(c0(x)||x.contentEditable==="true")&&(ys=x,ep=u,ca=null);break;case"focusout":ca=ep=ys=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,m0(d,n,c);break;case"selectionchange":if(sN)break;case"keydown":case"keyup":m0(d,n,c)}var T;if(Jm)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else vs?JE(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(ZE&&n.locale!=="ko"&&(vs||k!=="onCompositionStart"?k==="onCompositionEnd"&&vs&&(T=XE()):(Ur=c,Ym="value"in Ur?Ur.value:Ur.textContent,vs=!0)),x=vc(u,k),0<x.length&&(k=new o0(k,t,null,n,c),d.push({event:k,listeners:x}),T?k.data=T:(T=eS(n),T!==null&&(k.data=T)))),(T=Gb?Kb(t,n):Qb(t,n))&&(u=vc(u,"onBeforeInput"),0<u.length&&(c=new o0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}dS(d,e)})}function $a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Na(t,n),s!=null&&r.unshift($a(t,s,i)),s=Na(t,e),s!=null&&r.push($a(t,s,i))),t=t.return}return r}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function y0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Na(n,s),l!=null&&o.unshift($a(n,l,a))):i||(l=Na(n,s),l!=null&&o.push($a(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uN=/\r\n?/g,cN=/\u0000|\uFFFD/g;function w0(t){return(typeof t=="string"?t:""+t).replace(uN,`
`).replace(cN,"")}function xu(t,e,n){if(e=w0(e),w0(t)!==e&&n)throw Error(R(425))}function yc(){}var np=null,rp=null;function ip(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,hN=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,dN=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(t){return _0.resolve(null).then(t).catch(fN)}:sp;function fN(t){setTimeout(function(){throw t})}function Vd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ma(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ma(e)}function Gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function E0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Gn="__reactFiber$"+fo,Fa="__reactProps$"+fo,Cr="__reactContainer$"+fo,op="__reactEvents$"+fo,pN="__reactListeners$"+fo,mN="__reactHandles$"+fo;function bi(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=E0(t);t!==null;){if(n=t[Gn])return n;t=E0(t)}return e}t=n,n=t.parentNode}return null}function ml(t){return t=t[Gn]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Lh(t){return t[Fa]||null}var ap=[],Es=-1;function mi(t){return{current:t}}function je(t){0>Es||(t.current=ap[Es],ap[Es]=null,Es--)}function Me(t,e){Es++,ap[Es]=t.current,t.current=e}var oi={},zt=mi(oi),en=mi(!1),zi=oi;function Ws(t,e){var n=t.type.contextTypes;if(!n)return oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function wc(){je(en),je(zt)}function S0(t,e,n){if(zt.current!==oi)throw Error(R(168));Me(zt,e),Me(en,n)}function pS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,JI(t)||"Unknown",i));return qe({},n,r)}function _c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oi,zi=zt.current,Me(zt,t),Me(en,en.current),!0}function C0(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=pS(t,e,zi),r.__reactInternalMemoizedMergedChildContext=t,je(en),je(zt),Me(zt,t)):je(en),Me(en,n)}var ur=null,kh=!1,Wd=!1;function mS(t){ur===null?ur=[t]:ur.push(t)}function gN(t){kh=!0,mS(t)}function gi(){if(!Wd&&ur!==null){Wd=!0;var t=0,e=Ie;try{var n=ur;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ur=null,kh=!1}catch(i){throw ur!==null&&(ur=ur.slice(t+1)),UE(qm,gi),i}finally{Ie=e,Wd=!1}}return null}var Ss=[],Cs=0,Ec=null,Sc=0,vn=[],yn=0,Vi=null,dr=1,fr="";function xi(t,e){Ss[Cs++]=Sc,Ss[Cs++]=Ec,Ec=t,Sc=e}function gS(t,e,n){vn[yn++]=dr,vn[yn++]=fr,vn[yn++]=Vi,Vi=t;var r=dr;t=fr;var i=32-$n(r)-1;r&=~(1<<i),n+=1;var s=32-$n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dr=1<<32-$n(e)+i|n<<i|r,fr=s+t}else dr=1<<s|n<<i|r,fr=t}function tg(t){t.return!==null&&(xi(t,1),gS(t,1,0))}function ng(t){for(;t===Ec;)Ec=Ss[--Cs],Ss[Cs]=null,Sc=Ss[--Cs],Ss[Cs]=null;for(;t===Vi;)Vi=vn[--yn],vn[yn]=null,fr=vn[--yn],vn[yn]=null,dr=vn[--yn],vn[yn]=null}var cn=null,ln=null,ze=!1,Rn=null;function vS(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function x0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,ln=Gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vi!==null?{id:dr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cn=t,ln=null,!0):!1;default:return!1}}function lp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function up(t){if(ze){var e=ln;if(e){var n=e;if(!x0(t,e)){if(lp(t))throw Error(R(418));e=Gr(n.nextSibling);var r=cn;e&&x0(t,e)?vS(r,n):(t.flags=t.flags&-4097|2,ze=!1,cn=t)}}else{if(lp(t))throw Error(R(418));t.flags=t.flags&-4097|2,ze=!1,cn=t}}}function L0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function Lu(t){if(t!==cn)return!1;if(!ze)return L0(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ip(t.type,t.memoizedProps)),e&&(e=ln)){if(lp(t))throw yS(),Error(R(418));for(;e;)vS(t,e),e=Gr(e.nextSibling)}if(L0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=Gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=cn?Gr(t.stateNode.nextSibling):null;return!0}function yS(){for(var t=ln;t;)t=Gr(t.nextSibling)}function Hs(){ln=cn=null,ze=!1}function rg(t){Rn===null?Rn=[t]:Rn.push(t)}var vN=Pr.ReactCurrentBatchConfig;function Nn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Cc=mi(null),xc=null,xs=null,ig=null;function sg(){ig=xs=xc=null}function og(t){var e=Cc.current;je(Cc),t._currentValue=e}function cp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ds(t,e){xc=t,ig=xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(ig!==t)if(t={context:t,memoizedValue:e,next:null},xs===null){if(xc===null)throw Error(R(308));xs=t,xc.dependencies={lanes:0,firstContext:t}}else xs=xs.next=t;return e}var Ni=null;function ag(t){Ni===null?Ni=[t]:Ni.push(t)}function wS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ag(e)):(n.next=i.next,i.next=n),e.interleaved=n,xr(t,r)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Or=!1;function lg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _S(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xr(t,n)}return i=r.interleaved,i===null?(e.next=e,ag(r)):(e.next=i.next,i.next=e),r.interleaved=e,xr(t,n)}function Xu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gm(t,n)}}function k0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lc(t,e,n,r){var i=t.updateQueue;Or=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,E=a;switch(f=e,p=n,E.tag){case 1:if(v=E.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=qe({},d,f);break e;case 2:Or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hi|=o,t.lanes=o,t.memoizedState=d}}function T0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var ES=new wE.Component().refs;function hp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Th={isMounted:function(t){return(t=t._reactInternals)?ns(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Yr(t),s=vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Kr(t,s,i),e!==null&&(Fn(e,t,i,r),Xu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Yr(t),s=vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Kr(t,s,i),e!==null&&(Fn(e,t,i,r),Xu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=Yr(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Kr(t,i,r),e!==null&&(Fn(e,t,r,n),Xu(e,t,r))}};function I0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Aa(n,r)||!Aa(i,s):!0}function SS(t,e,n){var r=!1,i=oi,s=e.contextType;return typeof s=="object"&&s!==null?s=Cn(s):(i=tn(e)?zi:zt.current,r=e.contextTypes,s=(r=r!=null)?Ws(t,i):oi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Th,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function b0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Th.enqueueReplaceState(e,e.state,null)}function dp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ES,lg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cn(s):(s=tn(e)?zi:zt.current,i.context=Ws(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Th.enqueueReplaceState(i,i.state,null),Lc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===ES&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function ku(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N0(t){var e=t._init;return e(t._payload)}function CS(t){function e(g,m){if(t){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Xr(g,m),g.index=0,g.sibling=null,g}function s(g,m,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,y,_){return m===null||m.tag!==6?(m=Xd(y,g.mode,_),m.return=g,m):(m=i(m,y),m.return=g,m)}function l(g,m,y,_){var C=y.type;return C===gs?c(g,m,y.props.children,_,y.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ar&&N0(C)===m.type)?(_=i(m,y.props),_.ref=Oo(g,m,y),_.return=g,_):(_=rc(y.type,y.key,y.props,null,g.mode,_),_.ref=Oo(g,m,y),_.return=g,_)}function u(g,m,y,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Zd(y,g.mode,_),m.return=g,m):(m=i(m,y.children||[]),m.return=g,m)}function c(g,m,y,_,C){return m===null||m.tag!==7?(m=ji(y,g.mode,_,C),m.return=g,m):(m=i(m,y),m.return=g,m)}function d(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Xd(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case mu:return y=rc(m.type,m.key,m.props,null,g.mode,y),y.ref=Oo(g,null,m),y.return=g,y;case ms:return m=Zd(m,g.mode,y),m.return=g,m;case Ar:var _=m._init;return d(g,_(m._payload),y)}if(Qo(m)||Po(m))return m=ji(m,g.mode,y,null),m.return=g,m;ku(g,m)}return null}function f(g,m,y,_){var C=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(g,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mu:return y.key===C?l(g,m,y,_):null;case ms:return y.key===C?u(g,m,y,_):null;case Ar:return C=y._init,f(g,m,C(y._payload),_)}if(Qo(y)||Po(y))return C!==null?null:c(g,m,y,_,null);ku(g,y)}return null}function p(g,m,y,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,a(m,g,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mu:return g=g.get(_.key===null?y:_.key)||null,l(m,g,_,C);case ms:return g=g.get(_.key===null?y:_.key)||null,u(m,g,_,C);case Ar:var x=_._init;return p(g,m,y,x(_._payload),C)}if(Qo(_)||Po(_))return g=g.get(y)||null,c(m,g,_,C,null);ku(m,_)}return null}function v(g,m,y,_){for(var C=null,x=null,T=m,k=m=0,L=null;T!==null&&k<y.length;k++){T.index>k?(L=T,T=null):L=T.sibling;var I=f(g,T,y[k],_);if(I===null){T===null&&(T=L);break}t&&T&&I.alternate===null&&e(g,T),m=s(I,m,k),x===null?C=I:x.sibling=I,x=I,T=L}if(k===y.length)return n(g,T),ze&&xi(g,k),C;if(T===null){for(;k<y.length;k++)T=d(g,y[k],_),T!==null&&(m=s(T,m,k),x===null?C=T:x.sibling=T,x=T);return ze&&xi(g,k),C}for(T=r(g,T);k<y.length;k++)L=p(T,g,k,y[k],_),L!==null&&(t&&L.alternate!==null&&T.delete(L.key===null?k:L.key),m=s(L,m,k),x===null?C=L:x.sibling=L,x=L);return t&&T.forEach(function(D){return e(g,D)}),ze&&xi(g,k),C}function E(g,m,y,_){var C=Po(y);if(typeof C!="function")throw Error(R(150));if(y=C.call(y),y==null)throw Error(R(151));for(var x=C=null,T=m,k=m=0,L=null,I=y.next();T!==null&&!I.done;k++,I=y.next()){T.index>k?(L=T,T=null):L=T.sibling;var D=f(g,T,I.value,_);if(D===null){T===null&&(T=L);break}t&&T&&D.alternate===null&&e(g,T),m=s(D,m,k),x===null?C=D:x.sibling=D,x=D,T=L}if(I.done)return n(g,T),ze&&xi(g,k),C;if(T===null){for(;!I.done;k++,I=y.next())I=d(g,I.value,_),I!==null&&(m=s(I,m,k),x===null?C=I:x.sibling=I,x=I);return ze&&xi(g,k),C}for(T=r(g,T);!I.done;k++,I=y.next())I=p(T,g,k,I.value,_),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?k:I.key),m=s(I,m,k),x===null?C=I:x.sibling=I,x=I);return t&&T.forEach(function(q){return e(g,q)}),ze&&xi(g,k),C}function S(g,m,y,_){if(typeof y=="object"&&y!==null&&y.type===gs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case mu:e:{for(var C=y.key,x=m;x!==null;){if(x.key===C){if(C=y.type,C===gs){if(x.tag===7){n(g,x.sibling),m=i(x,y.props.children),m.return=g,g=m;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ar&&N0(C)===x.type){n(g,x.sibling),m=i(x,y.props),m.ref=Oo(g,x,y),m.return=g,g=m;break e}n(g,x);break}else e(g,x);x=x.sibling}y.type===gs?(m=ji(y.props.children,g.mode,_,y.key),m.return=g,g=m):(_=rc(y.type,y.key,y.props,null,g.mode,_),_.ref=Oo(g,m,y),_.return=g,g=_)}return o(g);case ms:e:{for(x=y.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(g,m.sibling),m=i(m,y.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Zd(y,g.mode,_),m.return=g,g=m}return o(g);case Ar:return x=y._init,S(g,m,x(y._payload),_)}if(Qo(y))return v(g,m,y,_);if(Po(y))return E(g,m,y,_);ku(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,y),m.return=g,g=m):(n(g,m),m=Xd(y,g.mode,_),m.return=g,g=m),o(g)):n(g,m)}return S}var qs=CS(!0),xS=CS(!1),gl={},tr=mi(gl),ja=mi(gl),Ua=mi(gl);function Pi(t){if(t===gl)throw Error(R(174));return t}function ug(t,e){switch(Me(Ua,e),Me(ja,t),Me(tr,gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wf(e,t)}je(tr),Me(tr,e)}function Gs(){je(tr),je(ja),je(Ua)}function LS(t){Pi(Ua.current);var e=Pi(tr.current),n=Wf(e,t.type);e!==n&&(Me(ja,t),Me(tr,n))}function cg(t){ja.current===t&&(je(tr),je(ja))}var We=mi(0);function kc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hd=[];function hg(){for(var t=0;t<Hd.length;t++)Hd[t]._workInProgressVersionPrimary=null;Hd.length=0}var Zu=Pr.ReactCurrentDispatcher,qd=Pr.ReactCurrentBatchConfig,Wi=0,He=null,st=null,dt=null,Tc=!1,ha=!1,Ba=0,yN=0;function Tt(){throw Error(R(321))}function dg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function fg(t,e,n,r,i,s){if(Wi=s,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zu.current=t===null||t.memoizedState===null?SN:CN,t=n(r,i),ha){s=0;do{if(ha=!1,Ba=0,25<=s)throw Error(R(301));s+=1,dt=st=null,e.updateQueue=null,Zu.current=xN,t=n(r,i)}while(ha)}if(Zu.current=Ic,e=st!==null&&st.next!==null,Wi=0,dt=st=He=null,Tc=!1,e)throw Error(R(300));return t}function pg(){var t=Ba!==0;return Ba=0,t}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?He.memoizedState=dt=t:dt=dt.next=t,dt}function xn(){if(st===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=dt===null?He.memoizedState:dt.next;if(e!==null)dt=e,st=t;else{if(t===null)throw Error(R(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},dt===null?He.memoizedState=dt=t:dt=dt.next=t}return dt}function za(t,e){return typeof e=="function"?e(t):e}function Gd(t){var e=xn(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Wi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,He.lanes|=c,Hi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Un(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,He.lanes|=s,Hi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kd(t){var e=xn(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Un(s,e.memoizedState)||(Zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kS(){}function TS(t,e){var n=He,r=xn(),i=e(),s=!Un(r.memoizedState,i);if(s&&(r.memoizedState=i,Zt=!0),r=r.queue,mg(NS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Va(9,bS.bind(null,n,r,i,e),void 0,null),mt===null)throw Error(R(349));Wi&30||IS(n,e,i)}return i}function IS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bS(t,e,n,r){e.value=n,e.getSnapshot=r,PS(e)&&RS(t)}function NS(t,e,n){return n(function(){PS(e)&&RS(t)})}function PS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function RS(t){var e=xr(t,1);e!==null&&Fn(e,t,1,-1)}function P0(t){var e=qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:t},e.queue=t,t=t.dispatch=EN.bind(null,He,t),[e.memoizedState,t]}function Va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function MS(){return xn().memoizedState}function Ju(t,e,n,r){var i=qn();He.flags|=t,i.memoizedState=Va(1|e,n,void 0,r===void 0?null:r)}function Ih(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&dg(r,o.deps)){i.memoizedState=Va(e,n,s,r);return}}He.flags|=t,i.memoizedState=Va(1|e,n,s,r)}function R0(t,e){return Ju(8390656,8,t,e)}function mg(t,e){return Ih(2048,8,t,e)}function DS(t,e){return Ih(4,2,t,e)}function AS(t,e){return Ih(4,4,t,e)}function OS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $S(t,e,n){return n=n!=null?n.concat([t]):null,Ih(4,4,OS.bind(null,e,t),n)}function gg(){}function FS(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jS(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function US(t,e,n){return Wi&21?(Un(n,e)||(n=VE(),He.lanes|=n,Hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function wN(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=qd.transition;qd.transition={};try{t(!1),e()}finally{Ie=n,qd.transition=r}}function BS(){return xn().memoizedState}function _N(t,e,n){var r=Yr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zS(t))VS(e,n);else if(n=wS(t,e,n,r),n!==null){var i=Gt();Fn(n,t,r,i),WS(n,e,r)}}function EN(t,e,n){var r=Yr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zS(t))VS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Un(a,o)){var l=e.interleaved;l===null?(i.next=i,ag(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=wS(t,e,i,r),n!==null&&(i=Gt(),Fn(n,t,r,i),WS(n,e,r))}}function zS(t){var e=t.alternate;return t===He||e!==null&&e===He}function VS(t,e){ha=Tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gm(t,n)}}var Ic={readContext:Cn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},SN={readContext:Cn,useCallback:function(t,e){return qn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:R0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4194308,4,OS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ju(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ju(4,2,t,e)},useMemo:function(t,e){var n=qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_N.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=qn();return t={current:t},e.memoizedState=t},useState:P0,useDebugValue:gg,useDeferredValue:function(t){return qn().memoizedState=t},useTransition:function(){var t=P0(!1),e=t[0];return t=wN.bind(null,t[1]),qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=qn();if(ze){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),mt===null)throw Error(R(349));Wi&30||IS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,R0(NS.bind(null,r,s,t),[t]),r.flags|=2048,Va(9,bS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=qn(),e=mt.identifierPrefix;if(ze){var n=fr,r=dr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ba++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CN={readContext:Cn,useCallback:FS,useContext:Cn,useEffect:mg,useImperativeHandle:$S,useInsertionEffect:DS,useLayoutEffect:AS,useMemo:jS,useReducer:Gd,useRef:MS,useState:function(){return Gd(za)},useDebugValue:gg,useDeferredValue:function(t){var e=xn();return US(e,st.memoizedState,t)},useTransition:function(){var t=Gd(za)[0],e=xn().memoizedState;return[t,e]},useMutableSource:kS,useSyncExternalStore:TS,useId:BS,unstable_isNewReconciler:!1},xN={readContext:Cn,useCallback:FS,useContext:Cn,useEffect:mg,useImperativeHandle:$S,useInsertionEffect:DS,useLayoutEffect:AS,useMemo:jS,useReducer:Kd,useRef:MS,useState:function(){return Kd(za)},useDebugValue:gg,useDeferredValue:function(t){var e=xn();return st===null?e.memoizedState=t:US(e,st.memoizedState,t)},useTransition:function(){var t=Kd(za)[0],e=xn().memoizedState;return[t,e]},useMutableSource:kS,useSyncExternalStore:TS,useId:BS,unstable_isNewReconciler:!1};function Ks(t,e){try{var n="",r=e;do n+=ZI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LN=typeof WeakMap=="function"?WeakMap:Map;function HS(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nc||(Nc=!0,Cp=r),fp(t,e)},n}function qS(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fp(t,e),typeof r!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function M0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jN.bind(null,t,e,n),e.then(t,t))}function D0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function A0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,Kr(n,e,1))),n.lanes|=1),t)}var kN=Pr.ReactCurrentOwner,Zt=!1;function Ht(t,e,n,r){e.child=t===null?xS(e,null,n,r):qs(e,t.child,n,r)}function O0(t,e,n,r,i){n=n.render;var s=e.ref;return Ds(e,i),r=fg(t,e,n,r,s,i),n=pg(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lr(t,e,i)):(ze&&n&&tg(e),e.flags|=1,Ht(t,e,r,i),e.child)}function $0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,GS(t,e,s,r,i)):(t=rc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Aa,n(o,r)&&t.ref===e.ref)return Lr(t,e,i)}return e.flags|=1,t=Xr(s,r),t.ref=e.ref,t.return=e,e.child=t}function GS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Aa(s,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,Lr(t,e,i)}return pp(t,e,n,r,i)}function KS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(ks,on),on|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(ks,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(ks,on),on|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me(ks,on),on|=r;return Ht(t,e,i,n),e.child}function QS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pp(t,e,n,r,i){var s=tn(n)?zi:zt.current;return s=Ws(e,s),Ds(e,i),n=fg(t,e,n,r,s,i),r=pg(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lr(t,e,i)):(ze&&r&&tg(e),e.flags|=1,Ht(t,e,n,i),e.child)}function F0(t,e,n,r,i){if(tn(n)){var s=!0;_c(e)}else s=!1;if(Ds(e,i),e.stateNode===null)ec(t,e),SS(e,n,r),dp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cn(u):(u=tn(n)?zi:zt.current,u=Ws(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&b0(e,o,r,u),Or=!1;var f=e.memoizedState;o.state=f,Lc(e,r,o,i),l=e.memoizedState,a!==r||f!==l||en.current||Or?(typeof c=="function"&&(hp(e,n,c,r),l=e.memoizedState),(a=Or||I0(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_S(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Nn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=tn(n)?zi:zt.current,l=Ws(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&b0(e,o,r,l),Or=!1,f=e.memoizedState,o.state=f,Lc(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||en.current||Or?(typeof p=="function"&&(hp(e,n,p,r),v=e.memoizedState),(u=Or||I0(e,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mp(t,e,n,r,s,i)}function mp(t,e,n,r,i,s){QS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&C0(e,n,!1),Lr(t,e,s);r=e.stateNode,kN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qs(e,t.child,null,s),e.child=qs(e,null,a,s)):Ht(t,e,a,s),e.memoizedState=r.state,i&&C0(e,n,!0),e.child}function YS(t){var e=t.stateNode;e.pendingContext?S0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S0(t,e.context,!1),ug(t,e.containerInfo)}function j0(t,e,n,r,i){return Hs(),rg(i),e.flags|=256,Ht(t,e,n,r),e.child}var gp={dehydrated:null,treeContext:null,retryLane:0};function vp(t){return{baseLanes:t,cachePool:null,transitions:null}}function XS(t,e,n){var r=e.pendingProps,i=We.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(We,i&1),t===null)return up(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ph(o,r,0,null),t=ji(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vp(n),e.memoizedState=gp,t):vg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return TN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xr(a,s):(s=ji(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?vp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gp,r}return s=t.child,t=s.sibling,r=Xr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vg(t,e){return e=Ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tu(t,e,n,r){return r!==null&&rg(r),qs(e,t.child,null,n),t=vg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qd(Error(R(422))),Tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ph({mode:"visible",children:r.children},i,0,null),s=ji(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qs(e,t.child,null,o),e.child.memoizedState=vp(o),e.memoizedState=gp,s);if(!(e.mode&1))return Tu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(R(419)),r=Qd(s,r,void 0),Tu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zt||a){if(r=mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xr(t,i),Fn(r,t,i,-1))}return Cg(),r=Qd(Error(R(421))),Tu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ln=Gr(i.nextSibling),cn=e,ze=!0,Rn=null,t!==null&&(vn[yn++]=dr,vn[yn++]=fr,vn[yn++]=Vi,dr=t.id,fr=t.overflow,Vi=e),e=vg(e,r.children),e.flags|=4096,e)}function U0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cp(t.return,e,n)}function Yd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ZS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ht(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U0(t,n,e);else if(t.tag===19)U0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yd(e,!0,n,null,s);break;case"together":Yd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IN(t,e,n){switch(e.tag){case 3:YS(e),Hs();break;case 5:LS(e);break;case 1:tn(e.type)&&_c(e);break;case 4:ug(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(Cc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?XS(t,e,n):(Me(We,We.current&1),t=Lr(t,e,n),t!==null?t.sibling:null);Me(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,KS(t,e,n)}return Lr(t,e,n)}var JS,yp,eC,tC;JS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yp=function(){};eC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Pi(tr.current);var s=null;switch(n){case"input":i=Uf(t,i),r=Uf(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=Vf(t,i),r=Vf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yc)}Hf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ia.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ia.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tC=function(t,e,n,r){n!==r&&(e.flags|=4)};function $o(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bN(t,e,n){var r=e.pendingProps;switch(ng(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return tn(e.type)&&wc(),It(e),null;case 3:return r=e.stateNode,Gs(),je(en),je(zt),hg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(kp(Rn),Rn=null))),yp(t,e),It(e),null;case 5:cg(e);var i=Pi(Ua.current);if(n=e.type,t!==null&&e.stateNode!=null)eC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return It(e),null}if(t=Pi(tr.current),Lu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gn]=e,r[Fa]=s,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<Xo.length;i++)De(Xo[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Qy(r,s),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},De("invalid",r);break;case"textarea":Xy(r,s),De("invalid",r)}Hf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&xu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xu(r.textContent,a,t),i=["children",""+a]):Ia.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":gu(r),Yy(r,s,!0);break;case"textarea":gu(r),Zy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[Fa]=r,JS(t,e,!1,!1),e.stateNode=t;e:{switch(o=qf(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xo.length;i++)De(Xo[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":Qy(t,r),i=Uf(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),De("invalid",t);break;case"textarea":Xy(t,r),i=Vf(t,r),De("invalid",t);break;default:i=r}Hf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?PE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ba(t,l):typeof l=="number"&&ba(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ia.hasOwnProperty(s)?l!=null&&s==="onScroll"&&De("scroll",t):l!=null&&Bm(t,s,l,o))}switch(n){case"input":gu(t),Yy(t,r,!1);break;case"textarea":gu(t),Zy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+si(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ns(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ns(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)tC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=Pi(Ua.current),Pi(tr.current),Lu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(s=r.nodeValue!==n)&&(t=cn,t!==null))switch(t.tag){case 3:xu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return It(e),null;case 13:if(je(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&ln!==null&&e.mode&1&&!(e.flags&128))yS(),Hs(),e.flags|=98560,s=!1;else if(s=Lu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[Gn]=e}else Hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),s=!1}else Rn!==null&&(kp(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?ot===0&&(ot=3):Cg())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return Gs(),yp(t,e),t===null&&Oa(e.stateNode.containerInfo),It(e),null;case 10:return og(e.type._context),It(e),null;case 17:return tn(e.type)&&wc(),It(e),null;case 19:if(je(We),s=e.memoizedState,s===null)return It(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)$o(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kc(t),o!==null){for(e.flags|=128,$o(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>Qs&&(e.flags|=128,r=!0,$o(s,!1),e.lanes=4194304)}else{if(!r)if(t=kc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$o(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ze)return It(e),null}else 2*Ye()-s.renderingStartTime>Qs&&n!==1073741824&&(e.flags|=128,r=!0,$o(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=We.current,Me(We,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return Sg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function NN(t,e){switch(ng(e),e.tag){case 1:return tn(e.type)&&wc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gs(),je(en),je(zt),hg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cg(e),null;case 13:if(je(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(We),null;case 4:return Gs(),null;case 10:return og(e.type._context),null;case 22:case 23:return Sg(),null;case 24:return null;default:return null}}var Iu=!1,Mt=!1,PN=typeof WeakSet=="function"?WeakSet:Set,U=null;function Ls(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function wp(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var B0=!1;function RN(t,e){if(np=mc,t=sS(),eg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rp={focusedElem:t,selectionRange:n},mc=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var E=v.memoizedProps,S=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?E:Nn(e.type,E),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(_){Ke(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return v=B0,B0=!1,v}function da(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wp(e,n,s)}i=i.next}while(i!==r)}}function bh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _p(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nC(t){var e=t.alternate;e!==null&&(t.alternate=null,nC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[Fa],delete e[op],delete e[pN],delete e[mN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rC(t){return t.tag===5||t.tag===3||t.tag===4}function z0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yc));else if(r!==4&&(t=t.child,t!==null))for(Ep(t,e,n),t=t.sibling;t!==null;)Ep(t,e,n),t=t.sibling}function Sp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sp(t,e,n),t=t.sibling;t!==null;)Sp(t,e,n),t=t.sibling}var wt=null,Pn=!1;function Mr(t,e,n){for(n=n.child;n!==null;)iC(t,e,n),n=n.sibling}function iC(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Eh,n)}catch{}switch(n.tag){case 5:Mt||Ls(n,e);case 6:var r=wt,i=Pn;wt=null,Mr(t,e,n),wt=r,Pn=i,wt!==null&&(Pn?(t=wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(Pn?(t=wt,n=n.stateNode,t.nodeType===8?Vd(t.parentNode,n):t.nodeType===1&&Vd(t,n),Ma(t)):Vd(wt,n.stateNode));break;case 4:r=wt,i=Pn,wt=n.stateNode.containerInfo,Pn=!0,Mr(t,e,n),wt=r,Pn=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wp(n,e,o),i=i.next}while(i!==r)}Mr(t,e,n);break;case 1:if(!Mt&&(Ls(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}Mr(t,e,n);break;case 21:Mr(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Mr(t,e,n),Mt=r):Mr(t,e,n);break;default:Mr(t,e,n)}}function V0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PN),e.forEach(function(r){var i=BN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,Pn=!1;break e;case 3:wt=a.stateNode.containerInfo,Pn=!0;break e;case 4:wt=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(wt===null)throw Error(R(160));iC(s,o,i),wt=null,Pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sC(e,t),e=e.sibling}function sC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Hn(t),r&4){try{da(3,t,t.return),bh(3,t)}catch(E){Ke(t,t.return,E)}try{da(5,t,t.return)}catch(E){Ke(t,t.return,E)}}break;case 1:Tn(e,t),Hn(t),r&512&&n!==null&&Ls(n,n.return);break;case 5:if(Tn(e,t),Hn(t),r&512&&n!==null&&Ls(n,n.return),t.flags&32){var i=t.stateNode;try{ba(i,"")}catch(E){Ke(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kE(i,s),qf(a,o);var u=qf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?PE(i,d):c==="dangerouslySetInnerHTML"?bE(i,d):c==="children"?ba(i,d):Bm(i,c,d,u)}switch(a){case"input":Bf(i,s);break;case"textarea":TE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ns(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ns(i,!!s.multiple,s.defaultValue,!0):Ns(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fa]=s}catch(E){Ke(t,t.return,E)}}break;case 6:if(Tn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Ke(t,t.return,E)}}break;case 3:if(Tn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ma(e.containerInfo)}catch(E){Ke(t,t.return,E)}break;case 4:Tn(e,t),Hn(t);break;case 13:Tn(e,t),Hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_g=Ye())),r&4&&V0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(u=Mt)||c,Tn(e,t),Mt=u):Tn(e,t),Hn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(U=t,c=t.child;c!==null;){for(d=U=c;U!==null;){switch(f=U,p=f.child,f.tag){case 0:case 11:case 14:case 15:da(4,f,f.return);break;case 1:Ls(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(E){Ke(r,n,E)}}break;case 5:Ls(f,f.return);break;case 22:if(f.memoizedState!==null){H0(d);continue}}p!==null?(p.return=f,U=p):H0(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=NE("display",o))}catch(E){Ke(t,t.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){Ke(t,t.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tn(e,t),Hn(t),r&4&&V0(t);break;case 21:break;default:Tn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rC(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ba(i,""),r.flags&=-33);var s=z0(t);Sp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=z0(t);Ep(t,a,o);break;default:throw Error(R(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MN(t,e,n){U=t,oC(t)}function oC(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var i=U,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Iu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Mt;a=Iu;var u=Mt;if(Iu=o,(Mt=l)&&!u)for(U=i;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?q0(i):l!==null?(l.return=o,U=l):q0(i);for(;s!==null;)U=s,oC(s),s=s.sibling;U=i,Iu=a,Mt=u}W0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,U=s):W0(t)}}function W0(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||bh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&T0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}T0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ma(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Mt||e.flags&512&&_p(e)}catch(f){Ke(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function H0(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function q0(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bh(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{_p(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{_p(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var DN=Math.ceil,bc=Pr.ReactCurrentDispatcher,yg=Pr.ReactCurrentOwner,Sn=Pr.ReactCurrentBatchConfig,Ee=0,mt=null,tt=null,xt=0,on=0,ks=mi(0),ot=0,Wa=null,Hi=0,Nh=0,wg=0,fa=null,Yt=null,_g=0,Qs=1/0,lr=null,Nc=!1,Cp=null,Qr=null,bu=!1,Br=null,Pc=0,pa=0,xp=null,tc=-1,nc=0;function Gt(){return Ee&6?Ye():tc!==-1?tc:tc=Ye()}function Yr(t){return t.mode&1?Ee&2&&xt!==0?xt&-xt:vN.transition!==null?(nc===0&&(nc=VE()),nc):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:YE(t.type)),t):1}function Fn(t,e,n,r){if(50<pa)throw pa=0,xp=null,Error(R(185));fl(t,n,r),(!(Ee&2)||t!==mt)&&(t===mt&&(!(Ee&2)&&(Nh|=n),ot===4&&Fr(t,xt)),nn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(Qs=Ye()+500,kh&&gi()))}function nn(t,e){var n=t.callbackNode;vb(t,e);var r=pc(t,t===mt?xt:0);if(r===0)n!==null&&t0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&t0(n),e===1)t.tag===0?gN(G0.bind(null,t)):mS(G0.bind(null,t)),dN(function(){!(Ee&6)&&gi()}),n=null;else{switch(WE(r)){case 1:n=qm;break;case 4:n=BE;break;case 16:n=fc;break;case 536870912:n=zE;break;default:n=fc}n=pC(n,aC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aC(t,e){if(tc=-1,nc=0,Ee&6)throw Error(R(327));var n=t.callbackNode;if(As()&&t.callbackNode!==n)return null;var r=pc(t,t===mt?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rc(t,r);else{e=r;var i=Ee;Ee|=2;var s=uC();(mt!==t||xt!==e)&&(lr=null,Qs=Ye()+500,Fi(t,e));do try{$N();break}catch(a){lC(t,a)}while(1);sg(),bc.current=s,Ee=i,tt!==null?e=0:(mt=null,xt=0,e=ot)}if(e!==0){if(e===2&&(i=Xf(t),i!==0&&(r=i,e=Lp(t,i))),e===1)throw n=Wa,Fi(t,0),Fr(t,r),nn(t,Ye()),n;if(e===6)Fr(t,r);else{if(i=t.current.alternate,!(r&30)&&!AN(i)&&(e=Rc(t,r),e===2&&(s=Xf(t),s!==0&&(r=s,e=Lp(t,s))),e===1))throw n=Wa,Fi(t,0),Fr(t,r),nn(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Li(t,Yt,lr);break;case 3:if(Fr(t,r),(r&130023424)===r&&(e=_g+500-Ye(),10<e)){if(pc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sp(Li.bind(null,t,Yt,lr),e);break}Li(t,Yt,lr);break;case 4:if(Fr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DN(r/1960))-r,10<r){t.timeoutHandle=sp(Li.bind(null,t,Yt,lr),r);break}Li(t,Yt,lr);break;case 5:Li(t,Yt,lr);break;default:throw Error(R(329))}}}return nn(t,Ye()),t.callbackNode===n?aC.bind(null,t):null}function Lp(t,e){var n=fa;return t.current.memoizedState.isDehydrated&&(Fi(t,e).flags|=256),t=Rc(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&kp(e)),t}function kp(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function AN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Un(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fr(t,e){for(e&=~wg,e&=~Nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function G0(t){if(Ee&6)throw Error(R(327));As();var e=pc(t,0);if(!(e&1))return nn(t,Ye()),null;var n=Rc(t,e);if(t.tag!==0&&n===2){var r=Xf(t);r!==0&&(e=r,n=Lp(t,r))}if(n===1)throw n=Wa,Fi(t,0),Fr(t,e),nn(t,Ye()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,Yt,lr),nn(t,Ye()),null}function Eg(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(Qs=Ye()+500,kh&&gi())}}function qi(t){Br!==null&&Br.tag===0&&!(Ee&6)&&As();var e=Ee;Ee|=1;var n=Sn.transition,r=Ie;try{if(Sn.transition=null,Ie=1,t)return t()}finally{Ie=r,Sn.transition=n,Ee=e,!(Ee&6)&&gi()}}function Sg(){on=ks.current,je(ks)}function Fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hN(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(ng(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wc();break;case 3:Gs(),je(en),je(zt),hg();break;case 5:cg(r);break;case 4:Gs();break;case 13:je(We);break;case 19:je(We);break;case 10:og(r.type._context);break;case 22:case 23:Sg()}n=n.return}if(mt=t,tt=t=Xr(t.current,null),xt=on=e,ot=0,Wa=null,wg=Nh=Hi=0,Yt=fa=null,Ni!==null){for(e=0;e<Ni.length;e++)if(n=Ni[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ni=null}return t}function lC(t,e){do{var n=tt;try{if(sg(),Zu.current=Ic,Tc){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tc=!1}if(Wi=0,dt=st=He=null,ha=!1,Ba=0,yg.current=null,n===null||n.return===null){ot=1,Wa=e,tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=D0(o);if(p!==null){p.flags&=-257,A0(p,o,a,s,e),p.mode&1&&M0(s,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var E=new Set;E.add(l),e.updateQueue=E}else v.add(l);break e}else{if(!(e&1)){M0(s,u,e),Cg();break e}l=Error(R(426))}}else if(ze&&a.mode&1){var S=D0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),A0(S,o,a,s,e),rg(Ks(l,a));break e}}s=l=Ks(l,a),ot!==4&&(ot=2),fa===null?fa=[s]:fa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=HS(s,l,e);k0(s,g);break e;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qr===null||!Qr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=qS(s,a,e);k0(s,_);break e}}s=s.return}while(s!==null)}hC(n)}catch(C){e=C,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(1)}function uC(){var t=bc.current;return bc.current=Ic,t===null?Ic:t}function Cg(){(ot===0||ot===3||ot===2)&&(ot=4),mt===null||!(Hi&268435455)&&!(Nh&268435455)||Fr(mt,xt)}function Rc(t,e){var n=Ee;Ee|=2;var r=uC();(mt!==t||xt!==e)&&(lr=null,Fi(t,e));do try{ON();break}catch(i){lC(t,i)}while(1);if(sg(),Ee=n,bc.current=r,tt!==null)throw Error(R(261));return mt=null,xt=0,ot}function ON(){for(;tt!==null;)cC(tt)}function $N(){for(;tt!==null&&!lb();)cC(tt)}function cC(t){var e=fC(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?hC(t):tt=e,yg.current=null}function hC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NN(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,tt=null;return}}else if(n=bN(n,e,on),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ot===0&&(ot=5)}function Li(t,e,n){var r=Ie,i=Sn.transition;try{Sn.transition=null,Ie=1,FN(t,e,n,r)}finally{Sn.transition=i,Ie=r}return null}function FN(t,e,n,r){do As();while(Br!==null);if(Ee&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yb(t,s),t===mt&&(tt=mt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bu||(bu=!0,pC(fc,function(){return As(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=Ie;Ie=1;var a=Ee;Ee|=4,yg.current=null,RN(t,n),sC(n,t),iN(rp),mc=!!np,rp=np=null,t.current=n,MN(n),ub(),Ee=a,Ie=o,Sn.transition=s}else t.current=n;if(bu&&(bu=!1,Br=t,Pc=i),s=t.pendingLanes,s===0&&(Qr=null),db(n.stateNode),nn(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nc)throw Nc=!1,t=Cp,Cp=null,t;return Pc&1&&t.tag!==0&&As(),s=t.pendingLanes,s&1?t===xp?pa++:(pa=0,xp=t):pa=0,gi(),null}function As(){if(Br!==null){var t=WE(Pc),e=Sn.transition,n=Ie;try{if(Sn.transition=null,Ie=16>t?16:t,Br===null)var r=!1;else{if(t=Br,Br=null,Pc=0,Ee&6)throw Error(R(331));var i=Ee;for(Ee|=4,U=t.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(U=u;U!==null;){var c=U;switch(c.tag){case 0:case 11:case 15:da(8,c,s)}var d=c.child;if(d!==null)d.return=c,U=d;else for(;U!==null;){c=U;var f=c.sibling,p=c.return;if(nC(c),c===u){U=null;break}if(f!==null){f.return=p,U=f;break}U=p}}}var v=s.alternate;if(v!==null){var E=v.child;if(E!==null){v.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:da(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,U=g;break e}U=s.return}}var m=t.current;for(U=m;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else e:for(o=m;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bh(9,a)}}catch(C){Ke(a,a.return,C)}if(a===o){U=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,U=_;break e}U=a.return}}if(Ee=i,gi(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Eh,t)}catch{}r=!0}return r}finally{Ie=n,Sn.transition=e}}return!1}function K0(t,e,n){e=Ks(n,e),e=HS(t,e,1),t=Kr(t,e,1),e=Gt(),t!==null&&(fl(t,1,e),nn(t,e))}function Ke(t,e,n){if(t.tag===3)K0(t,t,n);else for(;e!==null;){if(e.tag===3){K0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qr===null||!Qr.has(r))){t=Ks(n,t),t=qS(e,t,1),e=Kr(e,t,1),t=Gt(),e!==null&&(fl(e,1,t),nn(e,t));break}}e=e.return}}function jN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(xt&n)===n&&(ot===4||ot===3&&(xt&130023424)===xt&&500>Ye()-_g?Fi(t,0):wg|=n),nn(t,e)}function dC(t,e){e===0&&(t.mode&1?(e=wu,wu<<=1,!(wu&130023424)&&(wu=4194304)):e=1);var n=Gt();t=xr(t,e),t!==null&&(fl(t,e,n),nn(t,n))}function UN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dC(t,n)}function BN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),dC(t,n)}var fC;fC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,IN(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,ze&&e.flags&1048576&&gS(e,Sc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ec(t,e),t=e.pendingProps;var i=Ws(e,zt.current);Ds(e,n),i=fg(null,e,r,t,i,n);var s=pg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(s=!0,_c(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lg(e),i.updater=Th,e.stateNode=i,i._reactInternals=e,dp(e,r,t,n),e=mp(null,e,r,!0,s,n)):(e.tag=0,ze&&s&&tg(e),Ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ec(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VN(r),t=Nn(r,t),i){case 0:e=pp(null,e,r,t,n);break e;case 1:e=F0(null,e,r,t,n);break e;case 11:e=O0(null,e,r,t,n);break e;case 14:e=$0(null,e,r,Nn(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),pp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),F0(t,e,r,i,n);case 3:e:{if(YS(e),t===null)throw Error(R(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_S(t,e),Lc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ks(Error(R(423)),e),e=j0(t,e,r,n,i);break e}else if(r!==i){i=Ks(Error(R(424)),e),e=j0(t,e,r,n,i);break e}else for(ln=Gr(e.stateNode.containerInfo.firstChild),cn=e,ze=!0,Rn=null,n=xS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hs(),r===i){e=Lr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return LS(e),t===null&&up(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ip(r,i)?o=null:s!==null&&ip(r,s)&&(e.flags|=32),QS(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&up(e),null;case 13:return XS(t,e,n);case 4:return ug(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),O0(t,e,r,i,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Me(Cc,r._currentValue),r._currentValue=o,s!==null)if(Un(s.value,o)){if(s.children===i.children&&!en.current){e=Lr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ds(e,n),i=Cn(i),r=r(i),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,i=Nn(r,e.pendingProps),i=Nn(r.type,i),$0(t,e,r,i,n);case 15:return GS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),ec(t,e),e.tag=1,tn(r)?(t=!0,_c(e)):t=!1,Ds(e,n),SS(e,r,i),dp(e,r,i,n),mp(null,e,r,!0,t,n);case 19:return ZS(t,e,n);case 22:return KS(t,e,n)}throw Error(R(156,e.tag))};function pC(t,e){return UE(t,e)}function zN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new zN(t,e,n,r)}function xg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VN(t){if(typeof t=="function")return xg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vm)return 11;if(t===Wm)return 14}return 2}function Xr(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")xg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gs:return ji(n.children,i,s,e);case zm:o=8,i|=8;break;case Of:return t=_n(12,n,e,i|2),t.elementType=Of,t.lanes=s,t;case $f:return t=_n(13,n,e,i),t.elementType=$f,t.lanes=s,t;case Ff:return t=_n(19,n,e,i),t.elementType=Ff,t.lanes=s,t;case CE:return Ph(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EE:o=10;break e;case SE:o=9;break e;case Vm:o=11;break e;case Wm:o=14;break e;case Ar:o=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=_n(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ji(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function Ph(t,e,n,r){return t=_n(22,t,r,e),t.elementType=CE,t.lanes=n,t.stateNode={isHidden:!1},t}function Xd(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function Zd(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rd(0),this.expirationTimes=Rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lg(t,e,n,r,i,s,o,a,l){return t=new WN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lg(s),t}function HN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mC(t){if(!t)return oi;t=t._reactInternals;e:{if(ns(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(tn(n))return pS(t,n,e)}return e}function gC(t,e,n,r,i,s,o,a,l){return t=Lg(n,r,!0,t,i,s,o,a,l),t.context=mC(null),n=t.current,r=Gt(),i=Yr(n),s=vr(r,i),s.callback=e??null,Kr(n,s,i),t.current.lanes=i,fl(t,i,r),nn(t,r),t}function Rh(t,e,n,r){var i=e.current,s=Gt(),o=Yr(i);return n=mC(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kr(i,e,o),t!==null&&(Fn(t,i,o,s),Xu(t,i,o)),o}function Mc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Q0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kg(t,e){Q0(t,e),(t=t.alternate)&&Q0(t,e)}function qN(){return null}var vC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tg(t){this._internalRoot=t}Mh.prototype.render=Tg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Rh(t,e,null,null)};Mh.prototype.unmount=Tg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qi(function(){Rh(null,t,null,null)}),e[Cr]=null}};function Mh(t){this._internalRoot=t}Mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=GE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$r.length&&e!==0&&e<$r[n].priority;n++);$r.splice(n,0,t),n===0&&QE(t)}};function Ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y0(){}function GN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Mc(o);s.call(u)}}var o=gC(e,r,t,0,null,!1,!1,"",Y0);return t._reactRootContainer=o,t[Cr]=o.current,Oa(t.nodeType===8?t.parentNode:t),qi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Mc(l);a.call(u)}}var l=Lg(t,0,!1,null,null,!1,!1,"",Y0);return t._reactRootContainer=l,t[Cr]=l.current,Oa(t.nodeType===8?t.parentNode:t),qi(function(){Rh(e,l,n,r)}),l}function Ah(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Mc(o);a.call(l)}}Rh(e,o,t,i)}else o=GN(n,e,t,i,r);return Mc(o)}HE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yo(e.pendingLanes);n!==0&&(Gm(e,n|1),nn(e,Ye()),!(Ee&6)&&(Qs=Ye()+500,gi()))}break;case 13:qi(function(){var r=xr(t,1);if(r!==null){var i=Gt();Fn(r,t,1,i)}}),kg(t,1)}};Km=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var n=Gt();Fn(e,t,134217728,n)}kg(t,134217728)}};qE=function(t){if(t.tag===13){var e=Yr(t),n=xr(t,e);if(n!==null){var r=Gt();Fn(n,t,e,r)}kg(t,e)}};GE=function(){return Ie};KE=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Kf=function(t,e,n){switch(e){case"input":if(Bf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lh(r);if(!i)throw Error(R(90));LE(r),Bf(r,i)}}}break;case"textarea":TE(t,n);break;case"select":e=n.value,e!=null&&Ns(t,!!n.multiple,e,!1)}};DE=Eg;AE=qi;var KN={usingClientEntryPoint:!1,Events:[ml,_s,Lh,RE,ME,Eg]},Fo={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QN={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FE(t),t===null?null:t.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||qN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Eh=Nu.inject(QN),er=Nu}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KN;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ig(e))throw Error(R(200));return HN(t,e,null,n)};pn.createRoot=function(t,e){if(!Ig(t))throw Error(R(299));var n=!1,r="",i=vC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lg(t,1,!1,null,null,n,!1,r,i),t[Cr]=e.current,Oa(t.nodeType===8?t.parentNode:t),new Tg(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=FE(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return qi(t)};pn.hydrate=function(t,e,n){if(!Dh(e))throw Error(R(200));return Ah(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!Ig(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gC(e,null,t,1,n??null,i,!1,s,o),t[Cr]=e.current,Oa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mh(e)};pn.render=function(t,e,n){if(!Dh(e))throw Error(R(200));return Ah(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!Dh(t))throw Error(R(40));return t._reactRootContainer?(qi(function(){Ah(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};pn.unstable_batchedUpdates=Eg;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dh(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Ah(t,e,n,!1,r)};pn.version="18.2.0-next-9e3b772b8-20220608";function yC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yC)}catch(t){console.error(t)}}yC(),gE.exports=pn;var vi=gE.exports,X0=vi;Df.createRoot=X0.createRoot,Df.hydrateRoot=X0.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ha.apply(this,arguments)}var zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zr||(zr={}));const Z0="popstate";function YN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Tp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dc(i)}return ZN(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XN(){return Math.random().toString(36).substr(2,8)}function J0(t,e){return{usr:t.state,key:t.key,idx:e}}function Tp(t,e,n,r){return n===void 0&&(n=null),Ha({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?po(e):e,{state:n,key:e&&e.key||r||XN()})}function Dc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ha({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=zr.Pop;let S=c(),g=S==null?null:S-u;u=S,l&&l({action:a,location:E.location,delta:g})}function f(S,g){a=zr.Push;let m=Tp(E.location,S,g);n&&n(m,S),u=c()+1;let y=J0(m,u),_=E.createHref(m);try{o.pushState(y,"",_)}catch{i.location.assign(_)}s&&l&&l({action:a,location:E.location,delta:1})}function p(S,g){a=zr.Replace;let m=Tp(E.location,S,g);n&&n(m,S),u=c();let y=J0(m,u),_=E.createHref(m);o.replaceState(y,"",_),s&&l&&l({action:a,location:E.location,delta:0})}function v(S){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof S=="string"?S:Dc(S);return rt(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let E={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Z0,d),l=S,()=>{i.removeEventListener(Z0,d),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let g=v(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(S){return o.go(S)}};return E}var ew;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ew||(ew={}));function JN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?po(e):e,i=Ng(r.pathname||"/",n);if(i==null)return null;let s=wC(t);e2(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=u2(s[a],d2(i));return o}function wC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Zr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wC(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:a2(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _C(s.path))i(s,o,l)}),e}function _C(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_C(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function e2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:l2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t2=/^:\w+$/,n2=3,r2=2,i2=1,s2=10,o2=-2,tw=t=>t==="*";function a2(t,e){let n=t.split("/"),r=n.length;return n.some(tw)&&(r+=o2),e&&(r+=r2),n.filter(i=>!tw(i)).reduce((i,s)=>i+(t2.test(s)?n2:s===""?i2:s2),r)}function l2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function u2(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=c2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Zr([i,c.pathname]),pathnameBase:g2(Zr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Zr([i,c.pathnameBase]))}return s}function c2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=f2(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function h2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d2(t){try{return decodeURI(t)}catch(e){return bg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function f2(t,e){try{return decodeURIComponent(t)}catch(n){return bg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ng(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function p2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?po(t):t;return{pathname:n?n.startsWith("/")?n:m2(n,e):e,search:v2(r),hash:y2(i)}}function m2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=po(t):(i=Ha({},t),rt(!i.pathname||!i.pathname.includes("?"),Jd("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),Jd("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),Jd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=p2(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Zr=t=>t.join("/").replace(/\/\/+/g,"/"),g2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function w2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CC=["post","put","patch","delete"];new Set(CC);const _2=["get",...CC];new Set(_2);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(this,arguments)}const Pg=h.createContext(null),xC=h.createContext(null),rs=h.createContext(null),Oh=h.createContext(null),yi=h.createContext({outlet:null,matches:[],isDataRoute:!1}),LC=h.createContext(null);function E2(t,e){let{relative:n}=e===void 0?{}:e;vl()||rt(!1);let{basename:r,navigator:i}=h.useContext(rs),{hash:s,pathname:o,search:a}=Rg(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function vl(){return h.useContext(Oh)!=null}function yl(){return vl()||rt(!1),h.useContext(Oh).location}function kC(t){h.useContext(rs).static||h.useLayoutEffect(t)}function S2(){let{isDataRoute:t}=h.useContext(yi);return t?O2():C2()}function C2(){vl()||rt(!1);let t=h.useContext(Pg),{basename:e,navigator:n}=h.useContext(rs),{matches:r}=h.useContext(yi),{pathname:i}=yl(),s=JSON.stringify(EC(r).map(l=>l.pathnameBase)),o=h.useRef(!1);return kC(()=>{o.current=!0}),h.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=SC(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Zr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function x2(){let{matches:t}=h.useContext(yi),e=t[t.length-1];return e?e.params:{}}function Rg(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=h.useContext(yi),{pathname:i}=yl(),s=JSON.stringify(EC(r).map(o=>o.pathnameBase));return h.useMemo(()=>SC(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function L2(t,e){return k2(t,e)}function k2(t,e,n){vl()||rt(!1);let{navigator:r}=h.useContext(rs),{matches:i}=h.useContext(yi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=yl(),u;if(e){var c;let E=typeof e=="string"?po(e):e;a==="/"||(c=E.pathname)!=null&&c.startsWith(a)||rt(!1),u=E}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=JN(t,{pathname:f}),v=P2(p&&p.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Zr([a,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?a:Zr([a,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n);return e&&v?h.createElement(Oh.Provider,{value:{location:Ac({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:zr.Pop}},v):v}function T2(){let t=A2(),e=w2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,s)}const I2=h.createElement(T2,null);class b2 extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?h.createElement(yi.Provider,{value:this.props.routeContext},h.createElement(LC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N2(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(Pg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(yi.Provider,{value:e},r)}function P2(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||rt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||I2);let f=e.concat(s.slice(0,u+1)),p=()=>{let v;return c?v=d:l.route.Component?v=h.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,h.createElement(N2,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?h.createElement(b2,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Ip;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Ip||(Ip={}));var qa;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(qa||(qa={}));function R2(t){let e=h.useContext(Pg);return e||rt(!1),e}function M2(t){let e=h.useContext(xC);return e||rt(!1),e}function D2(t){let e=h.useContext(yi);return e||rt(!1),e}function TC(t){let e=D2(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function A2(){var t;let e=h.useContext(LC),n=M2(qa.UseRouteError),r=TC(qa.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function O2(){let{router:t}=R2(Ip.UseNavigateStable),e=TC(qa.UseNavigateStable),n=h.useRef(!1);return kC(()=>{n.current=!0}),h.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ac({fromRouteId:e},s)))},[t,e])}function Zo(t){rt(!1)}function $2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zr.Pop,navigator:s,static:o=!1}=t;vl()&&rt(!1);let a=e.replace(/^\/*/,"/"),l=h.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=po(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,v=h.useMemo(()=>{let E=Ng(u,a);return E==null?null:{location:{pathname:E,search:c,hash:d,state:f,key:p},navigationType:i}},[a,u,c,d,f,p,i]);return v==null?null:h.createElement(rs.Provider,{value:l},h.createElement(Oh.Provider,{children:n,value:v}))}function F2(t){let{children:e,location:n}=t;return L2(bp(e),n)}var nw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(nw||(nw={}));new Promise(()=>{});function bp(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;let s=[...e,i];if(r.type===h.Fragment){n.push.apply(n,bp(r.props.children,s));return}r.type!==Zo&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(this,arguments)}function IC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function j2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U2(t,e){return t.button===0&&(!e||e==="_self")&&!j2(t)}const B2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],z2=["aria-current","caseSensitive","className","end","style","to","children"];function V2(t){let{basename:e,children:n,window:r}=t,i=h.useRef();i.current==null&&(i.current=YN({window:r,v5Compat:!0}));let s=i.current,[o,a]=h.useState({action:s.action,location:s.location});return h.useLayoutEffect(()=>s.listen(a),[s]),h.createElement($2,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const W2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$h=h.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=IC(e,B2),{basename:f}=h.useContext(rs),p,v=!1;if(typeof u=="string"&&H2.test(u)&&(p=u,W2))try{let m=new URL(window.location.href),y=u.startsWith("//")?new URL(m.protocol+u):new URL(u),_=Ng(y.pathname,f);y.origin===m.origin&&_!=null?u=_+y.search+y.hash:v=!0}catch{}let E=E2(u,{relative:i}),S=q2(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function g(m){r&&r(m),m.defaultPrevented||S(m)}return h.createElement("a",Oc({},d,{href:p||E,onClick:v||s?r:g,ref:n,target:l}))}),ar=h.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=IC(e,z2),d=Rg(l,{relative:c.relative}),f=yl(),p=h.useContext(xC),{navigator:v}=h.useContext(rs),E=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,S=f.pathname,g=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(S=S.toLowerCase(),g=g?g.toLowerCase():null,E=E.toLowerCase());let m=S===E||!o&&S.startsWith(E)&&S.charAt(E.length)==="/",y=g!=null&&(g===E||!o&&g.startsWith(E)&&g.charAt(E.length)==="/"),_=m?r:void 0,C;typeof s=="function"?C=s({isActive:m,isPending:y}):C=[s,m?"active":null,y?"pending":null].filter(Boolean).join(" ");let x=typeof a=="function"?a({isActive:m,isPending:y}):a;return h.createElement($h,Oc({},c,{"aria-current":_,className:C,ref:n,style:x,to:l}),typeof u=="function"?u({isActive:m,isPending:y}):u)});var rw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(rw||(rw={}));var iw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iw||(iw={}));function q2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=S2(),l=yl(),u=Rg(t,{relative:o});return h.useCallback(c=>{if(U2(c,n)){c.preventDefault();let d=r!==void 0?r:Dc(l)===Dc(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}var G2=Object.defineProperty,K2=(t,e,n)=>e in t?G2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ef=(t,e,n)=>(K2(t,typeof e!="symbol"?e+"":e,n),n);let Q2=class{constructor(){ef(this,"current",this.detect()),ef(this,"handoffState","pending"),ef(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},yr=new Q2,Ct=(t,e)=>{yr.isServer?h.useEffect(t,e):h.useLayoutEffect(t,e)};function wr(t){let e=h.useRef(t);return Ct(()=>{e.current=t},[t]),e}function wl(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ir(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return wl(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ir();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function _l(){let[t]=h.useState(ir);return h.useEffect(()=>()=>t.dispose(),[t]),t}let we=function(t){let e=wr(t);return ie.useCallback((...n)=>e.current(...n),[e])};function mo(){let[t,e]=h.useState(yr.isHandoffComplete);return t&&yr.isHandoffComplete===!1&&e(!1),h.useEffect(()=>{t!==!0&&e(!0)},[t]),h.useEffect(()=>yr.handoff(),[]),t}var sw;let Wn=(sw=ie.useId)!=null?sw:function(){let t=mo(),[e,n]=ie.useState(t?()=>yr.nextId():null);return Ct(()=>{e===null&&n(yr.nextId())},[e]),e!=null?""+e:void 0};function Ze(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ze),r}function El(t){return yr.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Np=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var hr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(hr||{}),bC=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(bC||{}),Y2=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Y2||{});function NC(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Np)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Mg=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Mg||{});function Dg(t,e=0){var n;return t===((n=El(t))==null?void 0:n.body)?!1:Ze(e,{[0](){return t.matches(Np)},[1](){let r=t;for(;r!==null;){if(r.matches(Np))return!0;r=r.parentElement}return!1}})}function PC(t){let e=El(t);ir().nextFrame(()=>{e&&!Dg(e.activeElement,0)&&Jr(t)})}var X2=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(X2||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Jr(t){t==null||t.focus({preventScroll:!0})}let Z2=["textarea","input"].join(",");function J2(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Z2))!=null?n:!1}function RC(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function eP(t,e){return ma(NC(),e,{relativeTo:t})}function ma(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?RC(t):t:NC(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.includes(p))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},c=0,d=o.length,f;do{if(c>=d||c+d<=0)return 0;let p=l+c;if(e&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}f=o[p],f==null||f.focus(u),c+=a}while(f!==s.activeElement);return e&6&&J2(f)&&f.select(),2}function tf(t,e,n){let r=wr(e);h.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function MC(t,e,n=!0){let r=h.useRef(!1);h.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=function c(d){return typeof d=="function"?c(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t),u=a(o);if(u!==null&&u.getRootNode().contains(u)){for(let c of l){if(c===null)continue;let d=c instanceof HTMLElement?c:c.current;if(d!=null&&d.contains(u)||o.composed&&o.composedPath().includes(d))return}return!Dg(u,Mg.Loose)&&u.tabIndex!==-1&&o.preventDefault(),e(o,u)}}let s=h.useRef(null);tf("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),tf("click",o=>{s.current&&(i(o,()=>s.current),s.current=null)},!0),tf("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ow(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function DC(t,e){let[n,r]=h.useState(()=>ow(t));return Ct(()=>{r(ow(t))},[t.type,t.as]),Ct(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let AC=Symbol();function OC(t,e=!0){return Object.assign(t,{[AC]:e})}function vt(...t){let e=h.useRef(t);h.useEffect(()=>{e.current=t},[t]);let n=we(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[AC]))?void 0:n}function tP({container:t,accept:e,walk:n,enabled:r=!0}){let i=h.useRef(e),s=h.useRef(n);h.useEffect(()=>{i.current=e,s.current=n},[e,n]),Ct(()=>{if(!t||!r)return;let o=El(t);if(!o)return;let a=i.current,l=s.current,u=Object.assign(d=>a(d),{acceptNode:a}),c=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[t,r,i,s])}function nP(t){throw new Error("Unexpected object: "+t)}var An=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(An||{});function rP(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1,s=(()=>{switch(t.focus){case 0:return n.findIndex(o=>!e.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,u)=>i!==-1&&u.length-l-1>=i?!1:!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=i?!1:!e.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>e.resolveId(o)===t.id);case 5:return null;default:nP(t)}})();return s===-1?r:s}function Pp(...t){return t.filter(Boolean).join(" ")}var ai=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ai||{}),pr=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(pr||{});function ut({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o}){let a=$C(e,t);if(s)return Pu(a,n,r,o);let l=i??0;if(l&2){let{static:u=!1,...c}=a;if(u)return Pu(c,n,r,o)}if(l&1){let{unmount:u=!0,...c}=a;return Ze(u?0:1,{[0](){return null},[1](){return Pu({...c,hidden:!0,style:{display:"none"}},n,r,o)}})}return Pu(a,n,r,o)}function Pu(t,e={},n,r){let{as:i=n,children:s,refName:o="ref",...a}=nf(t,["unmount","static"]),l=t.ref!==void 0?{[o]:t.ref}:{},u=typeof s=="function"?s(e):s;"className"in a&&a.className&&typeof a.className=="function"&&(a.className=a.className(e));let c={};if(e){let d=!1,f=[];for(let[p,v]of Object.entries(e))typeof v=="boolean"&&(d=!0),v===!0&&f.push(p);d&&(c["data-headlessui-state"]=f.join(" "))}if(i===h.Fragment&&Object.keys(aw(a)).length>0){if(!h.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(a).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let d=u.props,f=typeof(d==null?void 0:d.className)=="function"?(...v)=>Pp(d==null?void 0:d.className(...v),a.className):Pp(d==null?void 0:d.className,a.className),p=f?{className:f}:{};return h.cloneElement(u,Object.assign({},$C(u.props,aw(nf(a,["ref"]))),c,l,iP(u.ref,l.ref),p))}return h.createElement(i,Object.assign({},nf(a,["ref"]),i!==h.Fragment&&l,i!==h.Fragment&&c),u)}function iP(...t){return{ref:t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}}function $C(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function it(t){var e;return Object.assign(h.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function aw(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function nf(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function Ag(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&sP(n)?!1:r}function sP(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let oP="div";var $c=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))($c||{});function aP(t,e){let{features:n=1,...r}=t,i={ref:e,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return ut({ourProps:i,theirProps:r,slot:{},defaultTag:oP,name:"Hidden"})}let Rp=it(aP),Og=h.createContext(null);Og.displayName="OpenClosedContext";var Xe=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Xe||{});function Sl(){return h.useContext(Og)}function $g({value:t,children:e}){return ie.createElement(Og.Provider,{value:t},e)}var Ve=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ve||{});function Fg(t,e){let n=h.useRef([]),r=we(t);h.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function lw(t){return[t.screenX,t.screenY]}function lP(){let t=h.useRef([-1,-1]);return{wasMoved(e){let n=lw(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=lw(e)}}}function uP(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function cP(t,e,n){let r=wr(e);h.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}var Jo=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Jo||{});function hP(){let t=h.useRef(0);return cP("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Cl(){let t=h.useRef(!1);return Ct(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function xl(...t){return h.useMemo(()=>El(...t),[...t])}function FC(t,e,n,r){let i=wr(n);h.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function dP(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function jC(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let fP="div";var UC=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(UC||{});function pP(t,e){let n=h.useRef(null),r=vt(n,e),{initialFocus:i,containers:s,features:o=30,...a}=t;mo()||(o=1);let l=xl(n);vP({ownerDocument:l},!!(o&16));let u=yP({ownerDocument:l,container:n,initialFocus:i},!!(o&2));wP({ownerDocument:l,container:n,containers:s,previousActiveElement:u},!!(o&8));let c=hP(),d=we(E=>{let S=n.current;S&&(g=>g())(()=>{Ze(c.current,{[Jo.Forwards]:()=>{ma(S,hr.First,{skipElements:[E.relatedTarget]})},[Jo.Backwards]:()=>{ma(S,hr.Last,{skipElements:[E.relatedTarget]})}})})}),f=_l(),p=h.useRef(!1),v={ref:r,onKeyDown(E){E.key=="Tab"&&(p.current=!0,f.requestAnimationFrame(()=>{p.current=!1}))},onBlur(E){let S=jC(s);n.current instanceof HTMLElement&&S.add(n.current);let g=E.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(BC(S,g)||(p.current?ma(n.current,Ze(c.current,{[Jo.Forwards]:()=>hr.Next,[Jo.Backwards]:()=>hr.Previous})|hr.WrapAround,{relativeTo:E.target}):E.target instanceof HTMLElement&&Jr(E.target)))}};return ie.createElement(ie.Fragment,null,!!(o&4)&&ie.createElement(Rp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:$c.Focusable}),ut({ourProps:v,theirProps:a,defaultTag:fP,name:"FocusTrap"}),!!(o&4)&&ie.createElement(Rp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:$c.Focusable}))}let mP=it(pP),jo=Object.assign(mP,{features:UC}),jr=[];dP(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&jr[0]!==e.target&&(jr.unshift(e.target),jr=jr.filter(n=>n!=null&&n.isConnected),jr.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function gP(t=!0){let e=h.useRef(jr.slice());return Fg(([n],[r])=>{r===!0&&n===!1&&wl(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=jr.slice())},[t,jr,e]),we(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function vP({ownerDocument:t},e){let n=gP(e);Fg(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Jr(n())},[e]);let r=h.useRef(!1);h.useEffect(()=>(r.current=!1,()=>{r.current=!0,wl(()=>{r.current&&Jr(n())})}),[])}function yP({ownerDocument:t,container:e,initialFocus:n},r){let i=h.useRef(null),s=Cl();return Fg(()=>{if(!r)return;let o=e.current;o&&wl(()=>{if(!s.current)return;let a=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(o.contains(a)){i.current=a;return}n!=null&&n.current?Jr(n.current):ma(o,hr.First)===bC.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t==null?void 0:t.activeElement})},[r]),i}function wP({ownerDocument:t,container:e,containers:n,previousActiveElement:r},i){let s=Cl();FC(t==null?void 0:t.defaultView,"focus",o=>{if(!i||!s.current)return;let a=jC(n);e.current instanceof HTMLElement&&a.add(e.current);let l=r.current;if(!l)return;let u=o.target;u&&u instanceof HTMLElement?BC(a,u)?(r.current=u,Jr(u)):(o.preventDefault(),o.stopPropagation(),Jr(l)):Jr(r.current)},!0)}function BC(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let zC=h.createContext(!1);function _P(){return h.useContext(zC)}function Mp(t){return ie.createElement(zC.Provider,{value:t.force},t.children)}function EP(t){let e=_P(),n=h.useContext(VC),r=xl(t),[i,s]=h.useState(()=>{if(!e&&n!==null||yr.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return h.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),h.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let SP=h.Fragment;function CP(t,e){let n=t,r=h.useRef(null),i=vt(OC(c=>{r.current=c}),e),s=xl(r),o=EP(r),[a]=h.useState(()=>{var c;return yr.isServer?null:(c=s==null?void 0:s.createElement("div"))!=null?c:null}),l=mo(),u=h.useRef(!1);return Ct(()=>{if(u.current=!1,!(!o||!a))return o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a)),()=>{u.current=!0,wl(()=>{var c;u.current&&(!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((c=o.parentElement)==null||c.removeChild(o))))})}},[o,a]),l?!o||!a?null:vi.createPortal(ut({ourProps:{ref:i},theirProps:n,defaultTag:SP,name:"Portal"}),a):null}let xP=h.Fragment,VC=h.createContext(null);function LP(t,e){let{target:n,...r}=t,i={ref:vt(e)};return ie.createElement(VC.Provider,{value:n},ut({ourProps:i,theirProps:r,defaultTag:xP,name:"Popover.Group"}))}let kP=it(CP),TP=it(LP),Dp=Object.assign(kP,{Group:TP}),WC=h.createContext(null);function HC(){let t=h.useContext(WC);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,HC),e}return t}function IP(){let[t,e]=h.useState([]);return[t.length>0?t.join(" "):void 0,h.useMemo(()=>function(n){let r=we(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=h.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return ie.createElement(WC.Provider,{value:i},n.children)},[e])]}let bP="p";function NP(t,e){let n=Wn(),{id:r=`headlessui-description-${n}`,...i}=t,s=HC(),o=vt(e);Ct(()=>s.register(r),[r,s.register]);let a={ref:o,...s.props,id:r};return ut({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:bP,name:s.name||"Description"})}let PP=it(NP),RP=Object.assign(PP,{}),jg=h.createContext(()=>{});jg.displayName="StackContext";var Ap=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Ap||{});function MP(){return h.useContext(jg)}function DP({children:t,onUpdate:e,type:n,element:r,enabled:i}){let s=MP(),o=we((...a)=>{e==null||e(...a),s(...a)});return Ct(()=>{let a=i===void 0||i===!0;return a&&o(0,n,r),()=>{a&&o(1,n,r)}},[o,n,r,i]),ie.createElement(jg.Provider,{value:o},t)}function AP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const OP=typeof Object.is=="function"?Object.is:AP,{useState:$P,useEffect:FP,useLayoutEffect:jP,useDebugValue:UP}=Mf;function BP(t,e,n){const r=e(),[{inst:i},s]=$P({inst:{value:r,getSnapshot:e}});return jP(()=>{i.value=r,i.getSnapshot=e,rf(i)&&s({inst:i})},[t,r,e]),FP(()=>(rf(i)&&s({inst:i}),t(()=>{rf(i)&&s({inst:i})})),[t]),UP(r),r}function rf(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!OP(n,r)}catch{return!0}}function zP(t,e,n){return e()}const VP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WP=!VP,HP=WP?zP:BP,qP="useSyncExternalStore"in Mf?(t=>t.useSyncExternalStore)(Mf):HP;function GP(t){return qP(t.subscribe,t.getSnapshot,t.getSnapshot)}function KP(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function QP(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,i=r.clientWidth-r.offsetWidth,s=t-i;n.style(r,"paddingRight",`${s}px`)}}}function YP(){if(!uP())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:r}){function i(o){return r.containers.flatMap(a=>a()).some(a=>a.contains(o))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let s=null;n.addEventListener(e,"click",o=>{if(o.target instanceof HTMLElement)try{let a=o.target.closest("a");if(!a)return;let{hash:l}=new URL(a.href),u=e.querySelector(l);u&&!i(u)&&(s=u)}catch{}},!0),n.addEventListener(e,"touchmove",o=>{o.target instanceof HTMLElement&&!i(o.target)&&o.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})}}}function XP(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function ZP(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Ri=KP(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ir(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:ZP(n)},i=[YP(),QP(),XP()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ri.subscribe(()=>{let t=Ri.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Ri.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ri.dispatch("TEARDOWN",n)}});function JP(t,e,n){let r=GP(Ri),i=t?r.get(t):void 0,s=i?i.count>0:!1;return Ct(()=>{if(!(!t||!e))return Ri.dispatch("PUSH",t,n),()=>Ri.dispatch("POP",t,n)},[e,t]),s}let sf=new Map,Uo=new Map;function uw(t,e=!0){Ct(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function i(){var o;if(!r)return;let a=(o=Uo.get(r))!=null?o:1;if(a===1?Uo.delete(r):Uo.set(r,a-1),a!==1)return;let l=sf.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,sf.delete(r))}let s=(n=Uo.get(r))!=null?n:0;return Uo.set(r,s+1),s!==0||(sf.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[t,e])}var eR=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(eR||{}),tR=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(tR||{});let nR={[0](t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Fc=h.createContext(null);Fc.displayName="DialogContext";function Ll(t){let e=h.useContext(Fc);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ll),n}return e}function rR(t,e,n=()=>[document.body]){JP(t,e,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function iR(t,e){return Ze(e.type,nR,t,e)}let sR="div",oR=ai.RenderStrategy|ai.Static;function aR(t,e){let n=Wn(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,__demoMode:a=!1,...l}=t,[u,c]=h.useState(0),d=Sl();i===void 0&&d!==null&&(i=(d&Xe.Open)===Xe.Open);let f=h.useRef(null),p=vt(f,e),v=h.useRef(null),E=xl(f),S=t.hasOwnProperty("open")||d!==null,g=t.hasOwnProperty("onClose");if(!S&&!g)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!S)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!g)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let m=i?0:1,[y,_]=h.useReducer(iR,{titleId:null,descriptionId:null,panelRef:h.createRef()}),C=we(()=>s(!1)),x=we(Y=>_({type:0,id:Y})),T=mo()?a?!1:m===0:!1,k=u>1,L=h.useContext(Fc)!==null,I=k?"parent":"leaf",D=d!==null?(d&Xe.Closing)===Xe.Closing:!1,q=(()=>L||D?!1:T)(),Q=h.useCallback(()=>{var Y,X;return(X=Array.from((Y=E==null?void 0:E.querySelectorAll("body > *"))!=null?Y:[]).find(B=>B.id==="headlessui-portal-root"?!1:B.contains(v.current)&&B instanceof HTMLElement))!=null?X:null},[v]);uw(Q,q);let G=(()=>k?!0:T)(),oe=h.useCallback(()=>{var Y,X;return(X=Array.from((Y=E==null?void 0:E.querySelectorAll("[data-headlessui-portal]"))!=null?Y:[]).find(B=>B.contains(v.current)&&B instanceof HTMLElement))!=null?X:null},[v]);uw(oe,G);let te=we(()=>{var Y,X;return[...Array.from((Y=E==null?void 0:E.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?Y:[]).filter(B=>!(B===document.body||B===document.head||!(B instanceof HTMLElement)||B.contains(v.current)||y.panelRef.current&&B.contains(y.panelRef.current))),(X=y.panelRef.current)!=null?X:f.current]}),de=(()=>!(!T||k))();MC(()=>te(),C,de);let N=(()=>!(k||m!==0))();FC(E==null?void 0:E.defaultView,"keydown",Y=>{N&&(Y.defaultPrevented||Y.key===Ve.Escape&&(Y.preventDefault(),Y.stopPropagation(),C()))});let A=(()=>!(D||m!==0||L))();rR(E,A,te),h.useEffect(()=>{if(m!==0||!f.current)return;let Y=new ResizeObserver(X=>{for(let B of X){let ne=B.target.getBoundingClientRect();ne.x===0&&ne.y===0&&ne.width===0&&ne.height===0&&C()}});return Y.observe(f.current),()=>Y.disconnect()},[m,f,C]);let[O,z]=IP(),K=h.useMemo(()=>[{dialogState:m,close:C,setTitleId:x},y],[m,y,C,x]),W=h.useMemo(()=>({open:m===0}),[m]),P={ref:p,id:r,role:"dialog","aria-modal":m===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":O};return ie.createElement(DP,{type:"Dialog",enabled:m===0,element:f,onUpdate:we((Y,X)=>{X==="Dialog"&&Ze(Y,{[Ap.Add]:()=>c(B=>B+1),[Ap.Remove]:()=>c(B=>B-1)})})},ie.createElement(Mp,{force:!0},ie.createElement(Dp,null,ie.createElement(Fc.Provider,{value:K},ie.createElement(Dp.Group,{target:f},ie.createElement(Mp,{force:!1},ie.createElement(z,{slot:W,name:"Dialog.Description"},ie.createElement(jo,{initialFocus:o,containers:te,features:T?Ze(I,{parent:jo.features.RestoreFocus,leaf:jo.features.All&~jo.features.FocusLock}):jo.features.None},ut({ourProps:P,theirProps:l,slot:W,defaultTag:sR,features:oR,visible:m===0,name:"Dialog"})))))))),ie.createElement(Rp,{features:$c.Hidden,ref:v}))}let lR="div";function uR(t,e){let n=Wn(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=t,[{dialogState:s,close:o}]=Ll("Dialog.Overlay"),a=vt(e),l=we(c=>{if(c.target===c.currentTarget){if(Ag(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),o()}}),u=h.useMemo(()=>({open:s===0}),[s]);return ut({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:u,defaultTag:lR,name:"Dialog.Overlay"})}let cR="div";function hR(t,e){let n=Wn(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=t,[{dialogState:s},o]=Ll("Dialog.Backdrop"),a=vt(e);h.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=h.useMemo(()=>({open:s===0}),[s]);return ie.createElement(Mp,{force:!0},ie.createElement(Dp,null,ut({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:cR,name:"Dialog.Backdrop"})))}let dR="div";function fR(t,e){let n=Wn(),{id:r=`headlessui-dialog-panel-${n}`,...i}=t,[{dialogState:s},o]=Ll("Dialog.Panel"),a=vt(e,o.panelRef),l=h.useMemo(()=>({open:s===0}),[s]),u=we(c=>{c.stopPropagation()});return ut({ourProps:{ref:a,id:r,onClick:u},theirProps:i,slot:l,defaultTag:dR,name:"Dialog.Panel"})}let pR="h2";function mR(t,e){let n=Wn(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=Ll("Dialog.Title"),a=vt(e);h.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=h.useMemo(()=>({open:s===0}),[s]);return ut({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:pR,name:"Dialog.Title"})}let gR=it(aR),vR=it(hR),yR=it(fR),wR=it(uR),_R=it(mR),jc=Object.assign(gR,{Backdrop:vR,Panel:yR,Overlay:wR,Title:_R,Description:RP});var cw;let ER=(cw=ie.startTransition)!=null?cw:function(t){t()};var SR=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(SR||{}),CR=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.LinkPanel=4]="LinkPanel",t[t.UnlinkPanel=5]="UnlinkPanel",t))(CR||{});let xR={[0]:t=>({...t,disclosureState:Ze(t.disclosureState,{[0]:1,[1]:0})}),[1]:t=>t.disclosureState===1?t:{...t,disclosureState:1},[4](t){return t.linkedPanel===!0?t:{...t,linkedPanel:!0}},[5](t){return t.linkedPanel===!1?t:{...t,linkedPanel:!1}},[2](t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},[3](t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}}},Ug=h.createContext(null);Ug.displayName="DisclosureContext";function Bg(t){let e=h.useContext(Ug);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Bg),n}return e}let zg=h.createContext(null);zg.displayName="DisclosureAPIContext";function qC(t){let e=h.useContext(zg);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,qC),n}return e}let Vg=h.createContext(null);Vg.displayName="DisclosurePanelContext";function LR(){return h.useContext(Vg)}function kR(t,e){return Ze(e.type,xR,t,e)}let TR=h.Fragment;function IR(t,e){let{defaultOpen:n=!1,...r}=t,i=h.useRef(null),s=vt(e,OC(S=>{i.current=S},t.as===void 0||t.as===h.Fragment)),o=h.useRef(null),a=h.useRef(null),l=h.useReducer(kR,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:a,panelRef:o,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:c},d]=l,f=we(S=>{d({type:1});let g=El(i);if(!g||!c)return;let m=(()=>S?S instanceof HTMLElement?S:S.current instanceof HTMLElement?S.current:g.getElementById(c):g.getElementById(c))();m==null||m.focus()}),p=h.useMemo(()=>({close:f}),[f]),v=h.useMemo(()=>({open:u===0,close:f}),[u,f]),E={ref:s};return ie.createElement(Ug.Provider,{value:l},ie.createElement(zg.Provider,{value:p},ie.createElement($g,{value:Ze(u,{[0]:Xe.Open,[1]:Xe.Closed})},ut({ourProps:E,theirProps:r,slot:v,defaultTag:TR,name:"Disclosure"}))))}let bR="button";function NR(t,e){let n=Wn(),{id:r=`headlessui-disclosure-button-${n}`,...i}=t,[s,o]=Bg("Disclosure.Button"),a=LR(),l=a===null?!1:a===s.panelId,u=h.useRef(null),c=vt(u,e,l?null:s.buttonRef);h.useEffect(()=>{if(!l)return o({type:2,buttonId:r}),()=>{o({type:2,buttonId:null})}},[r,o,l]);let d=we(g=>{var m;if(l){if(s.disclosureState===1)return;switch(g.key){case Ve.Space:case Ve.Enter:g.preventDefault(),g.stopPropagation(),o({type:0}),(m=s.buttonRef.current)==null||m.focus();break}}else switch(g.key){case Ve.Space:case Ve.Enter:g.preventDefault(),g.stopPropagation(),o({type:0});break}}),f=we(g=>{switch(g.key){case Ve.Space:g.preventDefault();break}}),p=we(g=>{var m;Ag(g.currentTarget)||t.disabled||(l?(o({type:0}),(m=s.buttonRef.current)==null||m.focus()):o({type:0}))}),v=h.useMemo(()=>({open:s.disclosureState===0}),[s]),E=DC(t,u),S=l?{ref:c,type:E,onKeyDown:d,onClick:p}:{ref:c,id:r,type:E,"aria-expanded":t.disabled?void 0:s.disclosureState===0,"aria-controls":s.linkedPanel?s.panelId:void 0,onKeyDown:d,onKeyUp:f,onClick:p};return ut({ourProps:S,theirProps:i,slot:v,defaultTag:bR,name:"Disclosure.Button"})}let PR="div",RR=ai.RenderStrategy|ai.Static;function MR(t,e){let n=Wn(),{id:r=`headlessui-disclosure-panel-${n}`,...i}=t,[s,o]=Bg("Disclosure.Panel"),{close:a}=qC("Disclosure.Panel"),l=vt(e,s.panelRef,p=>{ER(()=>o({type:p?4:5}))});h.useEffect(()=>(o({type:3,panelId:r}),()=>{o({type:3,panelId:null})}),[r,o]);let u=Sl(),c=(()=>u!==null?(u&Xe.Open)===Xe.Open:s.disclosureState===0)(),d=h.useMemo(()=>({open:s.disclosureState===0,close:a}),[s,a]),f={ref:l,id:r};return ie.createElement(Vg.Provider,{value:s.panelId},ut({ourProps:f,theirProps:i,slot:d,defaultTag:PR,features:RR,visible:c,name:"Disclosure.Panel"}))}let DR=it(IR),AR=it(NR),OR=it(MR),bt=Object.assign(DR,{Button:AR,Panel:OR});var $R=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))($R||{}),FR=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(FR||{}),jR=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(jR||{});function of(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=RC(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let UR={[1](t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},[0](t){return t.menuState===0?t:{...t,menuState:0}},[2]:(t,e)=>{var n;let r=of(t),i=rP(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},[3]:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},[4](t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},[5]:(t,e)=>{let n=of(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},[6]:(t,e)=>{let n=of(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},Wg=h.createContext(null);Wg.displayName="MenuContext";function Fh(t){let e=h.useContext(Wg);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Fh),n}return e}function BR(t,e){return Ze(e.type,UR,t,e)}let zR=h.Fragment;function VR(t,e){let n=h.useReducer(BR,{menuState:1,buttonRef:h.createRef(),itemsRef:h.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:r,itemsRef:i,buttonRef:s},o]=n,a=vt(e);MC([s,i],(f,p)=>{var v;o({type:1}),Dg(p,Mg.Loose)||(f.preventDefault(),(v=s.current)==null||v.focus())},r===0);let l=we(()=>{o({type:1})}),u=h.useMemo(()=>({open:r===0,close:l}),[r,l]),c=t,d={ref:a};return ie.createElement(Wg.Provider,{value:n},ie.createElement($g,{value:Ze(r,{[0]:Xe.Open,[1]:Xe.Closed})},ut({ourProps:d,theirProps:c,slot:u,defaultTag:zR,name:"Menu"})))}let WR="button";function HR(t,e){var n;let r=Wn(),{id:i=`headlessui-menu-button-${r}`,...s}=t,[o,a]=Fh("Menu.Button"),l=vt(o.buttonRef,e),u=_l(),c=we(E=>{switch(E.key){case Ve.Space:case Ve.Enter:case Ve.ArrowDown:E.preventDefault(),E.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:An.First}));break;case Ve.ArrowUp:E.preventDefault(),E.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:An.Last}));break}}),d=we(E=>{switch(E.key){case Ve.Space:E.preventDefault();break}}),f=we(E=>{if(Ag(E.currentTarget))return E.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),u.nextFrame(()=>{var S;return(S=o.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})})):(E.preventDefault(),a({type:0})))}),p=h.useMemo(()=>({open:o.menuState===0}),[o]),v={ref:l,id:i,type:DC(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":t.disabled?void 0:o.menuState===0,onKeyDown:c,onKeyUp:d,onClick:f};return ut({ourProps:v,theirProps:s,slot:p,defaultTag:WR,name:"Menu.Button"})}let qR="div",GR=ai.RenderStrategy|ai.Static;function KR(t,e){var n,r;let i=Wn(),{id:s=`headlessui-menu-items-${i}`,...o}=t,[a,l]=Fh("Menu.Items"),u=vt(a.itemsRef,e),c=xl(a.itemsRef),d=_l(),f=Sl(),p=(()=>f!==null?(f&Xe.Open)===Xe.Open:a.menuState===0)();h.useEffect(()=>{let m=a.itemsRef.current;m&&a.menuState===0&&m!==(c==null?void 0:c.activeElement)&&m.focus({preventScroll:!0})},[a.menuState,a.itemsRef,c]),tP({container:a.itemsRef.current,enabled:a.menuState===0,accept(m){return m.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});let v=we(m=>{var y,_;switch(d.dispose(),m.key){case Ve.Space:if(a.searchQuery!=="")return m.preventDefault(),m.stopPropagation(),l({type:3,value:m.key});case Ve.Enter:if(m.preventDefault(),m.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:C}=a.items[a.activeItemIndex];(_=(y=C.current)==null?void 0:y.domRef.current)==null||_.click()}PC(a.buttonRef.current);break;case Ve.ArrowDown:return m.preventDefault(),m.stopPropagation(),l({type:2,focus:An.Next});case Ve.ArrowUp:return m.preventDefault(),m.stopPropagation(),l({type:2,focus:An.Previous});case Ve.Home:case Ve.PageUp:return m.preventDefault(),m.stopPropagation(),l({type:2,focus:An.First});case Ve.End:case Ve.PageDown:return m.preventDefault(),m.stopPropagation(),l({type:2,focus:An.Last});case Ve.Escape:m.preventDefault(),m.stopPropagation(),l({type:1}),ir().nextFrame(()=>{var C;return(C=a.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})});break;case Ve.Tab:m.preventDefault(),m.stopPropagation(),l({type:1}),ir().nextFrame(()=>{eP(a.buttonRef.current,m.shiftKey?hr.Previous:hr.Next)});break;default:m.key.length===1&&(l({type:3,value:m.key}),d.setTimeout(()=>l({type:4}),350));break}}),E=we(m=>{switch(m.key){case Ve.Space:m.preventDefault();break}}),S=h.useMemo(()=>({open:a.menuState===0}),[a]),g={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:v,onKeyUp:E,role:"menu",tabIndex:0,ref:u};return ut({ourProps:g,theirProps:o,slot:S,defaultTag:qR,features:GR,visible:p,name:"Menu.Items"})}let QR=h.Fragment;function YR(t,e){let n=Wn(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=Fh("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=h.useRef(null),c=vt(e,u);Ct(()=>{if(o.menuState!==0||!l||o.activationTrigger===0)return;let _=ir();return _.requestAnimationFrame(()=>{var C,x;(x=(C=u.current)==null?void 0:C.scrollIntoView)==null||x.call(C,{block:"nearest"})}),_.dispose},[u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let d=h.useRef({disabled:i,domRef:u});Ct(()=>{d.current.disabled=i},[d,i]),Ct(()=>{var _,C;d.current.textValue=(C=(_=u.current)==null?void 0:_.textContent)==null?void 0:C.toLowerCase()},[d,u]),Ct(()=>(a({type:5,id:r,dataRef:d}),()=>a({type:6,id:r})),[d,r]);let f=we(()=>{a({type:1})}),p=we(_=>{if(i)return _.preventDefault();a({type:1}),PC(o.buttonRef.current)}),v=we(()=>{if(i)return a({type:2,focus:An.Nothing});a({type:2,focus:An.Specific,id:r})}),E=lP(),S=we(_=>E.update(_)),g=we(_=>{E.wasMoved(_)&&(i||l||a({type:2,focus:An.Specific,id:r,trigger:0}))}),m=we(_=>{E.wasMoved(_)&&(i||l&&a({type:2,focus:An.Nothing}))}),y=h.useMemo(()=>({active:l,disabled:i,close:f}),[l,i,f]);return ut({ourProps:{id:r,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:p,onFocus:v,onPointerEnter:S,onMouseEnter:S,onPointerMove:g,onMouseMove:g,onPointerLeave:m,onMouseLeave:m},theirProps:s,slot:y,defaultTag:QR,name:"Menu.Item"})}let XR=it(VR),ZR=it(HR),JR=it(KR),eM=it(YR),cs=Object.assign(XR,{Button:ZR,Items:JR,Item:eM});function tM(t=0){let[e,n]=h.useState(t),r=Cl(),i=h.useCallback(l=>{r.current&&n(u=>u|l)},[e,r]),s=h.useCallback(l=>!!(e&l),[e]),o=h.useCallback(l=>{r.current&&n(u=>u&~l)},[n,r]),a=h.useCallback(l=>{r.current&&n(u=>u^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function nM(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function af(t,...e){t&&e.length>0&&t.classList.add(...e)}function lf(t,...e){t&&e.length>0&&t.classList.remove(...e)}function rM(t,e){let n=ir();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,d)=>d-c);return u}),a=s+o;if(a!==0){n.group(u=>{u.setTimeout(()=>{e(),u.dispose()},a),u.addEventListener(t,"transitionrun",c=>{c.target===c.currentTarget&&u.dispose()})});let l=n.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function iM(t,e,n,r){let i=n?"enter":"leave",s=ir(),o=r!==void 0?nM(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=Ze(i,{enter:()=>e.enter,leave:()=>e.leave}),l=Ze(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Ze(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return lf(t,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),af(t,...a,...u),s.nextFrame(()=>{lf(t,...u),af(t,...l),rM(t,()=>(lf(t,...a),af(t,...e.entered),o()))}),s.dispose}function sM({container:t,direction:e,classes:n,onStart:r,onStop:i}){let s=Cl(),o=_l(),a=wr(e);Ct(()=>{let l=ir();o.add(l.dispose);let u=t.current;if(u&&a.current!=="idle"&&s.current)return l.dispose(),r.current(a.current),l.add(iM(u,n.current,a.current==="enter",()=>{l.dispose(),i.current(a.current)})),l.dispose},[e])}function Si(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let jh=h.createContext(null);jh.displayName="TransitionContext";var oM=(t=>(t.Visible="visible",t.Hidden="hidden",t))(oM||{});function aM(){let t=h.useContext(jh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function lM(){let t=h.useContext(Uh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Uh=h.createContext(null);Uh.displayName="NestingContext";function Bh(t){return"children"in t?Bh(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function GC(t,e){let n=wr(t),r=h.useRef([]),i=Cl(),s=_l(),o=we((p,v=pr.Hidden)=>{let E=r.current.findIndex(({el:S})=>S===p);E!==-1&&(Ze(v,{[pr.Unmount](){r.current.splice(E,1)},[pr.Hidden](){r.current[E].state="hidden"}}),s.microTask(()=>{var S;!Bh(r)&&i.current&&((S=n.current)==null||S.call(n))}))}),a=we(p=>{let v=r.current.find(({el:E})=>E===p);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,pr.Unmount)}),l=h.useRef([]),u=h.useRef(Promise.resolve()),c=h.useRef({enter:[],leave:[],idle:[]}),d=we((p,v,E)=>{l.current.splice(0),e&&(e.chains.current[v]=e.chains.current[v].filter(([S])=>S!==p)),e==null||e.chains.current[v].push([p,new Promise(S=>{l.current.push(S)})]),e==null||e.chains.current[v].push([p,new Promise(S=>{Promise.all(c.current[v].map(([g,m])=>m)).then(()=>S())})]),v==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>E(v)):E(v)}),f=we((p,v,E)=>{Promise.all(c.current[v].splice(0).map(([S,g])=>g)).then(()=>{var S;(S=l.current.shift())==null||S()}).then(()=>E(v))});return h.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:f,wait:u,chains:c}),[a,o,r,d,f,c,u])}function uM(){}let cM=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function hw(t){var e;let n={};for(let r of cM)n[r]=(e=t[r])!=null?e:uM;return n}function hM(t){let e=h.useRef(hw(t));return h.useEffect(()=>{e.current=hw(t)},[t]),e}let dM="div",KC=ai.RenderStrategy;function fM(t,e){let{beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:s,enter:o,enterFrom:a,enterTo:l,entered:u,leave:c,leaveFrom:d,leaveTo:f,...p}=t,v=h.useRef(null),E=vt(v,e),S=p.unmount?pr.Unmount:pr.Hidden,{show:g,appear:m,initial:y}=aM(),[_,C]=h.useState(g?"visible":"hidden"),x=lM(),{register:T,unregister:k}=x,L=h.useRef(null);h.useEffect(()=>T(v),[T,v]),h.useEffect(()=>{if(S===pr.Hidden&&v.current){if(g&&_!=="visible"){C("visible");return}return Ze(_,{hidden:()=>k(v),visible:()=>T(v)})}},[_,v,T,k,g,S]);let I=wr({enter:Si(o),enterFrom:Si(a),enterTo:Si(l),entered:Si(u),leave:Si(c),leaveFrom:Si(d),leaveTo:Si(f)}),D=hM({beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:s}),q=mo();h.useEffect(()=>{if(q&&_==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,_,q]);let Q=y&&!m,G=(()=>!q||Q||L.current===g?"idle":g?"enter":"leave")(),oe=tM(0),te=we(z=>Ze(z,{enter:()=>{oe.addFlag(Xe.Opening),D.current.beforeEnter()},leave:()=>{oe.addFlag(Xe.Closing),D.current.beforeLeave()},idle:()=>{}})),de=we(z=>Ze(z,{enter:()=>{oe.removeFlag(Xe.Opening),D.current.afterEnter()},leave:()=>{oe.removeFlag(Xe.Closing),D.current.afterLeave()},idle:()=>{}})),N=GC(()=>{C("hidden"),k(v)},x);sM({container:v,classes:I,direction:G,onStart:wr(z=>{N.onStart(v,z,te)}),onStop:wr(z=>{N.onStop(v,z,de),z==="leave"&&!Bh(N)&&(C("hidden"),k(v))})}),h.useEffect(()=>{Q&&(S===pr.Hidden?L.current=null:L.current=g)},[g,Q,_]);let A=p,O={ref:E};return m&&g&&(A={...A,className:Pp(p.className,...I.current.enter,...I.current.enterFrom)}),ie.createElement(Uh.Provider,{value:N},ie.createElement($g,{value:Ze(_,{visible:Xe.Open,hidden:Xe.Closed})|oe.flags},ut({ourProps:O,theirProps:A,defaultTag:dM,features:KC,visible:_==="visible",name:"Transition.Child"})))}function pM(t,e){let{show:n,appear:r=!1,unmount:i,...s}=t,o=h.useRef(null),a=vt(o,e);mo();let l=Sl();if(n===void 0&&l!==null&&(n=(l&Xe.Open)===Xe.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=h.useState(n?"visible":"hidden"),d=GC(()=>{c("hidden")}),[f,p]=h.useState(!0),v=h.useRef([n]);Ct(()=>{f!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),p(!1))},[v,n]);let E=h.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);h.useEffect(()=>{if(n)c("visible");else if(!Bh(d))c("hidden");else{let g=o.current;if(!g)return;let m=g.getBoundingClientRect();m.x===0&&m.y===0&&m.width===0&&m.height===0&&c("hidden")}},[n,d]);let S={unmount:i};return ie.createElement(Uh.Provider,{value:d},ie.createElement(jh.Provider,{value:E},ut({ourProps:{...S,as:h.Fragment,children:ie.createElement(QC,{ref:a,...S,...s})},theirProps:{},defaultTag:h.Fragment,features:KC,visible:u==="visible",name:"Transition"})))}function mM(t,e){let n=h.useContext(jh)!==null,r=Sl()!==null;return ie.createElement(ie.Fragment,null,!n&&r?ie.createElement(Op,{ref:e,...t}):ie.createElement(QC,{ref:e,...t}))}let Op=it(pM),QC=it(fM),gM=it(mM),Mn=Object.assign(Op,{Child:gM,Root:Op});function vM({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const yM=h.forwardRef(vM),wM=yM;function _M({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"}))}const EM=h.forwardRef(_M),SM=EM;function CM({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776"}))}const xM=h.forwardRef(CM),dw=xM;function LM({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498l4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 00-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0z"}))}const kM=h.forwardRef(LM),fw=kM;function TM({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"}))}const IM=h.forwardRef(TM),bM=IM;function NM({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"}))}const PM=h.forwardRef(NM),pw=PM;function RM({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const MM=h.forwardRef(RM),DM=MM,mw="/travelPrueba/assets/logo-1fd76898.png",AM=["Playa","Montaa","Ciudad"],gw=[{name:"Destinos",to:"/travelPrueba/",current:!1}],vw=[...AM.map(t=>({name:t,to:`/travelPrueba/category/${t}`,current:!0}))],yw=[{name:"Aadir destinos",to:"/travelPrueba/form",current:!0},{name:"Modificar Destinos",to:"/travelPrueba/formUpdate",current:!0}];function sn(...t){return t.filter(Boolean).join(" ")}function OM(){return w.jsx(bt,{as:"nav",className:"bg-white",children:({open:t})=>w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"relative flex h-16 items-center justify-between",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:w.jsxs(bt.Button,{className:"inline-flex items-center justify-center rounded-md p-2 text-custom-black hover:bg-custom-salmon hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[w.jsx("span",{className:"sr-only",children:"Open main menu"}),t?w.jsx(DM,{className:"block h-6 w-6","aria-hidden":"true"}):w.jsx(wM,{className:"block h-6 w-6","aria-hidden":"true"})]})}),w.jsxs("div",{className:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start",children:[w.jsxs("div",{className:"flex flex-shrink-0 items-center",children:[w.jsx("img",{className:"block h-9 w-auto lg:hidden object-contain",src:mw,alt:"Your Company"}),w.jsx("img",{className:"hidden h-9 w-auto lg:block object-contain",src:mw,alt:"Your Company"})]}),w.jsx("div",{className:"hidden sm:ml-6 sm:block",children:w.jsx("div",{className:"flex space-x-4",children:gw.map(e=>w.jsx(ar,{to:e.to,activeclassname:"bg-gray-900 text-white",className:sn("text-customer-black hover:bg-custom-salmon hover:text-white",{"bg-gray-900 text-white":e.current},"rounded-md px-3 py-2 text-sm font-medium"),children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(fw,{className:"h-6 w-6","aria-hidden":"true"}),e.name]})},e.name))})}),w.jsx("div",{className:"hidden sm:ml-6 sm:block",children:w.jsx("div",{className:"flex space-x-4",children:w.jsx(bt,{children:({open:e})=>w.jsxs(w.Fragment,{children:[w.jsx(bt.Button,{as:ar,to:"#",activeClassName:"bg-gray-900 text-white",className:sn("text-customer-black hover:bg-custom-salmon hover:text-white","rounded-md px-3 py-2 text-sm font-medium"),children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(dw,{className:"h-6 w-6"}),"Categorias"]})}),w.jsx("div",{className:"relative z-50",children:w.jsx(Mn,{show:e,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:w.jsx(bt.Panel,{static:!0,className:"absolute mt-2 bg-custom-salmon text-white rounded-md top-10 right-0 w-auto  py-2 shadow-lg ring-black ring-opacity-5 focus:outline-none z-50",children:vw.map(n=>w.jsx(ar,{to:n.to,activeClassName:"bg-gray-900 text-white",className:sn("text-custom-blue hover:bg-custom-blue hover:text-custom-blue3",{"bg-gray-900 text-white":n.current},"block px-4 py-2"),children:n.name},n.name))})})})]})})})}),w.jsx("div",{className:"hidden sm:ml-6 sm:block",children:w.jsx("div",{className:"flex space-x-4",children:w.jsx(bt,{children:({open:e})=>w.jsxs(w.Fragment,{children:[w.jsx(bt.Button,{as:ar,to:"#",className:sn("text-customer-black hover:bg-custom-salmon hover:text-white","rounded-md px-3 py-2 text-sm font-medium"),children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(pw,{className:"h-6 w-6"}),"Proveedores"]})}),w.jsx("div",{className:"relative z-50",children:w.jsx(Mn,{show:e,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:w.jsx(bt.Panel,{static:!0,className:"absolute mt-2 bg-custom-salmon text-white rounded-md top-10 right-0 w-auto  py-2 shadow-lg ring-black ring-opacity-5 focus:outline-none",children:yw.map(n=>w.jsx(ar,{to:n.to,activeClassName:"bg-gray-900 text-white",className:sn("text-customer-black hover:bg-custom-blue hover:text-custom-blue3",{"bg-gray-900 text-white":n.current},"block px-4 py-2"),children:n.name},n.name))})})})]})})})})]}),w.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[w.jsxs("button",{type:"button",className:"rounded-full bg-with p-1 text-custom-black hover:text-custom-salmon focus:outline-none focus:ring-2 focus:ring-custom-salmon focus:ring-offset-2 focus:ring-offset-custom-salmon",children:[w.jsx("span",{className:"sr-only",children:"View notifications"}),w.jsx(SM,{className:"h-6 w-6","aria-hidden":"true"})]}),w.jsxs(cs,{as:"div",className:"relative ml-3",children:[w.jsx("div",{children:w.jsxs(cs.Button,{className:"flex rounded-full bg-with text-sm focus:outline-none focus:ring-2 focus:ring-custom-salmon focus:ring-offset-2 focus:ring-offset-custom-salmon",children:[w.jsx("span",{className:"sr-only",children:"Open user menu"}),w.jsx(bM,{className:"h-6 w-6 text-custom-black hover:text-custom-salmon","aria-hidden":"true"})]})}),w.jsx(Mn,{as:h.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:w.jsxs(cs.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[w.jsx(cs.Item,{children:({active:e})=>w.jsx("a",{href:"#",className:sn(e?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Iniciar Sesin"})}),w.jsx(cs.Item,{children:({active:e})=>w.jsx("a",{href:"#",className:sn(e?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Configuracin"})}),w.jsx(cs.Item,{children:({active:e})=>w.jsx("a",{href:"#",className:sn(e?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Cerrar sesin"})})]})})]})]})]})}),w.jsxs(bt.Panel,{className:"sm:hidden space-y-4 p-4",children:[w.jsx("div",{children:gw.map(e=>w.jsx(bt.Button,{as:$h,to:e.to,className:sn(e.current?"bg-custom-salmon text-custom-black":"text-custom-black hover:bg-custom-salmon hover:text-white","block rounded-md px-3 py-2 text-base font-medium"),"aria-current":e.current?"page":void 0,children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(fw,{className:"h-auto w-6  my-0","aria-hidden":"true"}),e.name]})},e.name))}),w.jsx("div",{children:w.jsx(bt,{children:({open:e})=>w.jsxs(w.Fragment,{children:[w.jsx(bt.Button,{as:ar,to:"#",activeClassName:"bg-gray-900 text-white",className:sn("text-custom-black hover:bg-custom-salmon hover:text-white","block rounded-md px-3 py-2 text-sm font-medium"),children:w.jsxs("div",{className:"flex items-center  my-0",children:[w.jsx(dw,{className:"h-auto w-6  my-0","aria-hidden":"true"}),"Categorias"]})}),w.jsx(Mn,{show:e,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:w.jsx(bt.Panel,{static:!0,children:vw.map(n=>w.jsx(ar,{to:n.to,className:sn(" rounded-md text-custom-black hover:bg-custom-salmon hover:text-white ",{"bg-gray-900 text-custom-black ":n.current},"block px-4 py-2 "),children:n.name},n.name))})})]})})}),w.jsx("div",{children:w.jsx(bt,{children:({open:e})=>w.jsxs(w.Fragment,{children:[w.jsx(bt.Button,{as:ar,to:"#",className:sn("text-custom-black hover:bg-custom-salmon hover:text-white","block rounded-md px-3 py-2 text-sm font-medium"),children:w.jsxs("div",{className:"flex items-center  my-0",children:[w.jsx(pw,{className:"w-6 h-auto my-0"}),"Proveedores"]})}),w.jsx(Mn,{show:e,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:w.jsx(bt.Panel,{static:!0,children:yw.map(n=>w.jsx(ar,{to:n.to,activeClassName:"bg-gray-900 text-white",className:sn("rounded-md text-custom-black hover:bg-custom-salmon hover:text-white ",{"bg-gray-900 text-custom-black ":n.current},"block px-4 py-2 "),children:n.name},n.name))})})]})})})]})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(t,e){if(!t)throw go(e)},go=function(t){return new Error("Firebase Database ("+YC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$M=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Hg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$M(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new FM;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZC=function(t){const e=XC(t);return Hg.encodeByteArray(e,!0)},Uc=function(t){return ZC(t).replace(/\./g,"")},$p=function(t){try{return Hg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){return JC(void 0,t)}function JC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!UM(n)||(t[n]=JC(t[n],e[n]));return t}function UM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=()=>BM().__FIREBASE_DEFAULTS__,VM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$p(t[1]);return e&&JSON.parse(e)},ex=()=>{try{return zM()||VM()||WM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HM=t=>{var e,n;return(n=(e=ex())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tx=t=>{const e=HM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nx=()=>{var t;return(t=ex())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Uc(JSON.stringify(n)),Uc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ix(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qM())}function GM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sx(){return YC.NODE_ADMIN===!0}function KM(){try{return typeof indexedDB=="object"}catch{return!1}}function QM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="FirebaseError";class vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YM,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ox.prototype.create)}}class ox{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vo(i,a,r)}}function XM(t,e){return t.replace(ZM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){return JSON.parse(t)}function St(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ga($p(s[0])||""),n=Ga($p(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},JM=function(t){const e=ax(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},eD=function(t){const e=ax(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ys(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ww(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Fp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(_w(s)&&_w(o)){if(!Fp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _w(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function rD(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,$(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aD(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oD(t){return t===ki?void 0:t}function aD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const uD={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},cD=xe.INFO,hD={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},dD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gg{constructor(e){this.name=e,this._logLevel=cD,this._logHandler=dD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const fD=(t,e)=>e.some(n=>t instanceof n);let Ew,Sw;function pD(){return Ew||(Ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mD(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lx=new WeakMap,jp=new WeakMap,ux=new WeakMap,uf=new WeakMap,Kg=new WeakMap;function gD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lx.set(n,t)}).catch(()=>{}),Kg.set(e,t),e}function vD(t){if(jp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jp.set(t,e)}let Up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ux.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yD(t){Up=t(Up)}function wD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cf(this),e,...n);return ux.set(r,e.sort?e.sort():[e]),ei(r)}:mD().includes(t)?function(...e){return t.apply(cf(this),e),ei(lx.get(this))}:function(...e){return ei(t.apply(cf(this),e))}}function _D(t){return typeof t=="function"?wD(t):(t instanceof IDBTransaction&&vD(t),fD(t,pD())?new Proxy(t,Up):t)}function ei(t){if(t instanceof IDBRequest)return gD(t);if(uf.has(t))return uf.get(t);const e=_D(t);return e!==t&&(uf.set(t,e),Kg.set(e,t)),e}const cf=t=>Kg.get(t);function ED(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ei(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ei(o.result),l.oldVersion,l.newVersion,ei(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const SD=["get","getKey","getAll","getAllKeys","count"],CD=["put","add","delete","clear"],hf=new Map;function Cw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hf.get(e))return hf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return hf.set(e,s),s}yD(t=>({...t,get:(e,n,r)=>Cw(e,n)||t.get(e,n,r),has:(e,n)=>!!Cw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bp="@firebase/app",xw="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Gg("@firebase/app"),kD="@firebase/app-compat",TD="@firebase/analytics-compat",ID="@firebase/analytics",bD="@firebase/app-check-compat",ND="@firebase/app-check",PD="@firebase/auth",RD="@firebase/auth-compat",MD="@firebase/database",DD="@firebase/database-compat",AD="@firebase/functions",OD="@firebase/functions-compat",$D="@firebase/installations",FD="@firebase/installations-compat",jD="@firebase/messaging",UD="@firebase/messaging-compat",BD="@firebase/performance",zD="@firebase/performance-compat",VD="@firebase/remote-config",WD="@firebase/remote-config-compat",HD="@firebase/storage",qD="@firebase/storage-compat",GD="@firebase/firestore",KD="@firebase/firestore-compat",QD="firebase",YD="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="[DEFAULT]",XD={[Bp]:"fire-core",[kD]:"fire-core-compat",[ID]:"fire-analytics",[TD]:"fire-analytics-compat",[ND]:"fire-app-check",[bD]:"fire-app-check-compat",[PD]:"fire-auth",[RD]:"fire-auth-compat",[MD]:"fire-rtdb",[DD]:"fire-rtdb-compat",[AD]:"fire-fn",[OD]:"fire-fn-compat",[$D]:"fire-iid",[FD]:"fire-iid-compat",[jD]:"fire-fcm",[UD]:"fire-fcm-compat",[BD]:"fire-perf",[zD]:"fire-perf-compat",[VD]:"fire-rc",[WD]:"fire-rc-compat",[HD]:"fire-gcs",[qD]:"fire-gcs-compat",[GD]:"fire-fst",[KD]:"fire-fst-compat","fire-js":"fire-js",[QD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,Vp=new Map;function ZD(t,e){try{t.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ka(t){const e=t.name;if(Vp.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,t);for(const n of zc.values())ZD(n,t);return!0}function cx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ti=new ox("app","Firebase",JD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=YD;function dx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ti.create("bad-app-name",{appName:String(i)});if(n||(n=nx()),!n)throw ti.create("no-options");const s=zc.get(i);if(s){if(Fp(n,s.options)&&Fp(r,s.config))return s;throw ti.create("duplicate-app",{appName:i})}const o=new lD(i);for(const l of Vp.values())o.addComponent(l);const a=new eA(n,r,o);return zc.set(i,a),a}function fx(t=zp){const e=zc.get(t);if(!e&&t===zp&&nx())return dx();if(!e)throw ti.create("no-app",{appName:t});return e}function ni(t,e,n){var r;let i=(r=XD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(a.join(" "));return}Ka(new Xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebase-heartbeat-database",nA=1,Qa="firebase-heartbeat-store";let df=null;function px(){return df||(df=ED(tA,nA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qa)}}}).catch(t=>{throw ti.create("idb-open",{originalErrorMessage:t.message})})),df}async function rA(t){try{return await(await px()).transaction(Qa).objectStore(Qa).get(mx(t))}catch(e){if(e instanceof vo)Gi.warn(e.message);else{const n=ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function Lw(t,e){try{const r=(await px()).transaction(Qa,"readwrite");await r.objectStore(Qa).put(e,mx(t)),await r.done}catch(n){if(n instanceof vo)Gi.warn(n.message);else{const r=ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(r.message)}}}function mx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=1024,sA=30*24*60*60*1e3;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=sA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kw(),{heartbeatsToSend:n,unsentEntries:r}=aA(this._heartbeatsCache.heartbeats),i=Uc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function kw(){return new Date().toISOString().substring(0,10)}function aA(t,e=iA){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Tw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KM()?QM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await rA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tw(t){return Uc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){Ka(new Xs("platform-logger",e=>new xD(e),"PRIVATE")),Ka(new Xs("heartbeat",e=>new oA(e),"PRIVATE")),ni(Bp,xw,t),ni(Bp,xw,"esm2017"),ni("fire-js","")}uA("");var cA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,Qg=Qg||{},J=cA||self;function Vh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function kl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function hA(t){return Object.prototype.hasOwnProperty.call(t,ff)&&t[ff]||(t[ff]=++dA)}var ff="closure_uid_"+(1e9*Math.random()>>>0),dA=0;function fA(t,e,n){return t.call.apply(t.bind,arguments)}function pA(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jt=fA:jt=pA,jt.apply(null,arguments)}function Ru(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function yt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function wi(){this.s=this.s,this.o=this.o}var mA=0;wi.prototype.s=!1;wi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),mA!=0)&&hA(this)};wi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Yg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Iw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Vh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var gA=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",()=>{},e),J.removeEventListener("test",()=>{},e)}catch{}return t}();function Ya(t){return/^[\s\xa0]*$/.test(t)}function Wh(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Kn(t){return Wh().indexOf(t)!=-1}function Xg(t){return Xg[" "](t),t}Xg[" "]=function(){};function vA(t,e){var n=uO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var yA=Kn("Opera"),Zs=Kn("Trident")||Kn("MSIE"),vx=Kn("Edge"),Wp=vx||Zs,yx=Kn("Gecko")&&!(Wh().toLowerCase().indexOf("webkit")!=-1&&!Kn("Edge"))&&!(Kn("Trident")||Kn("MSIE"))&&!Kn("Edge"),wA=Wh().toLowerCase().indexOf("webkit")!=-1&&!Kn("Edge");function wx(){var t=J.document;return t?t.documentMode:void 0}var Hp;e:{var pf="",mf=function(){var t=Wh();if(yx)return/rv:([^\);]+)(\)|;)/.exec(t);if(vx)return/Edge\/([\d\.]+)/.exec(t);if(Zs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(wA)return/WebKit\/(\S+)/.exec(t);if(yA)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(mf&&(pf=mf?mf[1]:""),Zs){var gf=wx();if(gf!=null&&gf>parseFloat(pf)){Hp=String(gf);break e}}Hp=pf}var qp;if(J.document&&Zs){var bw=wx();qp=bw||parseInt(Hp,10)||void 0}else qp=void 0;var _A=qp;function Xa(t,e){if(Ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yx){e:{try{Xg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:EA[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xa.$.h.call(this)}}yt(Xa,Ut);var EA={2:"touch",3:"pen",4:"mouse"};Xa.prototype.h=function(){Xa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tl="closure_listenable_"+(1e6*Math.random()|0),SA=0;function CA(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++SA,this.fa=this.ia=!1}function Hh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Zg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function xA(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function _x(t){const e={};for(const n in t)e[n]=t[n];return e}const Nw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ex(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Nw.length;s++)n=Nw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function qh(t){this.src=t,this.g={},this.h=0}qh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Kp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new CA(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Gp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=gx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Kp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Jg="closure_lm_"+(1e6*Math.random()|0),vf={};function Sx(t,e,n,r,i){if(r&&r.once)return xx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Sx(t,e[s],n,r,i);return null}return n=nv(n),t&&t[Tl]?t.O(e,n,kl(r)?!!r.capture:!!r,i):Cx(t,e,n,!1,r,i)}function Cx(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=kl(i)?!!i.capture:!!i,a=tv(t);if(a||(t[Jg]=a=new qh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=LA(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gA||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(kx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function LA(){function t(n){return e.call(t.src,t.listener,n)}const e=kA;return t}function xx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xx(t,e[s],n,r,i);return null}return n=nv(n),t&&t[Tl]?t.P(e,n,kl(r)?!!r.capture:!!r,i):Cx(t,e,n,!0,r,i)}function Lx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Lx(t,e[s],n,r,i);else r=kl(r)?!!r.capture:!!r,n=nv(n),t&&t[Tl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Kp(s,n,r,i),-1<n&&(Hh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=tv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Kp(e,n,r,i)),(n=-1<t?e[t]:null)&&ev(n))}function ev(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Tl])Gp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tv(e))?(Gp(n,t),n.h==0&&(n.src=null,e[Jg]=null)):Hh(t)}}}function kx(t){return t in vf?vf[t]:vf[t]="on"+t}function kA(t,e){if(t.fa)t=!0;else{e=new Xa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ev(t),t=n.call(r,e)}return t}function tv(t){return t=t[Jg],t instanceof qh?t:null}var yf="__closure_events_fn_"+(1e9*Math.random()>>>0);function nv(t){return typeof t=="function"?t:(t[yf]||(t[yf]=function(e){return t.handleEvent(e)}),t[yf])}function gt(){wi.call(this),this.i=new qh(this),this.S=this,this.J=null}yt(gt,wi);gt.prototype[Tl]=!0;gt.prototype.removeEventListener=function(t,e,n,r){Lx(this,t,e,n,r)};function Lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ut(e,t);else if(e instanceof Ut)e.target=e.target||t;else{var i=e;e=new Ut(r,t),Ex(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Mu(o,r,!0,e)&&i}if(o=e.g=t,i=Mu(o,r,!0,e)&&i,i=Mu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Mu(o,r,!1,e)&&i}gt.prototype.N=function(){if(gt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hh(n[r]);delete t.g[e],t.h--}}this.J=null};gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};gt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Mu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Gp(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var rv=J.JSON.stringify;class TA{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function IA(){var t=iv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class bA{constructor(){this.h=this.g=null}add(e,n){const r=Tx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Tx=new TA(()=>new NA,t=>t.reset());class NA{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function PA(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function RA(t){J.setTimeout(()=>{throw t},0)}let Za,Ja=!1,iv=new bA,Ix=()=>{const t=J.Promise.resolve(void 0);Za=()=>{t.then(MA)}};var MA=()=>{for(var t;t=IA();){try{t.h.call(t.g)}catch(n){RA(n)}var e=Tx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ja=!1};function Gh(t,e){gt.call(this),this.h=t||1,this.g=e||J,this.j=jt(this.qb,this),this.l=Date.now()}yt(Gh,gt);F=Gh.prototype;F.ga=!1;F.T=null;F.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lt(this,"tick"),this.ga&&(sv(this),this.start()))}};F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}F.N=function(){Gh.$.N.call(this),sv(this),delete this.g};function ov(t,e,n){if(typeof t=="function")n&&(t=jt(t,n));else if(t&&typeof t.handleEvent=="function")t=jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function bx(t){t.g=ov(()=>{t.g=null,t.i&&(t.i=!1,bx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class DA extends wi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bx(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function el(t){wi.call(this),this.h=t,this.g={}}yt(el,wi);var Pw=[];function Nx(t,e,n,r){Array.isArray(n)||(n&&(Pw[0]=n.toString()),n=Pw);for(var i=0;i<n.length;i++){var s=Sx(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Px(t){Zg(t.g,function(e,n){this.g.hasOwnProperty(n)&&ev(e)},t),t.g={}}el.prototype.N=function(){el.$.N.call(this),Px(this)};el.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kh(){this.g=!0}Kh.prototype.Ea=function(){this.g=!1};function AA(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function OA(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ts(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+FA(t,n)+(r?" "+r:"")})}function $A(t,e){t.info(function(){return"TIMEOUT: "+e})}Kh.prototype.info=function(){};function FA(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return rv(n)}catch{return e}}var is={},Rw=null;function Qh(){return Rw=Rw||new gt}is.Ta="serverreachability";function Rx(t){Ut.call(this,is.Ta,t)}yt(Rx,Ut);function tl(t){const e=Qh();Lt(e,new Rx(e))}is.STAT_EVENT="statevent";function Mx(t,e){Ut.call(this,is.STAT_EVENT,t),this.stat=e}yt(Mx,Ut);function qt(t){const e=Qh();Lt(e,new Mx(e,t))}is.Ua="timingevent";function Dx(t,e){Ut.call(this,is.Ua,t),this.size=e}yt(Dx,Ut);function Il(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var Yh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ax={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function av(){}av.prototype.h=null;function Mw(t){return t.h||(t.h=t.i())}function Ox(){}var bl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lv(){Ut.call(this,"d")}yt(lv,Ut);function uv(){Ut.call(this,"c")}yt(uv,Ut);var Qp;function Xh(){}yt(Xh,av);Xh.prototype.g=function(){return new XMLHttpRequest};Xh.prototype.i=function(){return{}};Qp=new Xh;function Nl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new el(this),this.P=jA,t=Wp?125:void 0,this.V=new Gh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $x}function $x(){this.i=null,this.g="",this.h=!1}var jA=45e3,Yp={},Vc={};F=Nl.prototype;F.setTimeout=function(t){this.P=t};function Xp(t,e,n){t.L=1,t.v=Jh(kr(e)),t.s=n,t.S=!0,Fx(t,null)}function Fx(t,e){t.G=Date.now(),Pl(t),t.A=kr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),qx(n.i,"t",r),t.C=0,n=t.l.J,t.h=new $x,t.g=fL(t.l,n?e:null,!t.s),0<t.O&&(t.M=new DA(jt(t.Pa,t,t.g),t.O)),Nx(t.U,t.g,"readystatechange",t.nb),e=t.I?_x(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),tl(),AA(t.j,t.u,t.A,t.m,t.W,t.s)}F.nb=function(t){t=t.target;const e=this.M;e&&Qn(t)==3?e.l():this.Pa(t)};F.Pa=function(t){try{if(t==this.g)e:{const c=Qn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Wp||this.g&&(this.h.h||this.g.ja()||$w(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?tl(3):tl(2)),Zh(this);var n=this.g.da();this.ca=n;t:if(jx(this)){var r=$w(this.g);t="";var i=r.length,s=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),ga(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,OA(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ya(a)){var u=a;break t}}u=null}if(n=u)Ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zp(this,n);else{this.i=!1,this.o=3,qt(12),Mi(this),ga(this);break e}}this.S?(Ux(this,c,o),Wp&&this.i&&c==3&&(Nx(this.U,this.V,"tick",this.mb),this.V.start())):(Ts(this.j,this.m,o,null),Zp(this,o)),c==4&&Mi(this),this.i&&!this.J&&(c==4?uL(this.l,this):(this.i=!1,Pl(this)))}else oO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,qt(12)):(this.o=0,qt(13)),Mi(this),ga(this)}}}catch{}finally{}};function jx(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Ux(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=UA(t,n),i==Vc){e==4&&(t.o=4,qt(14),r=!1),Ts(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Yp){t.o=4,qt(15),Ts(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ts(t.j,t.m,i,null),Zp(t,i);jx(t)&&i!=Vc&&i!=Yp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mv(e),e.M=!0,qt(11))):(Ts(t.j,t.m,n,"[Invalid Chunked Response]"),Mi(t),ga(t))}F.mb=function(){if(this.g){var t=Qn(this.g),e=this.g.ja();this.C<e.length&&(Zh(this),Ux(this,t,e),this.i&&t!=4&&Pl(this))}};function UA(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Vc:(n=Number(e.substring(n,r)),isNaN(n)?Yp:(r+=1,r+n>e.length?Vc:(e=e.slice(r,r+n),t.C=r+n,e)))}F.cancel=function(){this.J=!0,Mi(this)};function Pl(t){t.Y=Date.now()+t.P,Bx(t,t.P)}function Bx(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Il(jt(t.lb,t),e)}function Zh(t){t.B&&(J.clearTimeout(t.B),t.B=null)}F.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?($A(this.j,this.A),this.L!=2&&(tl(),qt(17)),Mi(this),this.o=2,ga(this)):Bx(this,this.Y-t)};function ga(t){t.l.H==0||t.J||uL(t.l,t)}function Mi(t){Zh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sv(t.V),Px(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Zp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Jp(n.i,t))){if(!t.K&&Jp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qc(n),nd(n);else break e;pv(n),qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Il(jt(n.ib,n),6e3));if(1>=Qx(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Di(n,11)}else if((t.K||n.g==t)&&qc(n),!Ya(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(cv(s,s.h),s.h=null))}if(r.F){const E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,$e(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=dL(r,r.J?r.pa:null,r.Y),o.K){Yx(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Zh(a),Pl(a)),r.g=o}else aL(r);0<n.j.length&&rd(n)}else u[0]!="stop"&&u[0]!="close"||Di(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Di(n,7):fv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}tl(4)}catch{}}function BA(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Vh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function zA(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Vh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function zx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Vh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=zA(t),r=BA(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Vx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VA(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ui(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ui){this.h=t.h,Wc(this,t.j),this.s=t.s,this.g=t.g,Hc(this,t.m),this.l=t.l;var e=t.i,n=new nl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Dw(this,n),this.o=t.o}else t&&(e=String(t).match(Vx))?(this.h=!1,Wc(this,e[1]||"",!0),this.s=ea(e[2]||""),this.g=ea(e[3]||"",!0),Hc(this,e[4]),this.l=ea(e[5]||"",!0),Dw(this,e[6]||"",!0),this.o=ea(e[7]||"")):(this.h=!1,this.i=new nl(null,this.h))}Ui.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ta(e,Aw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ta(e,Aw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ta(n,n.charAt(0)=="/"?qA:HA,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ta(n,KA)),t.join("")};function kr(t){return new Ui(t)}function Wc(t,e,n){t.j=n?ea(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Dw(t,e,n){e instanceof nl?(t.i=e,QA(t.i,t.h)):(n||(e=ta(e,GA)),t.i=new nl(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function Jh(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ea(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ta(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,WA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function WA(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Aw=/[#\/\?@]/g,HA=/[#\?:]/g,qA=/[#\?]/g,GA=/[#\?@]/g,KA=/#/g;function nl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _i(t){t.g||(t.g=new Map,t.h=0,t.i&&VA(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}F=nl.prototype;F.add=function(t,e){_i(this),this.i=null,t=yo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Wx(t,e){_i(t),e=yo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Hx(t,e){return _i(t),e=yo(t,e),t.g.has(e)}F.forEach=function(t,e){_i(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};F.ta=function(){_i(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};F.Z=function(t){_i(this);let e=[];if(typeof t=="string")Hx(this,t)&&(e=e.concat(this.g.get(yo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};F.set=function(t,e){return _i(this),this.i=null,t=yo(this,t),Hx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};F.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function qx(t,e,n){Wx(t,e),0<n.length&&(t.i=null,t.g.set(yo(t,e),Yg(n)),t.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function yo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function QA(t,e){e&&!t.j&&(_i(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Wx(this,r),qx(this,i,n))},t)),t.j=e}var YA=class{constructor(t,e){this.g=t,this.map=e}};function Gx(t){this.l=t||XA,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XA=10;function Kx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Qx(t){return t.h?1:t.g?t.g.size:0}function Jp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function cv(t,e){t.g?t.g.add(e):t.h=e}function Yx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Gx.prototype.cancel=function(){if(this.i=Xx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Xx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Yg(t.i)}var ZA=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function JA(){this.g=new ZA}function eO(t,e,n){const r=n||"";try{zx(t,function(i,s){let o=i;kl(i)&&(o=rv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function tO(t,e){const n=new Kh;if(J.Image){const r=new Image;r.onload=Ru(Du,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ru(Du,n,r,"TestLoadImage: error",!1,e),r.onabort=Ru(Du,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ru(Du,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Du(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Rl(t){this.l=t.fc||null,this.j=t.ob||!1}yt(Rl,av);Rl.prototype.g=function(){return new ed(this.l,this.j)};Rl.prototype.i=function(t){return function(){return t}}({});function ed(t,e){gt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yt(ed,gt);var hv=0;F=ed.prototype;F.open=function(t,e){if(this.readyState!=hv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rl(this)};F.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ml(this)),this.readyState=hv};F.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Zx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}F.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ml(this):rl(this),this.readyState==3&&Zx(this)}};F.Za=function(t){this.g&&(this.response=this.responseText=t,Ml(this))};F.Ya=function(t){this.g&&(this.response=t,Ml(this))};F.ka=function(){this.g&&Ml(this)};function Ml(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rl(t)}F.setRequestHeader=function(t,e){this.v.append(t,e)};F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function rl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ed.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var nO=J.JSON.parse;function Qe(t){gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Jx,this.L=this.M=!1}yt(Qe,gt);var Jx="",rO=/^https?$/i,iO=["POST","PUT"];F=Qe.prototype;F.Oa=function(t){this.M=t};F.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qp.g(),this.C=this.u?Mw(this.u):Mw(Qp),this.g.onreadystatechange=jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Ow(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=gx(iO,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nL(this),0<this.B&&((this.L=sO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.ua,this)):this.A=ov(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ow(this,s)}};function sO(t){return Zs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}F.ua=function(){typeof Qg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))};function Ow(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eL(t),td(t)}function eL(t){t.F||(t.F=!0,Lt(t,"complete"),Lt(t,"error"))}F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),td(this))};F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),td(this,!0)),Qe.$.N.call(this)};F.La=function(){this.s||(this.G||this.v||this.l?tL(this):this.kb())};F.kb=function(){tL(this)};function tL(t){if(t.h&&typeof Qg<"u"&&(!t.C[1]||Qn(t)!=4||t.da()!=2)){if(t.v&&Qn(t)==4)ov(t.La,0,t);else if(Lt(t,"readystatechange"),Qn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Vx)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!rO.test(i?i.toLowerCase():"")}n=r}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var s=2<Qn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",eL(t)}}finally{td(t)}}}}function td(t,e){if(t.g){nL(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function nL(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}F.isActive=function(){return!!this.g};function Qn(t){return t.g?t.g.readyState:0}F.da=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}};F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),nO(e)}};function $w(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Jx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function oO(t){const e={};t=(t.g&&2<=Qn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ya(t[r]))continue;var n=PA(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}xA(e,function(r){return r.join(", ")})}F.Ia=function(){return this.m};F.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function rL(t){let e="";return Zg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function dv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rL(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function Bo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iL(t){this.Ga=0,this.j=[],this.l=new Kh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bo("baseRetryDelayMs",5e3,t),this.hb=Bo("retryDelaySeedMs",1e4,t),this.eb=Bo("forwardChannelMaxRetries",2,t),this.xa=Bo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Gx(t&&t.concurrentRequestLimit),this.Ja=new JA,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}F=iL.prototype;F.ra=8;F.H=1;function fv(t){if(sL(t),t.H==3){var e=t.W++,n=kr(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Dl(t,n),e=new Nl(t,t.l,e),e.L=2,e.v=Jh(kr(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.v,n=!0),n||(e.g=fL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Pl(e)}hL(t)}function nd(t){t.g&&(mv(t),t.g.cancel(),t.g=null)}function sL(t){nd(t),t.u&&(J.clearTimeout(t.u),t.u=null),qc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function rd(t){if(!Kx(t.i)&&!t.m){t.m=!0;var e=t.Na;Za||Ix(),Ja||(Za(),Ja=!0),iv.add(e,t),t.C=0}}function aO(t,e){return Qx(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Il(jt(t.Na,t,e),cL(t,t.C)),t.C++,!0)}F.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Nl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=_x(s),Ex(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oL(this,i,e),n=kr(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Dl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(rL(s)))+"&"+e:this.o&&dv(n,this.o,s)),cv(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,Xp(i,n,null)):Xp(i,n,e),this.H=2}}else this.H==3&&(t?Fw(this,t):this.j.length==0||Kx(this.i)||Fw(this))};function Fw(t,e){var n;e?n=e.m:n=t.W++;const r=kr(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),Dl(t,r),t.o&&t.s&&dv(r,t.o,t.s),n=new Nl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=oL(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),cv(t.i,n),Xp(n,r,e)}function Dl(t,e){t.na&&Zg(t.na,function(n,r){$e(e,r,n)}),t.h&&zx({},function(n,r){$e(e,r,n)})}function oL(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{eO(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function aL(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Za||Ix(),Ja||(Za(),Ja=!0),iv.add(e,t),t.A=0}}function pv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Il(jt(t.Ma,t),cL(t,t.A)),t.A++,!0)}F.Ma=function(){if(this.u=null,lL(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Il(jt(this.jb,this),t)}};F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qt(10),nd(this),lL(this))};function mv(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function lL(t){t.g=new Nl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=kr(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Dl(t,e),t.o&&t.s&&dv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Jh(kr(e)),n.s=null,n.S=!0,Fx(n,t)}F.ib=function(){this.v!=null&&(this.v=null,nd(this),pv(this),qt(19))};function qc(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function uL(t,e){var n=null;if(t.g==e){qc(t),mv(t),t.g=null;var r=2}else if(Jp(t.i,e))n=e.F,Yx(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Qh(),Lt(r,new Dx(r,n)),rd(t)}else aL(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&aO(t,e)||r==2&&pv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Di(t,5);break;case 4:Di(t,10);break;case 3:Di(t,6);break;default:Di(t,2)}}}function cL(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Di(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jt(t.pb,t);n||(n=new Ui("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||Wc(n,"https"),Jh(n)),tO(n.toString(),r)}else qt(2);t.H=0,t.h&&t.h.za(e),hL(t),sL(t)}F.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qt(2)):(this.l.info("Failed to ping google.com"),qt(1))};function hL(t){if(t.H=0,t.ma=[],t.h){const e=Xx(t.i);(e.length!=0||t.j.length!=0)&&(Iw(t.ma,e),Iw(t.ma,t.j),t.i.i.length=0,Yg(t.j),t.j.length=0),t.h.ya()}}function dL(t,e,n){var r=n instanceof Ui?kr(n):new Ui(n);if(r.g!="")e&&(r.g=e+"."+r.g),Hc(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ui(null);r&&Wc(s,r),e&&(s.g=e),i&&Hc(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),Dl(t,r),r}function fL(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Qe(new Rl({ob:!0})):new Qe(t.va),e.Oa(t.J),e}F.isActive=function(){return!!this.h&&this.h.isActive(this)};function pL(){}F=pL.prototype;F.Ba=function(){};F.Aa=function(){};F.za=function(){};F.ya=function(){};F.isActive=function(){return!0};F.Va=function(){};function Gc(){if(Zs&&!(10<=Number(_A)))throw Error("Environmental error: no available transport.")}Gc.prototype.g=function(t,e){return new fn(t,e)};function fn(t,e){gt.call(this),this.g=new iL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ya(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ya(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wo(this)}yt(fn,gt);fn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dL(t,null,t.Y),rd(t)};fn.prototype.close=function(){fv(this.g)};fn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=rv(t),t=n);e.j.push(new YA(e.fb++,t)),e.H==3&&rd(e)};fn.prototype.N=function(){this.g.h=null,delete this.j,fv(this.g),delete this.g,fn.$.N.call(this)};function mL(t){lv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}yt(mL,lv);function gL(){uv.call(this),this.status=1}yt(gL,uv);function wo(t){this.g=t}yt(wo,pL);wo.prototype.Ba=function(){Lt(this.g,"a")};wo.prototype.Aa=function(t){Lt(this.g,new mL(t))};wo.prototype.za=function(t){Lt(this.g,new gL)};wo.prototype.ya=function(){Lt(this.g,"b")};function lO(){this.blockSize=-1}function zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}yt(zn,lO);zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function wf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}zn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)wf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){wf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){wf(this,r),i=0;break}}this.h=i,this.i+=e};zn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var uO={};function gv(t){return-128<=t&&128>t?vA(t,function(e){return new be([e|0],0>e?-1:0)}):new be([t|0],0>t?-1:0)}function Yn(t){if(isNaN(t)||!isFinite(t))return Os;if(0>t)return Et(Yn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=em;return new be(e,0)}function vL(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(vL(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yn(Math.pow(e,8)),r=Os,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Yn(Math.pow(e,s)),r=r.R(s).add(Yn(o))):(r=r.R(n),r=r.add(Yn(o)))}return r}var em=4294967296,Os=gv(0),tm=gv(1),jw=gv(16777216);F=be.prototype;F.ea=function(){if(wn(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:em+r)*e,e*=em}return t};F.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(mr(this))return"0";if(wn(this))return"-"+Et(this).toString(t);for(var e=Yn(Math.pow(t,6)),n=this,r="";;){var i=Qc(n,e).g;n=Kc(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,mr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};F.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function mr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function wn(t){return t.h==-1}F.X=function(t){return t=Kc(this,t),wn(t)?-1:mr(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(tm)}F.abs=function(){return wn(this)?Et(this):this};F.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new be(n,n[n.length-1]&-2147483648?-1:0)};function Kc(t,e){return t.add(Et(e))}F.R=function(t){if(mr(this)||mr(t))return Os;if(wn(this))return wn(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(wn(t))return Et(this.R(Et(t)));if(0>this.X(jw)&&0>t.X(jw))return Yn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Au(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Au(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Au(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Au(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)};function Au(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function zo(t,e){this.g=t,this.h=e}function Qc(t,e){if(mr(e))throw Error("division by zero");if(mr(t))return new zo(Os,Os);if(wn(t))return e=Qc(Et(t),e),new zo(Et(e.g),Et(e.h));if(wn(e))return e=Qc(t,Et(e)),new zo(Et(e.g),e.h);if(30<t.g.length){if(wn(t)||wn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=tm,r=e;0>=r.X(t);)n=Uw(n),r=Uw(r);var i=hs(n,1),s=hs(r,1);for(r=hs(r,2),n=hs(n,2);!mr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=hs(r,1),n=hs(n,1)}return e=Kc(t,i.R(e)),new zo(i,e)}for(i=Os;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Yn(n),o=s.R(e);wn(o)||0<o.X(t);)n-=r,s=Yn(n),o=s.R(e);mr(s)&&(s=tm),i=i.add(s),t=Kc(t,o)}return new zo(i,t)}F.gb=function(t){return Qc(this,t).h};F.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)};F.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)};F.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)};function Uw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function hs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new be(i,t.h)}Gc.prototype.createWebChannel=Gc.prototype.g;fn.prototype.send=fn.prototype.u;fn.prototype.open=fn.prototype.m;fn.prototype.close=fn.prototype.close;Yh.NO_ERROR=0;Yh.TIMEOUT=8;Yh.HTTP_ERROR=6;Ax.COMPLETE="complete";Ox.EventType=bl;bl.OPEN="a";bl.CLOSE="b";bl.ERROR="c";bl.MESSAGE="d";gt.prototype.listen=gt.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;zn.prototype.digest=zn.prototype.l;zn.prototype.reset=zn.prototype.reset;zn.prototype.update=zn.prototype.j;be.prototype.add=be.prototype.add;be.prototype.multiply=be.prototype.R;be.prototype.modulo=be.prototype.gb;be.prototype.compare=be.prototype.X;be.prototype.toNumber=be.prototype.ea;be.prototype.toString=be.prototype.toString;be.prototype.getBits=be.prototype.D;be.fromNumber=Yn;be.fromString=vL;var cO=function(){return new Gc},hO=function(){return Qh()},_f=Yh,dO=Ax,fO=is,Bw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pO=Rl,Ou=Ox,mO=Qe,gO=zn,$s=be;const zw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Gg("@firebase/firestore");function Vw(){return Ki.logLevel}function V(t,...e){if(Ki.logLevel<=xe.DEBUG){const n=e.map(vv);Ki.debug(`Firestore (${_o}): ${t}`,...n)}}function Tr(t,...e){if(Ki.logLevel<=xe.ERROR){const n=e.map(vv);Ki.error(`Firestore (${_o}): ${t}`,...n)}}function Js(t,...e){if(Ki.logLevel<=xe.WARN){const n=e.map(vv);Ki.warn(`Firestore (${_o}): ${t}`,...n)}}function vv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function Ue(t,e){t||Z()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class yO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wO{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _r,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _r)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new yL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Rt(e)}}class _O{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class EO{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new _O(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CO{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.T=n.token,new SO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function eo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new at(0,0))}static max(){return new ee(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return il.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof il?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends il{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new j(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const LO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends il{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return LO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new j(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new j(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new j(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(Fe.fromString(e))}static fromName(e){return new H(Fe.fromString(e).popFirst(5))}static empty(){return new H(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new Fe(e.slice()))}}function kO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new li(i,H.empty(),e)}function TO(t){return new li(t.readTime,t.key,-1)}class li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new li(ee.min(),H.empty(),-1)}static max(){return new li(ee.max(),H.empty(),-1)}}function IO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==bO)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ol(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}yv.ct=-1;function id(t){return t==null}function Yc(t){return t===0&&1/t==-1/0}function PO(t){return typeof t=="number"&&Number.isInteger(t)&&!Yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _L(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(t,e,n,r,i){return this}insert(t,e,n){return new _t(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hw(this.data.getIterator())}getIteratorFrom(e){return new Hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class Hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new un([])}unionWith(e){let n=new Bt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new EL("Invalid base64 string: "+i):i}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const RO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=RO.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qi(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _v(t){const e=t.mapValue.fields.__previous_value__;return wv(e)?_v(e):e}function sl(t){const e=ui(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ol{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ol("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wv(t)?4:DO(t)?9007199254740991:10:Z()}function sr(t,e){if(t===e)return!0;const n=Yi(t);if(n!==Yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sl(t).isEqual(sl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ui(r.timestampValue),o=ui(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Qi(r.bytesValue).isEqual(Qi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return et(r.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return et(r.integerValue)===et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=et(r.doubleValue),o=et(i.doubleValue);return s===o?Yc(s)===Yc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return eo(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Ww(s)!==Ww(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!sr(s[a],o[a])))return!1;return!0}(t,e);default:return Z()}}function al(t,e){return(t.values||[]).find(n=>sr(n,e))!==void 0}function to(t,e){if(t===e)return 0;const n=Yi(t),r=Yi(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=et(i.integerValue||i.doubleValue),a=et(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return qw(t.timestampValue,e.timestampValue);case 4:return qw(sl(t),sl(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Qi(i),a=Qi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Le(o[l],a[l]);if(u!==0)return u}return Le(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Le(et(i.latitude),et(s.latitude));return o!==0?o:Le(et(i.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=to(o[l],a[l]);if(u)return u}return Le(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Fu.mapValue&&s===Fu.mapValue)return 0;if(i===Fu.mapValue)return 1;if(s===Fu.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Le(a[c],u[c]);if(d!==0)return d;const f=to(o[a[c]],l[u[c]]);if(f!==0)return f}return Le(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Z()}}function qw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=ui(t),r=ui(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function no(t){return nm(t)}function nm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ui(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Qi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,H.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=nm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${nm(r.fields[a])}`;return s+"}"}(t.mapValue):Z();var e,n}function Gw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rm(t){return!!t&&"integerValue"in t}function Ev(t){return!!t&&"arrayValue"in t}function Kw(t){return!!t&&"nullValue"in t}function Qw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ic(t){return!!t&&"mapValue"in t}function va(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=va(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=va(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ic(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=va(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=va(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ic(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ic(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ss(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xt(va(this.value))}}function SL(t){const e=[];return ss(t.fields,(n,r)=>{const i=new $t([n]);if(ic(r)){const s=SL(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,ee.min(),ee.min(),ee.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,ee.min(),ee.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,ee.min(),ee.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.position=e,this.inclusive=n}}function Yw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=to(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n="asc"){this.field=e,this.dir=n}}function AO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{}class nt extends CL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $O(e,n,r):n==="array-contains"?new UO(e,r):n==="in"?new BO(e,r):n==="not-in"?new zO(e,r):n==="array-contains-any"?new VO(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FO(e,r):new jO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(to(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends CL{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Vn(e,n)}matches(e){return xL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function xL(t){return t.op==="and"}function LL(t){return OO(t)&&xL(t)}function OO(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function im(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+no(t.value);if(LL(t))return t.filters.map(e=>im(e)).join(",");{const e=t.filters.map(n=>im(n)).join(",");return`${t.op}(${e})`}}function kL(t,e){return t instanceof nt?function(n,r){return r instanceof nt&&n.op===r.op&&n.field.isEqual(r.field)&&sr(n.value,r.value)}(t,e):t instanceof Vn?function(n,r){return r instanceof Vn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&kL(s,r.filters[o]),!0):!1}(t,e):void Z()}function TL(t){return t instanceof nt?function(e){return`${e.field.canonicalString()} ${e.op} ${no(e.value)}`}(t):t instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(TL).join(" ,")+"}"}(t):"Filter"}class $O extends nt{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class FO extends nt{constructor(e,n){super(e,"in",n),this.keys=IL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jO extends nt{constructor(e,n){super(e,"not-in",n),this.keys=IL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class UO extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ev(n)&&al(n.arrayValue,this.value)}}class BO extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&al(this.value.arrayValue,n)}}class zO extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!al(this.value.arrayValue,n)}}class VO extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Zw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new WO(t,e,n,r,i,s,o)}function Sv(t){const e=se(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>im(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>no(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>no(r)).join(",")),e.dt=n}return e.dt}function Cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xw(t.startAt,e.startAt)&&Xw(t.endAt,e.endAt)}function sm(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function HO(t,e,n,r,i,s,o,a){return new $l(t,e,n,r,i,s,o,a)}function xv(t){return new $l(t)}function Jw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bL(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Lv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function NL(t){return t.collectionGroup!==null}function Fs(t){const e=se(t);if(e.wt===null){e.wt=[];const n=Lv(e),r=bL(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new ya(n)),e.wt.push(new ya($t.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ya($t.keyField(),s))}}}return e.wt}function Ir(t){const e=se(t);if(!e._t)if(e.limitType==="F")e._t=Zw(e.path,e.collectionGroup,Fs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Fs(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ya(s.field,o))}const r=e.endAt?new Xc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xc(e.startAt.position,e.startAt.inclusive):null;e._t=Zw(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function om(t,e){e.getFirstInequalityField(),Lv(t);const n=t.filters.concat([e]);return new $l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function am(t,e,n){return new $l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sd(t,e){return Cv(Ir(t),Ir(e))&&t.limitType===e.limitType}function PL(t){return`${Sv(Ir(t))}|lt:${t.limitType}`}function lm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>TL(r)).join(", ")}]`),id(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>no(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>no(r)).join(",")),`Target(${n})`}(Ir(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):H.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Fs(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Yw(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Fs(n),r)||n.endAt&&!function(i,s,o){const a=Yw(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Fs(n),r))}(t,e)}function qO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RL(t){return(e,n)=>{let r=!1;for(const i of Fs(t)){const s=GO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GO(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?to(a,l):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _L(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new Ge(H.comparator);function br(){return KO}const ML=new Ge(H.comparator);function na(...t){let e=ML;for(const n of t)e=e.insert(n.key,n);return e}function DL(t){let e=ML;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return wa()}function AL(){return wa()}function wa(){return new Eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const QO=new Ge(H.comparator),YO=new Bt(H.comparator);function pe(...t){let e=YO;for(const n of t)e=e.add(n);return e}const XO=new Bt(Le);function ZO(){return XO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function $L(t){return{integerValue:""+t}}function JO(t,e){return PO(e)?$L(e):OL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function e$(t,e,n){return t instanceof Zc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&wv(i)&&(i=_v(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ll?jL(t,e):t instanceof ul?UL(t,e):function(r,i){const s=FL(r,i),o=e1(s)+e1(r.gt);return rm(s)&&rm(r.gt)?$L(o):OL(r.serializer,o)}(t,e)}function t$(t,e,n){return t instanceof ll?jL(t,e):t instanceof ul?UL(t,e):n}function FL(t,e){return t instanceof Jc?rm(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Zc extends ad{}class ll extends ad{constructor(e){super(),this.elements=e}}function jL(t,e){const n=BL(e);for(const r of t.elements)n.some(i=>sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ul extends ad{constructor(e){super(),this.elements=e}}function UL(t,e){let n=BL(e);for(const r of t.elements)n=n.filter(i=>!sr(i,r));return{arrayValue:{values:n}}}class Jc extends ad{constructor(e,n){super(),this.serializer=e,this.gt=n}}function e1(t){return et(t.integerValue||t.doubleValue)}function BL(t){return Ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function n$(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ll&&r instanceof ll||n instanceof ul&&r instanceof ul?eo(n.elements,r.elements,sr):n instanceof Jc&&r instanceof Jc?sr(n.gt,r.gt):n instanceof Zc&&r instanceof Zc}(t.transform,e.transform)}class r${constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function zL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WL(t.key,nr.none()):new Fl(t.key,t.data,nr.none());{const n=t.data,r=Xt.empty();let i=new Bt($t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ei(t.key,r,new un(i.toArray()),nr.none())}}function i$(t,e,n){t instanceof Fl?function(r,i,s){const o=r.value.clone(),a=n1(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ei?function(r,i,s){if(!sc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=n1(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(VL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function _a(t,e,n,r){return t instanceof Fl?function(i,s,o,a){if(!sc(i.precondition,s))return o;const l=i.value.clone(),u=r1(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ei?function(i,s,o,a){if(!sc(i.precondition,s))return o;const l=r1(i.fieldTransforms,a,s),u=s.data;return u.setAll(VL(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return sc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function s$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FL(r.transform,i||null);s!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function t1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&eo(n,r,(i,s)=>n$(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}let Fl=class extends ld{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}};class Ei extends ld{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n1(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,t$(o,a,n[i]))}return r}function r1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,e$(s,o,e))}return r}class WL extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o$ extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&i$(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_a(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_a(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=zL(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,(n,r)=>t1(n,r))&&eo(this.baseMutations,e.baseMutations,(n,r)=>t1(n,r))}}class kv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=QO;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new kv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,ve;function c$(t){switch(t){default:return Z();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function HL(t){if(t===void 0)return Tr("GRPC error has no .code"),b.UNKNOWN;switch(t){case Je.OK:return b.OK;case Je.CANCELLED:return b.CANCELLED;case Je.UNKNOWN:return b.UNKNOWN;case Je.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Je.INTERNAL:return b.INTERNAL;case Je.UNAVAILABLE:return b.UNAVAILABLE;case Je.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Je.NOT_FOUND:return b.NOT_FOUND;case Je.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Je.ABORTED:return b.ABORTED;case Je.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Je.DATA_LOSS:return b.DATA_LOSS;default:return Z()}}(ve=Je||(Je={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ju}static getOrCreateInstance(){return ju===null&&(ju=new Tv),ju}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ju=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=new $s([4294967295,4294967295],0);function i1(t){const e=h$().encode(t),n=new gO;return n.update(e),new Uint8Array(n.digest())}function s1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $s([n,r],0),new $s([i,s],0)]}class Iv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ra(`Invalid padding: ${n}`);if(r<0)throw new ra(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ra(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ra(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=$s.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply($s.fromNumber(r)));return i.compare(d$)===1&&(i=new $s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=i1(e),[r,i]=s1(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Iv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=i1(e),[r,i]=s1(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(ee.min(),i,new Ge(Le),br(),pe())}}class jl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class qL{constructor(e,n){this.targetId=e,this.Vt=n}}class GL{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class o1{constructor(){this.St=0,this.Dt=l1(),this.Ct=Vt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pe(),n=pe(),r=pe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new jl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=l1()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class f${constructor(e){this.Gt=e,this.Qt=new Map,this.jt=br(),this.zt=a1(),this.Wt=new Ge(Le)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(sm(o))if(i===0){const a=new H(o.path);this.Yt(r,a,Dt.newNoDocument(a,ee.min()))}else Ue(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Tv.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var f,p,v,E,S,g;const m={localCacheCount:c,existenceFilterCount:d.count},y=d.unchangedNames;return y&&(m.bloomFilter={applied:u===0,hashCount:(f=y==null?void 0:y.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(E=(v=(p=y==null?void 0:y.bits)===null||p===void 0?void 0:p.bitmap)===null||v===void 0?void 0:v.length)!==null&&E!==void 0?E:0,padding:(g=(S=y==null?void 0:y.bits)===null||S===void 0?void 0:S.padding)!==null&&g!==void 0?g:0}),m}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Qi(s).toUint8Array()}catch(c){if(c instanceof EL)return Js("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Iv(l,o,a)}catch(c){return Js(c instanceof ra?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&sm(a.target)){const l=new H(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Dt.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=pe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new ud(e,n,this.Wt,this.jt,r);return this.jt=br(),this.zt=a1(),this.Wt=new Ge(Le),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new o1,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Bt(Le),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new o1),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function a1(){return new Ge(H.comparator)}function l1(){return new Ge(H.comparator)}const p$=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),m$=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),g$=(()=>({and:"AND",or:"OR"}))();class v${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function um(t,e){return t.useProto3Json||id(e)?e:{value:e}}function eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y$(t,e){return eh(t,e.toTimestamp())}function rr(t){return Ue(!!t),ee.fromTimestamp(function(e){const n=ui(e);return new at(n.seconds,n.nanos)}(t))}function bv(t,e){return function(n){return new Fe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function QL(t){const e=Fe.fromString(t);return Ue(JL(e)),e}function cm(t,e){return bv(t.databaseId,e.path)}function Ef(t,e){const n=QL(e);if(n.get(1)!==t.databaseId.projectId)throw new j(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(YL(n))}function hm(t,e){return bv(t.databaseId,e)}function w$(t){const e=QL(t);return e.length===4?Fe.emptyPath():YL(e)}function dm(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YL(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function u1(t,e,n){return{name:cm(t,e),fields:n.value.mapValue.fields}}function _$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Ue(u===void 0||typeof u=="string"),Vt.fromBase64String(u||"")):(Ue(u===void 0||u instanceof Uint8Array),Vt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?b.UNKNOWN:HL(l.code);return new j(u,l.message||"")}(o);n=new GL(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ef(t,r.document.name),s=rr(r.document.updateTime),o=r.document.createTime?rr(r.document.createTime):ee.min(),a=new Xt({mapValue:{fields:r.document.fields}}),l=Dt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new oc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ef(t,r.document),s=r.readTime?rr(r.readTime):ee.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new oc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ef(t,r.document),s=r.removedTargetIds||[];n=new oc([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new u$(i,s),a=r.targetId;n=new qL(a,o)}}return n}function E$(t,e){let n;if(e instanceof Fl)n={update:u1(t,e.key,e.value)};else if(e instanceof WL)n={delete:cm(t,e.key)};else if(e instanceof Ei)n={update:u1(t,e.key,e.data),updateMask:N$(e.fieldMask)};else{if(!(e instanceof o$))return Z();n={verify:cm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Zc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ll)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ul)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Jc)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:y$(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(t,e.precondition)),n}function S$(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?rr(r.updateTime):rr(i);return s.isEqual(ee.min())&&(s=rr(i)),new r$(s,r.transformResults||[])}(n,e))):[]}function C$(t,e){return{documents:[hm(t,e.path)]}}function x$(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=hm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return ZL(Vn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:fs(c.field),direction:T$(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=um(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function L$(t){let e=w$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=XL(c);return d instanceof Vn&&LL(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new ya(ps(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,id(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new Xc(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new Xc(f,d)}(n.endAt)),HO(e,i,o,s,a,"F",l,u)}function k$(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XL(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ps(e.unaryFilter.field);return nt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ps(e.unaryFilter.field);return nt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ps(e.unaryFilter.field);return nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ps(e.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(e){return nt.create(ps(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Vn.create(e.compositeFilter.filters.map(n=>XL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Z()}}(e.compositeFilter.op))}(t):Z()}function T$(t){return p$[t]}function I$(t){return m$[t]}function b$(t){return g$[t]}function fs(t){return{fieldPath:t.canonicalString()}}function ps(t){return $t.fromServerFormat(t.fieldPath)}function ZL(t){return t instanceof nt?function(e){if(e.op==="=="){if(Qw(e.value))return{unaryFilter:{field:fs(e.field),op:"IS_NAN"}};if(Kw(e.value))return{unaryFilter:{field:fs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Qw(e.value))return{unaryFilter:{field:fs(e.field),op:"IS_NOT_NAN"}};if(Kw(e.value))return{unaryFilter:{field:fs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(e.field),op:I$(e.op),value:e.value}}}(t):t instanceof Vn?function(e){const n=e.getFilters().map(r=>ZL(r));return n.length===1?n[0]:{compositeFilter:{op:b$(e.op),filters:n}}}(t):Z()}function N$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=Vt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.fe=e}}function R$(t){const e=L$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.rn=new D$}addToCollectionParentIndex(e,n){return this.rn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(li.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(li.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class D${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ro(0)}static Mn(){return new ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(){this.changes=new Eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_a(r.mutation,i,un.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Ai();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=na();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=br();const o=wa(),a=wa();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ei)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),_a(c.mutation,u,c.mutation.getFieldMask(),at.now())):o.set(u.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new O$(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wa();let i=new Ge((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||un.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=AL();c.forEach(f=>{if(!s.has(f)){const p=zL(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return H.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Ai());let a=-1,l=s;return o.next(u=>M.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?M.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pe())).next(c=>({batchId:a,changes:DL(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=na();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=na();return this.indexManager.getCollectionParents(e,i).next(o=>M.forEach(o,a=>{const l=function(u,c){return new $l(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Dt.newInvalidDocument(u)))});let o=na();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&_a(u.mutation,l,un.empty(),at.now()),od(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return M.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:rr(r.createTime)}),M.resolve()}getNamedQuery(e,n){return M.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:R$(r.bundledQuery),readTime:rr(r.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.overlays=new Ge(H.comparator),this.ls=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ai();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Ai(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ai(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ai(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return M.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new l$(n,r));let s=this.ls.get(n);s===void 0&&(s=pe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.fs=new Bt(ht.ds),this.ws=new Bt(ht._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ht(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ht(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new H(new Fe([])),r=new ht(n,e),i=new ht(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new H(new Fe([])),r=new ht(n,e),i=new ht(n,e+1);let s=pe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ht(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return H.comparator(e.key,n.key)||Le(e.As,n.As)}static _s(e,n){return Le(e.As,n.As)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Bt(ht.ds)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new a$(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),i=new ht(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Le);return n.forEach(i=>{const s=new ht(i,0),o=new ht(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),M.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new ht(new H(s),0);let a=new Bt(Le);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),M.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return M.forEach(n.mutations,i=>{const s=new ht(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ht(n,0),i=this.Rs.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.Ds=e,this.docs=new Ge(H.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=br();const o=n.path,a=new H(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||IO(TO(c),r)<=0||(i.has(c.key)||od(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Cs(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new z$(this)}getSize(e){return M.resolve(this.size)}}class z$ extends A${constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.persistence=e,this.xs=new Eo(n=>Sv(n),Cv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Nv,this.targetCount=0,this.Ms=ro.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),M.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Fn(n),M.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n){this.$s={},this.overlays={},this.Os=new yv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new V$(this),this.indexManager=new M$,this.remoteDocumentCache=function(r){return new B$(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new P$(n),this.qs=new F$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new U$(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);const i=new H$(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return M.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class H$ extends NO{constructor(e){super(),this.currentSequenceNumber=e}}class Pv{constructor(e){this.persistence=e,this.Qs=new Nv,this.js=null}static zs(e){return new Pv(e)}get Ws(){if(this.js)return this.js;throw Z()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),M.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Ws,r=>{const i=H.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return M.or([()=>M.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Rv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Jw(n))return M.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=am(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,am(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return Jw(n)||i.isEqual(ee.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Vw()<=xe.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lm(n)),this.Wi(e,o,n,kO(i,-1)))})}ji(e,n){let r=new Bt(RL(e));return n.forEach((i,s)=>{od(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Vw()<=xe.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",lm(n)),this.Ui.getDocumentsMatchingQuery(e,n,li.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ge(Le),this.Yi=new Eo(s=>Sv(s),Cv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function K$(t,e,n,r){return new G$(t,e,n,r)}async function ek(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function Q$(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=M.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(a,p)).next(v=>{const E=l.docVersions.get(p);Ue(E!==null),v.version.compareTo(E)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=pe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tk(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Y$(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Vt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(v,E,S){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,p,c)&&a.push(n.Bs.updateTargetData(s,p))});let l=br(),u=pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(X$(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(ee.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function X$(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=br();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function Z$(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function J$(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function fm(t,e,n){const r=se(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ol(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function c1(t,e,n){const r=se(t);let i=ee.min(),s=pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=se(a),d=c.Yi.get(u);return d!==void 0?M.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:pe())).next(a=>(e4(r,qO(e),a),{documents:a,ir:s})))}function e4(t,e,n){let r=t.Xi.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class h1{constructor(){this.activeTargetIds=ZO()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t4{constructor(){this.Hr=new h1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new h1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function Sf(){return Uu===null?Uu=268435456+Math.round(2147483648*Math.random()):Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class s4 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Sf(),a=this.To(e,n);V("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(V("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Js("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_o,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=r4[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Sf();return new Promise((o,a)=>{const l=new mO;l.setWithCredentials(!0),l.listenOnce(dO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _f.NO_ERROR:const c=l.getResponseJson();V(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case _f.TIMEOUT:V(Nt,`RPC '${e}' ${s} timed out`),a(new j(b.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const d=l.getStatus();if(V(Nt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const v=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(S)>=0?S:b.UNKNOWN}(p.status);a(new j(v,p.message))}else a(new j(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new j(b.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{V(Nt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);V(Nt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Sf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cO(),a=hO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new pO({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");V(Nt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,p=!1;const v=new i4({ro:S=>{p?V(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(V(Nt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),V(Nt,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},oo:()=>d.close()}),E=(S,g,m)=>{S.listen(g,y=>{try{m(y)}catch(_){setTimeout(()=>{throw _},0)}})};return E(d,Ou.EventType.OPEN,()=>{p||V(Nt,`RPC '${e}' stream ${i} transport opened.`)}),E(d,Ou.EventType.CLOSE,()=>{p||(p=!0,V(Nt,`RPC '${e}' stream ${i} transport closed`),v.wo())}),E(d,Ou.EventType.ERROR,S=>{p||(p=!0,Js(Nt,`RPC '${e}' stream ${i} transport errored:`,S),v.wo(new j(b.UNAVAILABLE,"The operation could not be completed")))}),E(d,Ou.EventType.MESSAGE,S=>{var g;if(!p){const m=S.data[0];Ue(!!m);const y=m,_=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(_){V(Nt,`RPC '${e}' stream ${i} received error:`,_);const C=_.status;let x=function(k){const L=Je[k];if(L!==void 0)return HL(L)}(C),T=_.message;x===void 0&&(x=b.INTERNAL,T="Unknown error status: "+C+" with message "+_.message),p=!0,v.wo(new j(x,T)),d.close()}else V(Nt,`RPC '${e}' stream ${i} received:`,m),v._o(m)}}),E(a,fO.STAT_EVENT,S=>{S.stat===Bw.PROXY?V(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Bw.NOPROXY&&V(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function Cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return new v$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new nk(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new j(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o4 extends rk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=_$(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?rr(s.readTime):ee.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=dm(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=sm(a)?{documents:C$(i,a)}:{query:x$(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=KL(i,s.resumeToken);const l=um(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){o.readTime=eh(i,s.snapshotVersion.toTimestamp());const l=um(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=k$(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=dm(this.serializer),n.removeTarget=e,this.Wo(n)}}class a4 extends rk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=S$(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.cu(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=dm(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>E$(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new j(b.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new j(b.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(b.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class u4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Tr(n),this.mu=!1):V("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{os(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=se(a);l.vu.add(4),await Ul(l),l.bu.set("Unknown"),l.vu.delete(4),await hd(l)}(this))})}),this.bu=new u4(r,i)}}async function hd(t){if(os(t))for(const e of t.Ru)await e(!0)}async function Ul(t){for(const e of t.Ru)await e(!1)}function ik(t,e){const n=se(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Av(n)?Dv(n):So(n).Ko()&&Mv(n,e))}function sk(t,e){const n=se(t),r=So(n);n.Au.delete(e),r.Ko()&&ok(n,e),n.Au.size===0&&(r.Ko()?r.jo():os(n)&&n.bu.set("Unknown"))}function Mv(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(t).su(e)}function ok(t,e){t.Vu.qt(e),So(t).iu(e)}function Dv(t){t.Vu=new f$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),So(t).start(),t.bu.gu()}function Av(t){return os(t)&&!So(t).Uo()&&t.Au.size>0}function os(t){return se(t).vu.size===0}function ak(t){t.Vu=void 0}async function h4(t){t.Au.forEach((e,n)=>{Mv(t,e)})}async function d4(t,e){ak(t),Av(t)?(t.bu.Iu(e),Dv(t)):t.bu.set("Unknown")}async function f4(t,e,n){if(t.bu.set("Online"),e instanceof GL&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await th(t,r)}else if(e instanceof oc?t.Vu.Ht(e):e instanceof qL?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ee.min()))try{const r=await tk(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(Vt.EMPTY_BYTE_STRING,u.snapshotVersion)),ok(i,a);const c=new Vr(u.target,a,l,u.sequenceNumber);Mv(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await th(t,r)}}async function th(t,e,n){if(!Ol(e))throw e;t.vu.add(1),await Ul(t),t.bu.set("Offline"),n||(n=()=>tk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await hd(t)})}function lk(t,e){return e().catch(n=>th(t,n,e))}async function dd(t){const e=se(t),n=ci(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;p4(e);)try{const i=await Z$(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,m4(e,i)}catch(i){await th(e,i)}uk(e)&&ck(e)}function p4(t){return os(t)&&t.Eu.length<10}function m4(t,e){t.Eu.push(e);const n=ci(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function uk(t){return os(t)&&!ci(t).Uo()&&t.Eu.length>0}function ck(t){ci(t).start()}async function g4(t){ci(t).hu()}async function v4(t){const e=ci(t);for(const n of t.Eu)e.uu(n.mutations)}async function y4(t,e,n){const r=t.Eu.shift(),i=kv.from(r,e,n);await lk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dd(t)}async function w4(t,e){e&&ci(t).ou&&await async function(n,r){if(i=r.code,c$(i)&&i!==b.ABORTED){const s=n.Eu.shift();ci(n).Qo(),await lk(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await dd(n)}var i}(t,e),uk(t)&&ck(t)}async function f1(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=os(n);n.vu.add(3),await Ul(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await hd(n)}async function _4(t,e){const n=se(t);e?(n.vu.delete(2),await hd(n)):e||(n.vu.add(2),await Ul(n),n.bu.set("Unknown"))}function So(t){return t.Su||(t.Su=function(e,n,r){const i=se(e);return i.fu(),new o4(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:h4.bind(null,t),ao:d4.bind(null,t),nu:f4.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Av(t)?Dv(t):t.bu.set("Unknown")):(await t.Su.stop(),ak(t))})),t.Su}function ci(t){return t.Du||(t.Du=function(e,n,r){const i=se(e);return i.fu(),new a4(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:g4.bind(null,t),ao:w4.bind(null,t),au:v4.bind(null,t),cu:y4.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await dd(t)):(await t.Du.stop(),t.Eu.length>0&&(V("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ov(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),Ol(t))return new j(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=na(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new js(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.Cu=new Ge(H.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Z():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class io{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new io(e,n,js.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.Nu=void 0,this.listeners=[]}}class S4{constructor(){this.queries=new Eo(e=>PL(e),sd),this.onlineState="Unknown",this.ku=new Set}}async function hk(t,e){const n=se(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new E4),i)try{s.Nu=await n.onListen(r)}catch(o){const a=$v(o,`Initialization of query '${lm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Fv(n)}async function dk(t,e){const n=se(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function C4(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&Fv(n)}function x4(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Fv(t){t.ku.forEach(e=>{e.next()})}class fk{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.key=e}}class mk{constructor(e){this.key=e}}class L4{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pe(),this.mutatedKeys=pe(),this.tc=RL(e),this.ec=new js(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new p1,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=od(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;f&&p?f.data.isEqual(p.data)?v!==E&&(r.track({type:3,doc:p}),S=!0):this.rc(f,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.tc(p,l)>0||u&&this.tc(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),S=!0):f&&!p&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(p?(o=o.add(p),s=E?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,f){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return p(d)-p(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new io(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new p1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=pe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new mk(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new pk(r))}),n}hc(e){this.Yu=e.ir,this.Zu=pe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return io.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class k4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T4{constructor(e){this.key=e,this.fc=!1}}class I4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Eo(a=>PL(a),sd),this._c=new Map,this.mc=new Set,this.gc=new Ge(H.comparator),this.yc=new Map,this.Ic=new Nv,this.Tc={},this.Ec=new Map,this.Ac=ro.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function b4(t,e){const n=j4(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await J$(n.localStore,Ir(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await N4(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&ik(n.remoteStore,o)}return i}async function N4(t,e,n,r,i){t.Rc=(d,f,p)=>async function(v,E,S,g){let m=E.view.sc(S);m.zi&&(m=await c1(v.localStore,E.query,!1).then(({documents:C})=>E.view.sc(C,m)));const y=g&&g.targetChanges.get(E.targetId),_=E.view.applyChanges(m,v.isPrimaryClient,y);return g1(v,E.targetId,_.cc),_.snapshot}(t,d,f,p);const s=await c1(t.localStore,e,!0),o=new L4(e,s.ir),a=o.sc(s.documents),l=jl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);g1(t,n,u.cc);const c=new k4(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function P4(t,e){const n=se(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!sd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await fm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),sk(n.remoteStore,r.targetId),pm(n,r.targetId)}).catch(Al)):(pm(n,r.targetId),await fm(n.localStore,r.targetId,!0))}async function R4(t,e,n){const r=U4(t);try{const i=await function(s,o){const a=se(s),l=at.now(),u=o.reduce((f,p)=>f.add(p.key),pe());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=br(),v=pe();return a.Zi.getEntries(f,u).next(E=>{p=E,p.forEach((S,g)=>{g.isValidDocument()||(v=v.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(E=>{c=E;const S=[];for(const g of o){const m=s$(g,c.get(g.key).overlayedDocument);m!=null&&S.push(new Ei(g.key,m,SL(m.value.mapValue),nr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(E=>{d=E;const S=E.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(f,E.batchId,S)})}).then(()=>({batchId:d.batchId,changes:DL(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Ge(Le)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Bl(r,i.changes),await dd(r.remoteStore)}catch(i){const s=$v(i,"Failed to persist write");n.reject(s)}}async function gk(t,e){const n=se(t);try{const r=await Y$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Ue(o.fc):i.removedDocuments.size>0&&(Ue(o.fc),o.fc=!1))}),await Bl(n,r,e)}catch(r){await Al(r)}}function m1(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=se(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&Fv(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M4(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ge(H.comparator);o=o.insert(s,Dt.newNoDocument(s,ee.min()));const a=pe().add(s),l=new ud(ee.min(),new Map,new Ge(Le),o,a);await gk(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),jv(r)}else await fm(r.localStore,e,!1).then(()=>pm(r,e,n)).catch(Al)}async function D4(t,e){const n=se(t),r=e.batch.batchId;try{const i=await Q$(n.localStore,e);yk(n,r,null),vk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bl(n,i)}catch(i){await Al(i)}}async function A4(t,e,n){const r=se(t);try{const i=await function(s,o){const a=se(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Ue(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);yk(r,e,n),vk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bl(r,i)}catch(i){await Al(i)}}function vk(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function yk(t,e,n){const r=se(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function pm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||wk(t,r)})}function wk(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(sk(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),jv(t))}function g1(t,e,n){for(const r of n)r instanceof pk?(t.Ic.addReference(r.key,e),O4(t,r)):r instanceof mk?(V("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||wk(t,r.key)):Z()}function O4(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(V("SyncEngine","New document in limbo: "+n),t.mc.add(r),jv(t))}function jv(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new H(Fe.fromString(e)),r=t.Ac.next();t.yc.set(r,new T4(n)),t.gc=t.gc.insert(n,r),ik(t.remoteStore,new Vr(Ir(xv(n.path)),r,"TargetPurposeLimboResolution",yv.ct))}}async function Bl(t,e,n){const r=se(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Rv.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=se(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>M.forEach(l,d=>M.forEach(d.Fi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>M.forEach(d.Bi,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!Ol(c))throw c;V("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Ji.get(d),p=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(d,v)}}}(r.localStore,s))}async function $4(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const r=await ek(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new j(b.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bl(n,r.er)}}function F4(t,e){const n=se(t),r=n.yc.get(e);if(r&&r.fc)return pe().add(r.key);{let i=pe();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function j4(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M4.bind(null,e),e.dc.nu=C4.bind(null,e.eventManager),e.dc.Pc=x4.bind(null,e.eventManager),e}function U4(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A4.bind(null,e),e}class v1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return K$(this.persistence,new q$,e.initialUser,this.serializer)}createPersistence(e){return new W$(Pv.zs,this.serializer)}createSharedClientState(e){return new t4}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class B4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$4.bind(null,this.syncEngine),await _4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new S4}createDatastore(e){const n=cd(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new s4(i));var i;return function(s,o,a,l){return new l4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>m1(this.syncEngine,a,0),o=d1.D()?new d1:new n4,new c4(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new I4(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=se(e);V("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Ul(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=wL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{V("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xf(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ek(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function y1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W4(t);V("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>f1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>f1(e.remoteStore,s)),t._onlineComponents=e}function V4(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function W4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await xf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!V4(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await xf(t,new v1)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await xf(t,new v1);return t._offlineComponents}async function Ek(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await y1(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await y1(t,new B4))),t._onlineComponents}function H4(t){return Ek(t).then(e=>e.syncEngine)}async function Sk(t){const e=await Ek(t),n=e.eventManager;return n.onListen=b4.bind(null,e.syncEngine),n.onUnlisten=P4.bind(null,e.syncEngine),n}function q4(t,e,n={}){const r=new _r;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new _k({next:d=>{s.enqueueAndForget(()=>dk(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new j(b.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new j(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new fk(xv(o.path),u,{includeMetadataChanges:!0,Ku:!0});return hk(i,c)}(await Sk(t),t.asyncQueue,e,n,r)),r.promise}function G4(t,e,n={}){const r=new _r;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new _k({next:d=>{s.enqueueAndForget(()=>dk(i,c)),d.fromCache&&a.source==="server"?l.reject(new j(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new fk(o,u,{includeMetadataChanges:!0,Ku:!0});return hk(i,c)}(await Sk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t,e,n){if(!n)throw new j(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function K4(t,e,n,r){if(e===!0&&r===!0)throw new j(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _1(t){if(!H.isDocumentKey(t))throw new j(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E1(t){if(H.isDocumentKey(t))throw new j(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fd(t);throw new j(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ck((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new j(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new j(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new j(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class pd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S1(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new vO;switch(n.type){case"firstParty":return new EO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new j(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=w1.get(e);n&&(V("ComponentProvider","Removing Datastore"),w1.delete(e),n.terminate())}(this),Promise.resolve()}}function Q4(t,e,n,r={}){var i;const s=(t=hi(t,pd))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Js("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Rt.MOCK_USER;else{o=rx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Rt(l)}t._authCredentials=new yO(new yL(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Co{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class ri extends Co{constructor(e,n,r){super(e,n,xv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new H(e))}withConverter(e){return new ri(this.firestore,e,this._path)}}function Xi(t,e,...n){if(t=Bn(t),xk("collection","path",e),t instanceof pd){const r=Fe.fromString(e,...n);return E1(r),new ri(t,null,r)}{if(!(t instanceof rn||t instanceof ri))throw new j(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return E1(r),new ri(t.firestore,null,r)}}function Lk(t,e,...n){if(t=Bn(t),arguments.length===1&&(e=wL.A()),xk("doc","path",e),t instanceof pd){const r=Fe.fromString(e,...n);return _1(r),new rn(t,null,new H(r))}{if(!(t instanceof rn||t instanceof ri))throw new j(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return _1(r),new rn(t.firestore,t instanceof ri?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new nk(this,"async_queue_retry"),this.Xc=()=>{const n=Cf();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Cf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new _r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ol(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Ov.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Z()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class zl extends pd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Y4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kk(this),this._firestoreClient.terminate()}}function di(t,e){const n=typeof t=="object"?t:fx(),r=typeof t=="string"?t:e||"(default)",i=cx(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=tx("firestore");s&&Q4(i,...s)}return i}function Uv(t){return t._firestoreClient||kk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kk(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new MO(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Ck(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new z4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(Vt.fromBase64String(e))}catch(n){throw new j(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new so(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=/^__.*__$/;class Z4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}class Tk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ik(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Vv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return nh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Ik(this.ca)&&X4.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class J4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cd(e)}ya(e,n,r,i=!1){return new Vv({ca:e,methodName:n,ga:r,path:$t.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wv(t){const e=t._freezeSettings(),n=cd(t._databaseId);return new J4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eF(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Hv("Data must be an object, but it was:",o,r);const a=bk(r,o);let l,u;if(s.merge)l=new un(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=mm(e,d,n);if(!o.contains(f))throw new j(b.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Pk(c,f)||c.push(f)}l=new un(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Z4(new Xt(a),l,u)}class gd extends Bv{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gd}}function tF(t,e,n,r){const i=t.ya(1,e,n);Hv("Data must be an object, but it was:",i,r);const s=[],o=Xt.empty();ss(r,(l,u)=>{const c=qv(e,l,n);u=Bn(u);const d=i.da(c);if(u instanceof gd)s.push(c);else{const f=Vl(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new un(s);return new Tk(o,a,i.fieldTransforms)}function nF(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[mm(e,r,n)],l=[i];if(s.length%2!=0)throw new j(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(mm(e,s[f])),l.push(s[f+1]);const u=[],c=Xt.empty();for(let f=a.length-1;f>=0;--f)if(!Pk(u,a[f])){const p=a[f];let v=l[f];v=Bn(v);const E=o.da(p);if(v instanceof gd)u.push(p);else{const S=Vl(v,E);S!=null&&(u.push(p),c.set(p,S))}}const d=new un(u);return new Tk(c,d,o.fieldTransforms)}function rF(t,e,n,r=!1){return Vl(n,t.ya(r?4:3,e))}function Vl(t,e){if(Nk(t=Bn(t)))return Hv("Unsupported field value:",e,t),bk(t,e);if(t instanceof Bv)return function(n,r){if(!Ik(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Vl(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Bn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return JO(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=at.fromDate(n);return{timestampValue:eh(r.serializer,i)}}if(n instanceof at){const i=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:eh(r.serializer,i)}}if(n instanceof zv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof so)return{bytesValue:KL(r.serializer,n._byteString)};if(n instanceof rn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${fd(n)}`)}(t,e)}function bk(t,e){const n={};return _L(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(t,(r,i)=>{const s=Vl(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Nk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof zv||t instanceof so||t instanceof rn||t instanceof Bv)}function Hv(t,e,n){if(!Nk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=fd(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function mm(t,e,n){if((e=Bn(e))instanceof md)return e._internalPath;if(typeof e=="string")return qv(t,e);throw nh("Field path arguments must be of type string or ",t,!1,void 0,n)}const iF=new RegExp("[~\\*/\\[\\]]");function qv(t,e,n){if(e.search(iF)>=0)throw nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new md(...e.split("."))._internalPath}catch{throw nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new j(b.INVALID_ARGUMENT,a+t+l)}function Pk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sF extends Rk{data(){return super.data()}}function Gv(t,e){return typeof e=="string"?qv(t,e):e instanceof md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}class aF extends Kv{}function rh(t,e,...n){let r=[];e instanceof Kv&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Qv).length,o=i.filter(a=>a instanceof vd).length;if(s>1||s>0&&o>0)throw new j(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class vd extends aF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vd(e,n,r)}_apply(e){const n=this._parse(e);return Mk(e._query,n),new Co(e.firestore,e.converter,om(e._query,n))}_parse(e){const n=Wv(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new j(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){x1(c,u);const f=[];for(const p of c)f.push(C1(a,i,p));d={arrayValue:{values:f}}}else d=C1(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||x1(c,u),d=rF(o,s,c,u==="in"||u==="not-in");return nt.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ih(t,e,n){const r=e,i=Gv("where",t);return vd._create(i,r,n)}class Qv extends Kv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Mk(s,a),s=om(s,a)}(e._query,n),new Co(e.firestore,e.converter,om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function C1(t,e,n){if(typeof(n=Bn(n))=="string"){if(n==="")throw new j(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NL(e)&&n.indexOf("/")!==-1)throw new j(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!H.isDocumentKey(r))throw new j(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gw(t,new H(r))}if(n instanceof rn)return Gw(t,n._key);throw new j(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function x1(t,e){if(!Array.isArray(t)||t.length===0)throw new j(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mk(t,e){if(e.isInequality()){const r=Lv(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new j(b.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=bL(t);s!==null&&lF(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new j(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function lF(t,e,n){if(!n.isEqual(e))throw new j(b.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class uF{convertValue(e,n="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ss(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new zv(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_v(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sl(e));default:return null}}convertTimestamp(e){const n=ui(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Ue(JL(r));const i=new ol(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dk extends Rk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ac extends Dk{data(e={}){return super.data(e)}}class hF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ia(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ac(this._firestore,this._userDataWriter,r.key,r,new ia(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new ac(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ia(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new ac(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ia(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:dF(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){t=hi(t,rn);const e=hi(t.firestore,zl);return q4(Uv(e),t._key).then(n=>gF(e,t,n))}class Ak extends uF{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function oo(t){t=hi(t,Co);const e=hi(t.firestore,zl),n=Uv(e),r=new Ak(e);return oF(t._query),G4(n,t._query).then(i=>new hF(e,r,t,i))}function pF(t,e,n,...r){t=hi(t,rn);const i=hi(t.firestore,zl),s=Wv(i);let o;return o=typeof(e=Bn(e))=="string"||e instanceof md?nF(s,"updateDoc",t._key,e,n,r):tF(s,"updateDoc",t._key,e),Ok(i,[o.toMutation(t._key,nr.exists(!0))])}function mF(t,e){const n=hi(t.firestore,zl),r=Lk(t),i=cF(t.converter,e);return Ok(n,[eF(Wv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function Ok(t,e){return function(n,r){const i=new _r;return n.asyncQueue.enqueueAndForget(async()=>R4(await H4(n),r,i)),i.promise}(Uv(t),e)}function gF(t,e,n){const r=n.docs.get(e._key),i=new Ak(t);return new Dk(t,i,e._key,r,new ia(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){_o=n})(hx),Ka(new Xs("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new zl(new wO(n.getProvider("auth-internal")),new CO(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new j(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ol(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ni(zw,"3.12.1",t),ni(zw,"3.12.1","esm2017")})();function vF(){const[t,e]=h.useState({availability:!0,description:"",duration:"",imageUrl:[],location:"",name:"",category:"",price:0,rating:0,title:""}),n=s=>{e(o=>({...o,imageUrl:[...o.imageUrl,s]}))},r=s=>{const{name:o,value:a}=s.target;o==="imageUrl"?n(a):e(l=>({...l,[o]:a}))},i=()=>{if(!t.title||!t.description||!t.duration||!t.imageUrl.length||!t.location||!t.name||!t.category||!t.price||!t.availability||!t.rating){console.log("Por favor, complete todos los campos obligatorios");return}const s={...t,imageUrl:[...t.imageUrl]},o=di(),a=Xi(o,"destinations");mF(a,s).then(l=>console.log(l))};return w.jsx(w.Fragment,{children:w.jsxs("form",{className:"mx-auto max-w-2xl",children:[w.jsxs("div",{className:"space-y-12",children:[w.jsx("div",{className:"border-b border-gray-900/10 pb-12",children:w.jsx("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:w.jsxs("div",{className:"sm:col-span-6",children:[w.jsx("label",{htmlFor:"title",className:"block text-sm font-medium leading-6 text-gray-900",children:"Ttulo del anuncio"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"text",name:"title",id:"title",autoComplete:"title",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.title||"",onChange:r})})]})})}),w.jsxs("div",{className:"col-span-full",children:[w.jsx("label",{htmlFor:"about",className:"block text-sm font-medium leading-6 text-gray-900",children:"Descripcion del Destino"}),w.jsx("div",{className:"mt-2",children:w.jsx("textarea",{id:"about",name:"description",rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.description||"",onChange:r})})]}),w.jsx("div",{className:"border-b border-gray-900/10 pb-12",children:w.jsx("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:w.jsxs("div",{className:"sm:col-span-4",children:[w.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium leading-6 text-gray-900",children:"Ciudad"}),w.jsx("div",{className:"mt-2",children:w.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md",children:w.jsx("input",{type:"text",name:"name",id:"destination",autoComplete:"name",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"",value:t.name||"",onChange:r})})})]})})}),w.jsx("div",{className:"border-b border-gray-900/10 pb-12",children:w.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium leading-6 text-gray-900",children:"Duracin"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"text",name:"duration",id:"duration",autoComplete:"duration",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.duration||"",onChange:r})})]}),w.jsxs("div",{className:"sm:col-span-4",children:[w.jsx("label",{htmlFor:"location",className:"block text-sm font-medium leading-6 text-gray-900",children:"Pais"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"text",name:"location",id:"location",autoComplete:"location",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.location||"",onChange:r})})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"category",className:"block text-sm font-medium leading-6 text-gray-900",children:"Categora"}),w.jsx("div",{className:"mt-2",children:w.jsxs("select",{name:"category",id:"category",autoComplete:"category",className:"block w-full rounded-md border-gray-300 py-1.5 text-gray-900 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:t.category||"",onChange:r,children:[w.jsx("option",{value:"",children:"Selecciona una categora"}),w.jsx("option",{value:"playa",children:"Playa"}),w.jsx("option",{value:"montaa",children:"Montaa"}),w.jsx("option",{value:"ciudad",children:"Ciudad"})]})})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"price",className:`block\r
                  text-sm font-medium leading-6 text-gray-900`,children:"Precio"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"number",name:"price",id:"price",autoComplete:"price",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.price||"",onChange:r})})]})]})}),w.jsx("div",{className:"border-b border-gray-900/10 pb-12",children:w.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"availability",className:"block text-sm font-medium leading-6 text-gray-900",children:"Disponibilidad"}),w.jsx("div",{className:"mt-2",children:w.jsxs("select",{id:"availability",name:"availability",autoComplete:"availability",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6",value:t.availability||"",onChange:r,children:[w.jsx("option",{value:"true",children:"Disponible"}),w.jsx("option",{value:"false",children:"No disponible"})]})})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium leading-6 text-gray-900",children:"Calificacin"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"number",name:"rating",id:"rating",autoComplete:"rating",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.rating||"",onChange:r})})]})]})})]}),w.jsx("input",{type:"text",id:"imageUrl",name:"imageUrl",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.imageUrl,onChange:r,placeholder:" Pegar la ruta de la imagen"}),w.jsx("button",{type:"button",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4",onClick:i,children:"Guardar"})]})})}var $k={exports:{}},yF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wF=yF,_F=wF;function Fk(){}function jk(){}jk.resetWarningCache=Fk;var EF=function(){function t(r,i,s,o,a,l){if(l!==_F){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jk,resetWarningCache:Fk};return n.PropTypes=n,n};$k.exports=EF();var Uk=$k.exports;const ce=sE(Uk);var Wl={},yd={},Yv={},Lf={},L1;function SF(){return L1||(L1=1,function(t){(function(e,n){n(t,h,Uk)})(iE,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=v;var i=o(n),s=o(r);function o(m){return m&&m.__esModule?m:{default:m}}var a=Object.assign||function(m){for(var y=1;y<arguments.length;y++){var _=arguments[y];for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(m[C]=_[C])}return m};function l(m,y){var _={};for(var C in m)y.indexOf(C)>=0||Object.prototype.hasOwnProperty.call(m,C)&&(_[C]=m[C]);return _}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}var c=function(){function m(y,_){for(var C=0;C<_.length;C++){var x=_[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,_,C){return _&&m(y.prototype,_),C&&m(y,C),y}}();function d(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var p=!1;function v(m){p=m}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){v(!0)}}))}catch{}function E(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return p?m:m.capture}function S(m){if("touches"in m){var y=m.touches[0],_=y.pageX,C=y.pageY;return{x:_,y:C}}var x=m.screenX,T=m.screenY;return{x,y:T}}var g=function(m){f(y,m);function y(){var _;u(this,y);for(var C=arguments.length,x=Array(C),T=0;T<C;T++)x[T]=arguments[T];var k=d(this,(_=y.__proto__||Object.getPrototypeOf(y)).call.apply(_,[this].concat(x)));return k._handleSwipeStart=k._handleSwipeStart.bind(k),k._handleSwipeMove=k._handleSwipeMove.bind(k),k._handleSwipeEnd=k._handleSwipeEnd.bind(k),k._onMouseDown=k._onMouseDown.bind(k),k._onMouseMove=k._onMouseMove.bind(k),k._onMouseUp=k._onMouseUp.bind(k),k._setSwiperRef=k._setSwiperRef.bind(k),k}return c(y,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,E({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,E({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(C){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(C))}},{key:"_onMouseMove",value:function(C){this.mouseDown&&this._handleSwipeMove(C)}},{key:"_onMouseUp",value:function(C){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(C)}},{key:"_handleSwipeStart",value:function(C){var x=S(C),T=x.x,k=x.y;this.moveStart={x:T,y:k},this.props.onSwipeStart(C)}},{key:"_handleSwipeMove",value:function(C){if(this.moveStart){var x=S(C),T=x.x,k=x.y,L=T-this.moveStart.x,I=k-this.moveStart.y;this.moving=!0;var D=this.props.onSwipeMove({x:L,y:I},C);D&&C.cancelable&&C.preventDefault(),this.movePosition={deltaX:L,deltaY:I}}}},{key:"_handleSwipeEnd",value:function(C){this.props.onSwipeEnd(C);var x=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-x?this.props.onSwipeLeft(1,C):this.movePosition.deltaX>x&&this.props.onSwipeRight(1,C),this.movePosition.deltaY<-x?this.props.onSwipeUp(1,C):this.movePosition.deltaY>x&&this.props.onSwipeDown(1,C)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(C){this.swiper=C,this.props.innerRef(C)}},{key:"render",value:function(){var C=this.props;C.tagName;var x=C.className,T=C.style,k=C.children;C.allowMouseEvents,C.onSwipeUp,C.onSwipeDown,C.onSwipeLeft,C.onSwipeRight,C.onSwipeStart,C.onSwipeMove,C.onSwipeEnd,C.innerRef,C.tolerance;var L=l(C,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:x,style:T},L),k)}}]),y}(n.Component);g.displayName="ReactSwipe",g.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},g.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=g})}(Lf)),Lf}(function(t){(function(e,n){n(t,SF())})(iE,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(Yv);var Hl={},Bk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Bk);var CF=Bk.exports;Object.defineProperty(Hl,"__esModule",{value:!0});Hl.default=void 0;var Dr=xF(CF);function xF(t){return t&&t.__esModule?t:{default:t}}function LF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kF={ROOT:function(e){return(0,Dr.default)(LF({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,Dr.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,Dr.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,Dr.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,Dr.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,Dr.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,Dr.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,Dr.default)({dot:!0,selected:e})}};Hl.default=kF;var ql={},wd={};Object.defineProperty(wd,"__esModule",{value:!0});wd.outerWidth=void 0;var TF=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};wd.outerWidth=TF;var xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.default=void 0;var IF=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};xo.default=IF;var Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});Gl.default=void 0;var bF=function(){return window};Gl.default=bF;Object.defineProperty(ql,"__esModule",{value:!0});ql.default=void 0;var In=RF(h),Ci=_d(Hl),NF=wd,k1=_d(xo),PF=_d(Yv),Bu=_d(Gl);function _d(t){return t&&t.__esModule?t:{default:t}}function zk(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return zk=function(){return t},t}function RF(t){if(t&&t.__esModule)return t;if(t===null||Ea(t)!=="object"&&typeof t!="function")return{default:t};var e=zk();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Ea(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ea=function(n){return typeof n}:Ea=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ea(t)}function gm(){return gm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function MF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DF(t,e,n){return e&&T1(t.prototype,e),n&&T1(t,n),t}function AF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vm(t,e)}function vm(t,e){return vm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},vm(t,e)}function OF(t){var e=FF();return function(){var r=sh(t),i;if(e){var s=sh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return $F(this,i)}}function $F(t,e){return e&&(Ea(e)==="object"||typeof e=="function")?e:Wt(t)}function Wt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(t)}function Pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jF=function(e){return e.hasOwnProperty("key")},Xv=function(t){AF(n,t);var e=OF(n);function n(r){var i;return MF(this,n),i=e.call(this,r),Pt(Wt(i),"itemsWrapperRef",void 0),Pt(Wt(i),"itemsListRef",void 0),Pt(Wt(i),"thumbsRef",void 0),Pt(Wt(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),Pt(Wt(i),"setItemsListRef",function(s){i.itemsListRef=s}),Pt(Wt(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),Pt(Wt(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=In.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,NF.outerWidth)(i.thumbsRef[0]),l=Math.floor(o/a),u=l<s,c=u?s-l:0;i.setState(function(d,f){return{itemSize:a,visibleItems:l,firstItem:u?i.getFirstItem(f.selectedItem):0,lastPosition:c,showArrows:u}})}}),Pt(Wt(i),"handleClickItem",function(s,o,a){if(!jF(a)||a.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(s,o)}}),Pt(Wt(i),"onSwipeStart",function(){i.setState({swiping:!0})}),Pt(Wt(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),Pt(Wt(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,l=In.Children.count(i.props.children),u=-(i.state.firstItem*100)/i.state.visibleItems,c=Math.max(l-i.state.visibleItems,0),d=-c*100/i.state.visibleItems;u===a&&o>0&&(o=0),u===d&&o<0&&(o=0);var f=i.itemsWrapperRef.clientWidth,p=u+100/(f/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){i.itemsListRef.style[v]=(0,k1.default)(p,"%",i.props.axis)}),!0}),Pt(Wt(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),Pt(Wt(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),Pt(Wt(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return DF(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,Bu.default)().addEventListener("resize",this.updateSizes),(0,Bu.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,Bu.default)().removeEventListener("resize",this.updateSizes),(0,Bu.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=Ci.default.ITEM(!1,o===i.state.selectedItem),l={key:o,ref:function(c){return i.setThumbsRef(c,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return In.default.createElement("li",gm({},l,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=In.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),c=(0,k1.default)(u,"px",this.props.axis),d=this.props.transitionTime+"ms";return l={WebkitTransform:c,MozTransform:c,MsTransform:c,OTransform:c,transform:c,msTransform:c,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},In.default.createElement("div",{className:Ci.default.CAROUSEL(!1)},In.default.createElement("div",{className:Ci.default.WRAPPER(!1),ref:this.setItemsWrapperRef},In.default.createElement("button",{type:"button",className:Ci.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?In.default.createElement(PF.default,{tagName:"ul",className:Ci.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):In.default.createElement("ul",{className:Ci.default.SLIDER(!1,this.state.swiping),ref:function(p){return i.setItemsListRef(p)},style:l},this.renderItems()),In.default.createElement("button",{type:"button",className:Ci.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(In.Component);ql.default=Xv;Pt(Xv,"displayName","Thumbs");Pt(Xv,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});Ed.default=void 0;var UF=function(){return document};Ed.default=UF;var an={};Object.defineProperty(an,"__esModule",{value:!0});an.setPosition=an.getPosition=an.isKeyboardEvent=an.defaultStatusFormatter=an.noop=void 0;var BF=h,zF=VF(xo);function VF(t){return t&&t.__esModule?t:{default:t}}var WF=function(){};an.noop=WF;var HF=function(e,n){return"".concat(e," of ").concat(n)};an.defaultStatusFormatter=HF;var qF=function(e){return e?e.hasOwnProperty("key"):!1};an.isKeyboardEvent=qF;var GF=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=BF.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};an.getPosition=GF;var KF=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,zF.default)(e,"%",n)}),r};an.setPosition=KF;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.fadeAnimationHandler=Xn.slideStopSwipingHandler=Xn.slideSwipeAnimationHandler=Xn.slideAnimationHandler=void 0;var Vk=h,QF=YF(xo),Zn=an;function YF(t){return t&&t.__esModule?t:{default:t}}function I1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I1(Object(n),!0).forEach(function(r){XF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ZF=function(e,n){var r={},i=n.selectedItem,s=i,o=Vk.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,Zn.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,Zn.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,Zn.setPosition)(0,e.axis)),r;var l=(0,Zn.getPosition)(i,e),u=(0,QF.default)(l,"%",e.axis),c=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(r.itemListStyle=Ii(Ii({},r.itemListStyle),{},{WebkitTransitionDuration:c,MozTransitionDuration:c,OTransitionDuration:c,transitionDuration:c,msTransitionDuration:c})),r};Xn.slideAnimationHandler=ZF;var JF=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=Vk.Children.count(n.children),l=0,u=(0,Zn.getPosition)(r.selectedItem,n),c=n.infiniteLoop?(0,Zn.getPosition)(a-1,n)-100:(0,Zn.getPosition)(a-1,n),d=o?e.x:e.y,f=d;u===l&&d>0&&(f=0),u===c&&d<0&&(f=0);var p=u+100/(r.itemSize/f),v=Math.abs(d)>n.swipeScrollTolerance;return n.infiniteLoop&&v&&(r.selectedItem===0&&p>-100?p-=a*100:r.selectedItem===a-1&&p<-a*100&&(p+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||v||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,Zn.setPosition)(p,n.axis)),v&&!r.cancelClick&&i({cancelClick:!0}),s};Xn.slideSwipeAnimationHandler=JF;var ej=function(e,n){var r=(0,Zn.getPosition)(n.selectedItem,e),i=(0,Zn.setPosition)(r,e.axis);return{itemListStyle:i}};Xn.slideStopSwipingHandler=ej;var tj=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=Ii(Ii({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:Ii(Ii({},s),{},{opacity:1,position:"relative"}),prevStyle:Ii({},s)}};Xn.fadeAnimationHandler=tj;Object.defineProperty(yd,"__esModule",{value:!0});yd.default=void 0;var Te=ij(h),nj=Kl(Yv),cr=Kl(Hl),rj=Kl(ql),zu=Kl(Ed),Vu=Kl(Gl),sa=an,oh=Xn;function Kl(t){return t&&t.__esModule?t:{default:t}}function Wk(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return Wk=function(){return t},t}function ij(t){if(t&&t.__esModule)return t;if(t===null||Sa(t)!=="object"&&typeof t!="function")return{default:t};var e=Wk();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Sa(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sa=function(n){return typeof n}:Sa=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sa(t)}function ym(){return ym=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(this,arguments)}function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oj(t,e,n){return e&&N1(t.prototype,e),n&&N1(t,n),t}function aj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wm(t,e)}function wm(t,e){return wm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},wm(t,e)}function lj(t){var e=cj();return function(){var r=ah(t),i;if(e){var s=ah(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return uj(this,i)}}function uj(t,e){return e&&(Sa(e)==="object"||typeof e=="function")?e:ue(t)}function ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ah(t)}function le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zv=function(t){aj(n,t);var e=lj(n);function n(r){var i;sj(this,n),i=e.call(this,r),le(ue(i),"thumbsRef",void 0),le(ue(i),"carouselWrapperRef",void 0),le(ue(i),"listRef",void 0),le(ue(i),"itemsRef",void 0),le(ue(i),"timer",void 0),le(ue(i),"animationHandler",void 0),le(ue(i),"setThumbsRef",function(o){i.thumbsRef=o}),le(ue(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),le(ue(i),"setListRef",function(o){i.listRef=o}),le(ue(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),le(ue(i),"autoPlay",function(){Te.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),le(ue(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),le(ue(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),le(ue(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),le(ue(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),le(ue(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,zu.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,zu.default)().activeElement)):!1}),le(ue(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,l=a==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},c=l?u.ArrowRight:u.ArrowDown,d=l?u.ArrowLeft:u.ArrowUp;c===o.keyCode?i.increment():d===o.keyCode&&i.decrement()}}),le(ue(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var l=o?a.clientWidth:a.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),le(ue(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),le(ue(i),"handleClickItem",function(o,a){if(Te.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),le(ue(i),"handleOnChange",function(o,a){Te.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),le(ue(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),le(ue(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),le(ue(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),le(ue(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var l=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(ue(i)));return i.setState(bn({},l)),!!Object.keys(l).length}),le(ue(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),le(ue(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),le(ue(i),"moveTo",function(o){if(typeof o=="number"){var a=Te.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),le(ue(i),"onClickNext",function(){i.increment(1)}),le(ue(i),"onClickPrev",function(){i.decrement(1)}),le(ue(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),le(ue(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),le(ue(i),"changeItem",function(o){return function(a){(!(0,sa.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),le(ue(i),"selectItem",function(o){i.setState(bn({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,Te.Children.toArray(i.props.children)[o.selectedItem])}),le(ue(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],l=a&&a.getElementsByTagName("img")||[];return l[0]}),le(ue(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var l=a.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var c=function p(){i.forceUpdate(),u.removeEventListener("load",p)};u.addEventListener("load",c)}}var d=l[0]||a.children[0],f=d.clientHeight;return f>0?f:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&oh.fadeAnimationHandler||oh.slideAnimationHandler,i.state=bn(bn({},s),i.animationHandler(r,s)),i}return oj(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(bn({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&Te.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,Vu.default)().addEventListener("resize",this.updateSizes),(0,Vu.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,zu.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,Vu.default)().removeEventListener("resize",this.updateSizes),(0,Vu.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,zu.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?Te.Children.map(this.props.children,function(o,a){var l=a===s.state.selectedItem,u=a===s.state.previousItem,c=l&&s.state.selectedStyle||u&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(c=bn(bn({},c),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(c=bn(bn({},c),{},{pointerEvents:"none"}));var d={ref:function(p){return s.setItemsRef(p,a)},key:"itemKey"+a+(i?"clone":""),className:cr.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:c};return Te.default.createElement("li",d,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,l=s.renderIndicator,u=s.children;return o?Te.default.createElement("ul",{className:"control-dots"},Te.Children.map(u,function(c,d){return l&&l(i.changeItem(d),d===i.state.selectedItem,d,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?Te.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,Te.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||Te.Children.count(this.props.children)===0?null:Te.default.createElement(rj.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||Te.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&Te.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&Te.Children.count(this.props.children)>1,l=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=a&&(this.state.selectedItem<Te.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,c=this.renderItems(!0),d=c.shift(),f=c.pop(),p={className:cr.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},v={};if(o){if(p.onSwipeLeft=this.onSwipeForward,p.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var E=this.getVariableItemHeight(this.state.selectedItem);v.height=E||"auto"}}else p.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,p.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,p.style=bn(bn({},p.style),{},{height:this.state.itemSize}),v.height=this.state.itemSize;return Te.default.createElement("div",{"aria-label":this.props.ariaLabel,className:cr.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},Te.default.createElement("div",{className:cr.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),Te.default.createElement("div",{className:cr.default.WRAPPER(!0,this.props.axis),style:v},s?Te.default.createElement(nj.default,ym({tagName:"ul",innerRef:this.setListRef},p,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&d):Te.default.createElement("ul",{className:cr.default.SLIDER(!0,this.state.swiping),ref:function(g){return i.setListRef(g)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&d)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(Te.default.Component);yd.default=Zv;le(Zv,"displayName","Carousel");le(Zv,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:sa.noop,onClickThumb:sa.noop,onChange:sa.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return Te.default.createElement("button",{type:"button","aria-label":r,className:cr.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return Te.default.createElement("button",{type:"button","aria-label":r,className:cr.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return Te.default.createElement("li",{className:cr.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=Te.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=Te.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:sa.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:oh.slideSwipeAnimationHandler,stopSwipingHandler:oh.slideStopSwipingHandler});var hj={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(yd),n=hj,r=i(ql);function i(s){return s&&s.__esModule?s:{default:s}}})(Wl);const Jv=({rating:t,onChange:e})=>{const[n,r]=h.useState(0),[i,s]=h.useState(""),[o,a]=h.useState(""),l=f=>{e(f,o)},u=f=>{s(f.target.value)},c=()=>{a(i)},d=()=>{const f=[];for(let p=1;p<=5;p++){const v=p<=(n||t)?"text-yellow-500":"text-gray-300";f.push(w.jsx("svg",{className:`h-5 w-5 inline ${v}`,fill:"currentColor",viewBox:"0 0 20 20",onMouseEnter:()=>r(p),onMouseLeave:()=>r(0),onClick:()=>l(p),children:w.jsx("path",{fillRule:"evenodd",d:"M10 0l3.09 6.31 6.9.99L13.64 10l2.35 5.7-6.9-.99L10 20l-2.1-4.29-6.9.99L6.36 10 .46 4.29l6.9.99L10 0z"})},p))}return f};return w.jsxs("div",{className:"flex flex-col space-y-4",children:[w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"flex",children:d()}),w.jsxs("span",{className:"text-gray-500",children:[t,"/5"]})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("input",{type:"text",value:i,onChange:u,placeholder:"Escribe tu comentario...",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500"}),w.jsx("button",{className:"px-3 py-2 bg-indigo-500 text-white rounded-md",onClick:c,children:"Guardar"})]}),o&&w.jsx("p",{className:"text-gray-600",children:o})]})};Jv.propTypes={rating:ce.number.isRequired,onChange:ce.func.isRequired};const lh=ie.forwardRef(({children:t},e)=>w.jsx("div",{ref:e,children:t}));lh.displayName="MyComponentForm";lh.propTypes={children:ce.node.isRequired};var dj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fj=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},lt=fj;const ae=h.createContext(null);function pj(){lt(!!h.useContext,"useGoogleMap is React hook and requires React version 16.8+");const t=h.useContext(ae);return lt(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function mj(t,e,n){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},n)}function gj(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function vj(t,e,n,r){const i={};return gj(t,(o,a)=>{const l=n[a];l!==e[a]&&(i[a]=l,o(r,l))}),i}function yj(t,e,n){return mj(n,function(s,o,a){return typeof t[a]=="function"&&s.push(google.maps.event.addListener(e,o,t[a])),s},[])}function wj(t){google.maps.event.removeListener(t)}function fe(t=[]){t.forEach(wj)}function he({updaterMap:t,eventMap:e,prevProps:n,nextProps:r,instance:i}){const s=yj(r,i,e);return vj(t,n,r,i),s}const P1={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},R1={extraMapTypes(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function _j({children:t,options:e,id:n,mapContainerStyle:r,mapContainerClassName:i,center:s,onClick:o,onDblClick:a,onDrag:l,onDragEnd:u,onDragStart:c,onMouseMove:d,onMouseOut:f,onMouseOver:p,onMouseDown:v,onMouseUp:E,onRightClick:S,onCenterChanged:g,onLoad:m,onUnmount:y}){const[_,C]=h.useState(null),x=h.useRef(null),[T,k]=h.useState(null),[L,I]=h.useState(null),[D,q]=h.useState(null),[Q,G]=h.useState(null),[oe,te]=h.useState(null),[de,N]=h.useState(null),[A,O]=h.useState(null),[z,K]=h.useState(null),[W,P]=h.useState(null),[Y,X]=h.useState(null),[B,ne]=h.useState(null),[Re,Se]=h.useState(null);return h.useEffect(()=>{e&&_!==null&&_.setOptions(e)},[_,e]),h.useEffect(()=>{_!==null&&typeof s<"u"&&_.setCenter(s)},[_,s]),h.useEffect(()=>{_&&a&&(L!==null&&google.maps.event.removeListener(L),I(google.maps.event.addListener(_,"dblclick",a)))},[a]),h.useEffect(()=>{_&&u&&(D!==null&&google.maps.event.removeListener(D),q(google.maps.event.addListener(_,"dragend",u)))},[u]),h.useEffect(()=>{_&&c&&(Q!==null&&google.maps.event.removeListener(Q),G(google.maps.event.addListener(_,"dragstart",c)))},[c]),h.useEffect(()=>{_&&v&&(oe!==null&&google.maps.event.removeListener(oe),te(google.maps.event.addListener(_,"mousedown",v)))},[v]),h.useEffect(()=>{_&&d&&(de!==null&&google.maps.event.removeListener(de),N(google.maps.event.addListener(_,"mousemove",d)))},[d]),h.useEffect(()=>{_&&f&&(A!==null&&google.maps.event.removeListener(A),O(google.maps.event.addListener(_,"mouseout",f)))},[f]),h.useEffect(()=>{_&&p&&(z!==null&&google.maps.event.removeListener(z),K(google.maps.event.addListener(_,"mouseover",p)))},[p]),h.useEffect(()=>{_&&E&&(W!==null&&google.maps.event.removeListener(W),P(google.maps.event.addListener(_,"mouseup",E)))},[E]),h.useEffect(()=>{_&&S&&(Y!==null&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(_,"rightclick",S)))},[S]),h.useEffect(()=>{_&&o&&(B!==null&&google.maps.event.removeListener(B),ne(google.maps.event.addListener(_,"click",o)))},[o]),h.useEffect(()=>{_&&l&&(Re!==null&&google.maps.event.removeListener(Re),Se(google.maps.event.addListener(_,"drag",l)))},[l]),h.useEffect(()=>{_&&g&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(_,"center_changed",g)))},[o]),h.useEffect(()=>{const kn=x.current===null?null:new google.maps.Map(x.current,e);return C(kn),kn!==null&&m&&m(kn),()=>{kn!==null&&y&&y(kn)}},[]),w.jsx("div",Object.assign({id:n,ref:x,style:r,className:i},{children:w.jsx(ae.Provider,Object.assign({value:_},{children:_!==null?t:w.jsx(w.Fragment,{})}))}))}h.memo(_j);class Ej extends h.PureComponent{constructor(){super(...arguments),this.state={map:null},this.registeredEvents=[],this.mapRef=null,this.getInstance=()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options),this.panTo=e=>{const n=this.getInstance();n&&n.panTo(e)},this.setMapCallback=()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)},this.getRef=e=>{this.mapRef=e}}componentDidMount(){const e=this.getInstance();this.registeredEvents=he({updaterMap:R1,eventMap:P1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:R1,eventMap:P1,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),fe(this.registeredEvents))}render(){return w.jsx("div",Object.assign({id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName},{children:w.jsx(ae.Provider,Object.assign({value:this.state.map},{children:this.state.map!==null?this.props.children:w.jsx(w.Fragment,{})}))}))}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ey(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Sj(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const Oi=typeof document<"u";function Hk({url:t,id:e,nonce:n}){return Oi?new Promise(function(i,s){const o=document.getElementById(e),a=window;if(o){const u=o.getAttribute("data-state");if(o.src===t&&u!=="error"){if(u==="ready")return i(e);{const c=a.initMap,d=o.onerror;a.initMap=function(){c&&c(),i(e)},o.onerror=function(f){d&&d(f),s(f)};return}}else o.remove()}const l=document.createElement("script");l.type="text/javascript",l.src=t,l.id=e,l.async=!0,l.nonce=n,l.onerror=function(c){l.setAttribute("data-state","error"),s(c)},a.initMap=function(){l.setAttribute("data-state","ready"),i(e)},document.head.appendChild(l)}).catch(r=>{throw console.error("injectScript error: ",r),r}):Promise.reject(new Error("document is undefined"))}function M1(t){const e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function qk(){const t=document.getElementsByTagName("head")[0],e=t.insertBefore.bind(t);t.insertBefore=function(i,s){M1(i)||Reflect.apply(e,t,[i,s])};const n=t.appendChild.bind(t);t.appendChild=function(i){M1(i)||Reflect.apply(n,t,[i])}}function Gk({googleMapsApiKey:t,googleMapsClientId:e,version:n="weekly",language:r,region:i,libraries:s,channel:o,mapIds:a,authReferrerPolicy:l}){const u=[];return lt(t&&e||!(t&&e),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?u.push(`key=${t}`):e&&u.push(`client=${e}`),n&&u.push(`v=${n}`),r&&u.push(`language=${r}`),i&&u.push(`region=${i}`),s&&s.length&&u.push(`libraries=${s.sort().join(",")}`),o&&u.push(`channel=${o}`),a&&a.length&&u.push(`map_ids=${a.join(",")}`),l&&u.push(`auth_referrer_policy=${l}`),u.push("callback=initMap"),`https://maps.googleapis.com/maps/api/js?${u.join("&")}`}let Vo=!1;function Kk(){return w.jsx("div",{children:"Loading..."})}const _m={id:"script-loader",version:"weekly"};class Cj extends h.PureComponent{constructor(){super(...arguments),this.check=h.createRef(),this.state={loaded:!1},this.cleanupCallback=()=>{delete window.google.maps,this.injectScript()},this.isCleaningUp=()=>Sj(this,void 0,void 0,function*(){function e(n){if(!Vo)n();else if(Oi){const r=window.setInterval(function(){Vo||(window.clearInterval(r),n())},1)}}return new Promise(e)}),this.cleanup=()=>{Vo=!0;const e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})},this.injectScript=()=>{this.props.preventGoogleFontsLoading&&qk(),lt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);const e={id:this.props.id,nonce:this.props.nonce,url:Gk(this.props)};Hk(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${this.props.googleMapsApiKey||"-"}) or Client ID (${this.props.googleMapsClientId||"-"}) to <LoadScript />
          Otherwise it is a Network issue.
        `)})}}componentDidMount(){if(Oi){if(window.google&&window.google.maps&&!Vo){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Oi&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Oi){this.cleanup();const e=()=>{this.check.current||(delete window.google,Vo=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return w.jsxs(w.Fragment,{children:[w.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||w.jsx(Kk,{})]})}}Cj.defaultProps=_m;let D1;function xj({id:t=_m.id,version:e=_m.version,nonce:n,googleMapsApiKey:r,googleMapsClientId:i,language:s,region:o,libraries:a,preventGoogleFontsLoading:l,channel:u,mapIds:c,authReferrerPolicy:d}){const f=h.useRef(!1),[p,v]=h.useState(!1),[E,S]=h.useState(void 0);h.useEffect(function(){return f.current=!0,()=>{f.current=!1}},[]),h.useEffect(function(){Oi&&l&&qk()},[l]),h.useEffect(function(){p&&lt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[p]);const g=Gk({version:e,googleMapsApiKey:r,googleMapsClientId:i,language:s,region:o,libraries:a,channel:u,mapIds:c,authReferrerPolicy:d});h.useEffect(function(){if(!Oi)return;function _(){f.current&&(v(!0),D1=g)}if(window.google&&window.google.maps&&D1===g){_();return}Hk({id:t,url:g,nonce:n}).then(_).catch(function(x){f.current&&S(x),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${r||"-"}) or Client ID (${i||"-"})
        Otherwise it is a Network issue.
      `),console.error(x)})},[t,g,n]);const m=h.useRef();return h.useEffect(function(){m.current&&a!==m.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),m.current=a},[a]),{isLoaded:p,loadError:E,url:g}}const Lj=w.jsx(Kk,{});function kj(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:i,children:s}=t,o=ey(t,["loadingElement","onLoad","onError","onUnmount","children"]);const{isLoaded:a,loadError:l}=xj(o);return h.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),h.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),h.useEffect(function(){return()=>{i&&i()}},[i]),a?s:e||Lj}h.memo(kj);var A1;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(A1||(A1={}));const O1={},$1={options(t,e){t.setOptions(e)}};function Tj({options:t,onLoad:e,onUnmount:n}){const r=h.useContext(ae),[i,s]=h.useState(null);return h.useEffect(()=>{i!==null&&i.setMap(r)},[r]),h.useEffect(()=>{t&&i!==null&&i.setOptions(t)},[i,t]),h.useEffect(()=>{const o=new google.maps.TrafficLayer(Object.assign(Object.assign({},t||{}),{map:r}));return s(o),e&&e(o),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}h.memo(Tj);class Ij extends h.PureComponent{constructor(){super(...arguments),this.state={trafficLayer:null},this.setTrafficLayerCallback=()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)},this.registeredEvents=[]}componentDidMount(){const e=new google.maps.TrafficLayer(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=he({updaterMap:$1,eventMap:O1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:$1,eventMap:O1,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),fe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Ij.contextType=ae;function bj({onLoad:t,onUnmount:e}){const n=h.useContext(ae),[r,i]=h.useState(null);return h.useEffect(()=>{r!==null&&r.setMap(n)},[n]),h.useEffect(()=>{const s=new google.maps.BicyclingLayer;return i(s),s.setMap(n),t&&t(s),()=>{s!==null&&(e&&e(s),s.setMap(null))}},[]),null}h.memo(bj);class Nj extends h.PureComponent{constructor(){super(...arguments),this.state={bicyclingLayer:null},this.setBicyclingLayerCallback=()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))}}componentDidMount(){const e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Nj.contextType=ae;function Pj({onLoad:t,onUnmount:e}){const n=h.useContext(ae),[r,i]=h.useState(null);return h.useEffect(()=>{r!==null&&r.setMap(n)},[n]),h.useEffect(()=>{const s=new google.maps.TransitLayer;return i(s),s.setMap(n),t&&t(s),()=>{r!==null&&(e&&e(r),this.state.transitLayer.setMap(null))}},[]),null}h.memo(Pj);class Rj extends h.PureComponent{constructor(){super(...arguments),this.state={transitLayer:null},this.setTransitLayerCallback=()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))}}componentDidMount(){const e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Rj.contextType=ae;const F1={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},j1={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function Mj({options:t,drawingMode:e,onCircleComplete:n,onMarkerComplete:r,onOverlayComplete:i,onPolygonComplete:s,onPolylineComplete:o,onRectangleComplete:a,onLoad:l,onUnmount:u}){const c=h.useContext(ae),[d,f]=h.useState(null),[p,v]=h.useState(null),[E,S]=h.useState(null),[g,m]=h.useState(null),[y,_]=h.useState(null),[C,x]=h.useState(null),[T,k]=h.useState(null);return h.useEffect(()=>{d!==null&&d.setMap(c)},[c]),h.useEffect(()=>{t&&d!==null&&d.setOptions(t)},[d,t]),h.useEffect(()=>{e&&d!==null&&d.setDrawingMode(e)},[d,e]),h.useEffect(()=>{d&&n&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(d,"circlecomplete",n)))},[d,n]),h.useEffect(()=>{d&&r&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(d,"markercomplete",r)))},[d,r]),h.useEffect(()=>{d&&i&&(g!==null&&google.maps.event.removeListener(g),m(google.maps.event.addListener(d,"overlaycomplete",i)))},[d,i]),h.useEffect(()=>{d&&s&&(y!==null&&google.maps.event.removeListener(y),_(google.maps.event.addListener(d,"polygoncomplete",s)))},[d,s]),h.useEffect(()=>{d&&o&&(C!==null&&google.maps.event.removeListener(C),x(google.maps.event.addListener(d,"polylinecomplete",o)))},[d,o]),h.useEffect(()=>{d&&a&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(d,"rectanglecomplete",a)))},[d,a]),h.useEffect(()=>{lt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);const L=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},t||{}),{map:c}));return e&&L.setDrawingMode(e),n&&v(google.maps.event.addListener(L,"circlecomplete",n)),r&&S(google.maps.event.addListener(L,"markercomplete",r)),i&&m(google.maps.event.addListener(L,"overlaycomplete",i)),s&&_(google.maps.event.addListener(L,"polygoncomplete",s)),o&&x(google.maps.event.addListener(L,"polylinecomplete",o)),a&&k(google.maps.event.addListener(L,"rectanglecomplete",a)),f(L),l&&l(L),()=>{d!==null&&(p&&google.maps.event.removeListener(p),E&&google.maps.event.removeListener(E),g&&google.maps.event.removeListener(g),y&&google.maps.event.removeListener(y),C&&google.maps.event.removeListener(C),T&&google.maps.event.removeListener(T),u&&u(d),d.setMap(null))}},[]),null}h.memo(Mj);class Dj extends h.PureComponent{constructor(e){super(e),this.registeredEvents=[],this.state={drawingManager:null},this.setDrawingManagerCallback=()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)},lt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){const e=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=he({updaterMap:j1,eventMap:F1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:j1,eventMap:F1,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),fe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Dj.contextType=ae;const U1={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},B1={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},uh={};function Aj({position:t,options:e,clusterer:n,noClustererRedraw:r,children:i,draggable:s,visible:o,animation:a,clickable:l,cursor:u,icon:c,label:d,opacity:f,shape:p,title:v,zIndex:E,onClick:S,onDblClick:g,onDrag:m,onDragEnd:y,onDragStart:_,onMouseOut:C,onMouseOver:x,onMouseUp:T,onMouseDown:k,onRightClick:L,onClickableChanged:I,onCursorChanged:D,onAnimationChanged:q,onDraggableChanged:Q,onFlatChanged:G,onIconChanged:oe,onPositionChanged:te,onShapeChanged:de,onTitleChanged:N,onVisibleChanged:A,onZindexChanged:O,onLoad:z,onUnmount:K}){const W=h.useContext(ae),[P,Y]=h.useState(null),[X,B]=h.useState(null),[ne,Re]=h.useState(null),[Se,kn]=h.useState(null),[or,bo]=h.useState(null),[Ne,xy]=h.useState(null),[eu,Ly]=h.useState(null),[tu,ky]=h.useState(null),[nu,Ty]=h.useState(null),[ru,Iy]=h.useState(null),[by,Ny]=h.useState(null),[iu,Py]=h.useState(null),[su,Ry]=h.useState(null),[ou,My]=h.useState(null),[au,Dy]=h.useState(null),[lu,Ay]=h.useState(null),[uu,Oy]=h.useState(null),[cu,$y]=h.useState(null),[Fy,jy]=h.useState(null),[hu,Uy]=h.useState(null),[du,By]=h.useState(null),[fu,zy]=h.useState(null);h.useEffect(()=>{P!==null&&P.setMap(W)},[W]),h.useEffect(()=>{typeof e<"u"&&P!==null&&P.setOptions(e)},[P,e]),h.useEffect(()=>{typeof s<"u"&&P!==null&&P.setDraggable(s)},[P,s]),h.useEffect(()=>{t&&P!==null&&P.setPosition(t)},[P,t]),h.useEffect(()=>{typeof o<"u"&&P!==null&&P.setVisible(o)},[P,o]),h.useEffect(()=>{a&&P!==null&&P.setAnimation(a)},[P,a]),h.useEffect(()=>{P&&g&&(X!==null&&google.maps.event.removeListener(X),B(google.maps.event.addListener(P,"dblclick",g)))},[g]),h.useEffect(()=>{P&&y&&(ne!==null&&google.maps.event.removeListener(ne),Re(google.maps.event.addListener(P,"dragend",y)))},[y]),h.useEffect(()=>{P&&_&&(Se!==null&&google.maps.event.removeListener(Se),kn(google.maps.event.addListener(P,"dragstart",_)))},[_]),h.useEffect(()=>{P&&k&&(or!==null&&google.maps.event.removeListener(or),bo(google.maps.event.addListener(P,"mousedown",k)))},[k]),h.useEffect(()=>{P&&C&&(Ne!==null&&google.maps.event.removeListener(Ne),xy(google.maps.event.addListener(P,"mouseout",C)))},[C]),h.useEffect(()=>{P&&x&&(eu!==null&&google.maps.event.removeListener(eu),Ly(google.maps.event.addListener(P,"mouseover",x)))},[x]),h.useEffect(()=>{P&&T&&(tu!==null&&google.maps.event.removeListener(tu),ky(google.maps.event.addListener(P,"mouseup",T)))},[T]),h.useEffect(()=>{P&&L&&(nu!==null&&google.maps.event.removeListener(nu),Ty(google.maps.event.addListener(P,"rightclick",L)))},[L]),h.useEffect(()=>{P&&S&&(ru!==null&&google.maps.event.removeListener(ru),Iy(google.maps.event.addListener(P,"click",S)))},[S]),h.useEffect(()=>{P&&m&&(by!==null&&google.maps.event.removeListener(by),Ny(google.maps.event.addListener(P,"drag",m)))},[m]),h.useEffect(()=>{P&&I&&(iu!==null&&google.maps.event.removeListener(iu),Py(google.maps.event.addListener(P,"clickable_changed",I)))},[I]),h.useEffect(()=>{P&&D&&(su!==null&&google.maps.event.removeListener(su),Ry(google.maps.event.addListener(P,"cursor_changed",D)))},[D]),h.useEffect(()=>{P&&q&&(ou!==null&&google.maps.event.removeListener(ou),My(google.maps.event.addListener(P,"animation_changed",q)))},[q]),h.useEffect(()=>{P&&Q&&(au!==null&&google.maps.event.removeListener(au),Dy(google.maps.event.addListener(P,"draggable_changed",Q)))},[Q]),h.useEffect(()=>{P&&G&&(lu!==null&&google.maps.event.removeListener(lu),Ay(google.maps.event.addListener(P,"flat_changed",G)))},[G]),h.useEffect(()=>{P&&oe&&(uu!==null&&google.maps.event.removeListener(uu),Oy(google.maps.event.addListener(P,"icon_changed",oe)))},[oe]),h.useEffect(()=>{P&&te&&(cu!==null&&google.maps.event.removeListener(cu),$y(google.maps.event.addListener(P,"position_changed",te)))},[te]),h.useEffect(()=>{P&&de&&(Fy!==null&&google.maps.event.removeListener(Fy),jy(google.maps.event.addListener(P,"shape_changed",de)))},[de]),h.useEffect(()=>{P&&N&&(hu!==null&&google.maps.event.removeListener(hu),Uy(google.maps.event.addListener(P,"title_changed",N)))},[N]),h.useEffect(()=>{P&&A&&(du!==null&&google.maps.event.removeListener(du),By(google.maps.event.addListener(P,"visible_changed",A)))},[A]),h.useEffect(()=>{P&&O&&(fu!==null&&google.maps.event.removeListener(fu),zy(google.maps.event.addListener(P,"zindex_changed",O)))},[O]),h.useEffect(()=>{const No=Object.assign(Object.assign(Object.assign({},e||uh),n?uh:{map:W}),{position:t}),re=new google.maps.Marker(No);return n?n.addMarker(re,!!r):re.setMap(W),t&&re.setPosition(t),typeof o<"u"&&re.setVisible(o),typeof s<"u"&&re.setDraggable(s),typeof l<"u"&&re.setClickable(l),typeof u=="string"&&re.setCursor(u),c&&re.setIcon(c),typeof d<"u"&&re.setLabel(d),typeof f<"u"&&re.setOpacity(f),p&&re.setShape(p),typeof v=="string"&&re.setTitle(v),typeof E=="number"&&re.setZIndex(E),g&&B(google.maps.event.addListener(re,"dblclick",g)),y&&Re(google.maps.event.addListener(re,"dragend",y)),_&&kn(google.maps.event.addListener(re,"dragstart",_)),k&&bo(google.maps.event.addListener(re,"mousedown",k)),C&&xy(google.maps.event.addListener(re,"mouseout",C)),x&&Ly(google.maps.event.addListener(re,"mouseover",x)),T&&ky(google.maps.event.addListener(re,"mouseup",T)),L&&Ty(google.maps.event.addListener(re,"rightclick",L)),S&&Iy(google.maps.event.addListener(re,"click",S)),m&&Ny(google.maps.event.addListener(re,"drag",m)),I&&Py(google.maps.event.addListener(re,"clickable_changed",I)),D&&Ry(google.maps.event.addListener(re,"cursor_changed",D)),q&&My(google.maps.event.addListener(re,"animation_changed",q)),Q&&Dy(google.maps.event.addListener(re,"draggable_changed",Q)),G&&Ay(google.maps.event.addListener(re,"flat_changed",G)),oe&&Oy(google.maps.event.addListener(re,"icon_changed",oe)),te&&$y(google.maps.event.addListener(re,"position_changed",te)),de&&jy(google.maps.event.addListener(re,"shape_changed",de)),N&&Uy(google.maps.event.addListener(re,"title_changed",N)),A&&By(google.maps.event.addListener(re,"visible_changed",A)),O&&zy(google.maps.event.addListener(re,"zindex_changed",O)),Y(re),z&&z(re),()=>{X!==null&&google.maps.event.removeListener(X),ne!==null&&google.maps.event.removeListener(ne),Se!==null&&google.maps.event.removeListener(Se),or!==null&&google.maps.event.removeListener(or),Ne!==null&&google.maps.event.removeListener(Ne),eu!==null&&google.maps.event.removeListener(eu),tu!==null&&google.maps.event.removeListener(tu),nu!==null&&google.maps.event.removeListener(nu),ru!==null&&google.maps.event.removeListener(ru),iu!==null&&google.maps.event.removeListener(iu),su!==null&&google.maps.event.removeListener(su),ou!==null&&google.maps.event.removeListener(ou),au!==null&&google.maps.event.removeListener(au),lu!==null&&google.maps.event.removeListener(lu),uu!==null&&google.maps.event.removeListener(uu),cu!==null&&google.maps.event.removeListener(cu),hu!==null&&google.maps.event.removeListener(hu),du!==null&&google.maps.event.removeListener(du),fu!==null&&google.maps.event.removeListener(fu),K&&K(re),n?n.removeMarker(re,!!r):re&&re.setMap(null)}},[]);const xI=h.useMemo(()=>i?h.Children.map(i,No=>{if(!h.isValidElement(No))return No;const re=No;return h.cloneElement(re,{anchor:P})}):null,[i,P]);return w.jsx(w.Fragment,{children:xI})||null}h.memo(Aj);class Qk extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[]}componentDidMount(){const e=Object.assign(Object.assign(Object.assign({},this.props.options||uh),this.props.clusterer?uh:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=he({updaterMap:B1,eventMap:U1,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)}componentDidUpdate(e){this.marker&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:B1,eventMap:U1,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),fe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){let e=null;return this.props.children&&(e=h.Children.map(this.props.children,n=>{if(!h.isValidElement(n))return n;const r=n;return h.cloneElement(r,{anchor:this.marker})})),e||null}}Qk.contextType=ae;var Oj=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i;if(this.div&&this.center){var s=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,o=this.backgroundPosition.split(" "),a=parseInt(o[0].replace(/^\s+|\s+$/g,""),10),l=parseInt(o[1].replace(/^\s+|\s+$/g,""),10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(u!==null?"".concat(u.y,"px"):"0","; left: ").concat(u!==null?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var c=document.createElement("img");c.alt=s,c.src=this.url,c.width=this.width,c.height=this.height,c.setAttribute("style","position: absolute; top: ".concat(l,"px; left: ").concat(a,"px")),this.cluster.getClusterer().enableRetinaIcons||(c.style.clip="rect(-".concat(l,"px, -").concat(a+this.width,"px, -").concat(l+this.height,", -").concat(a,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((e=this.sums)===null||e===void 0)&&e.text&&(d.innerText="".concat((n=this.sums)===null||n===void 0?void 0:n.text)),!((r=this.sums)===null||r===void 0)&&r.html&&(d.innerHTML="".concat((i=this.sums)===null||i===void 0?void 0:i.html)),this.div.innerHTML="",this.div.appendChild(c),this.div.appendChild(d),this.div.title=s,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0"},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),$j=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Oj(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0;r<n.length;r++){var i=n[r].getPosition();i&&e.extend(i)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var l=0;l<s;l++)this.markers[l].setMap(null);else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function Fj(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var jj=2e3,Uj=500,Bj="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",zj="png",Vj=[53,56,66,78,90],Wj="cluster",Yk=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.extend=this.extend.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||Bj,this.imageExtension=r.imageExtension||zj,this.imageSizes=r.imageSizes||Vj,this.calculator=r.calculator||Fj,this.batchSize=r.batchSize||jj,this.batchSizeIE=r.batchSizeIE||Uj,this.clusterClass=r.clusterClass||Wj,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0;e<this.markers.length;e++)this.markers[e].getMap()!==this.activeMap&&this.markers[e].setMap(this.activeMap);for(var e=0;e<this.clusters.length;e++)this.clusters[e].remove();this.clusters=[];for(var e=0;e<this.listeners.length;e++)google.maps.event.removeListener(this.listeners[e]);this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e],width:this.imageSizes[e]})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0;r<e.length;r++){var i=e[r].getPosition();i&&n.extend(i)}var s=this.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.pushMarkerTo(e[r]);n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0;i<e.length;i++)r=r||this.removeMarker_(e[i]);return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0;r<e.length;r++)e[r].remove()},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var o=n.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0;n<this.clusters.length;n++)this.clusters[n].remove();this.clusters=[];for(var n=0;n<this.markers.length;n++){var r=this.markers[n];r.isAdded=!1,e&&r.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,s=0;s<this.clusters.length;s++){n=this.clusters[s];var o=n.getCenter(),a=e.getPosition();if(o&&a){var l=this.distanceBetweenPoints(o,a);l<r&&(r=l,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new $j(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,o=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),u=e;u<l;u++){var c=this.markers[u];!c.isAdded&&this.isMarkerInBounds(c,a)&&(!this.ignoreHidden||this.ignoreHidden&&c.getVisible())&&this.addToClosestCluster(c)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var u=0;u<this.clusters.length;u++)this.clusters[u].updateIcon()}}},t.prototype.extend=function(e,n){return function(i){for(var s in i.prototype)this.prototype[s]=i.prototype[s];return this}.apply(e,[n])},t}();const gn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Ce={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},Hj={};function qj(t){const{children:e,options:n,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:u,imageExtension:c,imagePath:d,imageSizes:f,maxZoom:p,minimumClusterSize:v,styles:E,title:S,zoomOnClick:g,onClick:m,onClusteringBegin:y,onClusteringEnd:_,onMouseOver:C,onMouseOut:x,onLoad:T,onUnmount:k}=t,[L,I]=h.useState(null),D=h.useContext(ae),[q,Q]=h.useState(null),[G,oe]=h.useState(null),[te,de]=h.useState(null),[N,A]=h.useState(null),[O,z]=h.useState(null);return h.useEffect(()=>{L&&x&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(L,gn.onMouseOut,x)))},[x]),h.useEffect(()=>{L&&C&&(O!==null&&google.maps.event.removeListener(O),z(google.maps.event.addListener(L,gn.onMouseOver,C)))},[C]),h.useEffect(()=>{L&&m&&(q!==null&&google.maps.event.removeListener(q),Q(google.maps.event.addListener(L,gn.onClick,m)))},[m]),h.useEffect(()=>{L&&y&&(G!==null&&google.maps.event.removeListener(G),oe(google.maps.event.addListener(L,gn.onClusteringBegin,y)))},[y]),h.useEffect(()=>{L&&_&&(te!==null&&google.maps.event.removeListener(te),oe(google.maps.event.addListener(L,gn.onClusteringEnd,_)))},[_]),h.useEffect(()=>{typeof r<"u"&&L!==null&&Ce.averageCenter(L,r)},[L,r]),h.useEffect(()=>{typeof i<"u"&&L!==null&&Ce.batchSizeIE(L,i)},[L,i]),h.useEffect(()=>{typeof s<"u"&&L!==null&&Ce.calculator(L,s)},[L,s]),h.useEffect(()=>{typeof o<"u"&&L!==null&&Ce.clusterClass(L,o)},[L,o]),h.useEffect(()=>{typeof a<"u"&&L!==null&&Ce.enableRetinaIcons(L,a)},[L,a]),h.useEffect(()=>{typeof l<"u"&&L!==null&&Ce.gridSize(L,l)},[L,l]),h.useEffect(()=>{typeof u<"u"&&L!==null&&Ce.ignoreHidden(L,u)},[L,u]),h.useEffect(()=>{typeof c<"u"&&L!==null&&Ce.imageExtension(L,c)},[L,c]),h.useEffect(()=>{typeof d<"u"&&L!==null&&Ce.imagePath(L,d)},[L,d]),h.useEffect(()=>{typeof f<"u"&&L!==null&&Ce.imageSizes(L,f)},[L,f]),h.useEffect(()=>{typeof p<"u"&&L!==null&&Ce.maxZoom(L,p)},[L,p]),h.useEffect(()=>{typeof v<"u"&&L!==null&&Ce.minimumClusterSize(L,v)},[L,v]),h.useEffect(()=>{typeof E<"u"&&L!==null&&Ce.styles(L,E)},[L,E]),h.useEffect(()=>{typeof S<"u"&&L!==null&&Ce.title(L,S)},[L,S]),h.useEffect(()=>{typeof g<"u"&&L!==null&&Ce.zoomOnClick(L,g)},[L,g]),h.useEffect(()=>{if(!D)return;const K=Object.assign({},n||Hj),W=new Yk(D,[],K);return r&&Ce.averageCenter(W,r),i&&Ce.batchSizeIE(W,i),s&&Ce.calculator(W,s),o&&Ce.clusterClass(W,o),a&&Ce.enableRetinaIcons(W,a),l&&Ce.gridSize(W,l),u&&Ce.ignoreHidden(W,u),c&&Ce.imageExtension(W,c),d&&Ce.imagePath(W,d),f&&Ce.imageSizes(W,f),p&&Ce.maxZoom(W,p),v&&Ce.minimumClusterSize(W,v),E&&Ce.styles(W,E),S&&Ce.title(W,S),g&&Ce.zoomOnClick(W,g),x&&A(google.maps.event.addListener(W,gn.onMouseOut,x)),C&&z(google.maps.event.addListener(W,gn.onMouseOver,C)),m&&Q(google.maps.event.addListener(W,gn.onClick,m)),y&&oe(google.maps.event.addListener(W,gn.onClusteringBegin,y)),_&&de(google.maps.event.addListener(W,gn.onClusteringEnd,_)),I(W),T&&T(W),()=>{N!==null&&google.maps.event.removeListener(N),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),G!==null&&google.maps.event.removeListener(G),te!==null&&google.maps.event.removeListener(te),k&&k(W)}},[]),L!==null&&e(L)||null}h.memo(qj);class Gj extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={markerClusterer:null},this.setClustererCallback=()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)}}componentDidMount(){if(this.context){const e=new Yk(this.context,[],this.props.options);this.registeredEvents=he({updaterMap:Ce,eventMap:gn,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:Ce,eventMap:gn,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),fe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Gj.contextType=ae;function z1(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var Xk=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(a){a.returnValue=!1,a.preventDefault&&a.preventDefault(),e.enableEventPropagation||z1(a)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0;o<s.length;o++)this.eventListeners.push(google.maps.event.addListener(this.div,s[o],z1));this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,l=o.offsetHeight,u=this.pixelOffset.width,c=this.pixelOffset.height,d=this.div.offsetWidth,f=this.div.offsetHeight,p=this.infoBoxClearance.width,v=this.infoBoxClearance.height,E=this.getProjection(),S=E.fromLatLngToContainerPixel(this.position);S!==null&&(S.x<-u+p?r=S.x+u-p:S.x+d+u+p>a&&(r=S.x+d+u+p-a),this.alignBottom?S.y<-c+v+f?i=S.y+c-v-f:S.y+c+v>l&&(i=S.y+c+v-l):S.y<-c+v?i=S.y+c-v:S.y+f+c+v>l&&(i=S.y+f+c+v-l)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0;e<this.eventListeners.length;e++)google.maps.event.removeListener(this.eventListeners[e]);this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}.apply(e,[n])},t}();const V1={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},W1={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Kj={};function Qj({children:t,anchor:e,options:n,position:r,zIndex:i,onCloseClick:s,onDomReady:o,onContentChanged:a,onPositionChanged:l,onZindexChanged:u,onLoad:c,onUnmount:d}){const f=h.useContext(ae),[p,v]=h.useState(null),[E,S]=h.useState(null),[g,m]=h.useState(null),[y,_]=h.useState(null),[C,x]=h.useState(null),[T,k]=h.useState(null),L=h.useRef(null);return h.useEffect(()=>{f&&p!==null&&(p.close(),e?p.open(f,e):p.getPosition()&&p.open(f))},[f,p,e]),h.useEffect(()=>{n&&p!==null&&p.setOptions(n)},[p,n]),h.useEffect(()=>{if(r&&p!==null){const I=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);p.setPosition(I)}},[r]),h.useEffect(()=>{typeof i=="number"&&p!==null&&p.setZIndex(i)},[i]),h.useEffect(()=>{p&&s&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(p,"closeclick",s)))},[s]),h.useEffect(()=>{p&&o&&(g!==null&&google.maps.event.removeListener(g),m(google.maps.event.addListener(p,"domready",o)))},[o]),h.useEffect(()=>{p&&a&&(y!==null&&google.maps.event.removeListener(y),_(google.maps.event.addListener(p,"content_changed",a)))},[a]),h.useEffect(()=>{p&&l&&(C!==null&&google.maps.event.removeListener(C),x(google.maps.event.addListener(p,"position_changed",l)))},[l]),h.useEffect(()=>{p&&u&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(p,"zindex_changed",u)))},[u]),h.useEffect(()=>{if(f){const I=n||Kj,{position:D}=I,q=ey(I,["position"]);let Q;D&&!(D instanceof google.maps.LatLng)&&(Q=new google.maps.LatLng(D.lat,D.lng));const G=new Xk(Object.assign(Object.assign({},q),Q?{position:Q}:{}));L.current=document.createElement("div"),v(G),s&&S(google.maps.event.addListener(G,"closeclick",s)),o&&m(google.maps.event.addListener(G,"domready",o)),a&&_(google.maps.event.addListener(G,"content_changed",a)),l&&x(google.maps.event.addListener(G,"position_changed",l)),u&&k(google.maps.event.addListener(G,"zindex_changed",u)),G.setContent(L.current),e?G.open(f,e):G.getPosition()?G.open(f):lt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),c&&c(G)}return()=>{p!==null&&(E&&google.maps.event.removeListener(E),y&&google.maps.event.removeListener(y),g&&google.maps.event.removeListener(g),C&&google.maps.event.removeListener(C),T&&google.maps.event.removeListener(T),d&&d(p),p.close())}},[]),L.current?vi.createPortal(h.Children.only(t),L.current):null}h.memo(Qj);class Yj extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=null,this.state={infoBox:null},this.open=(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):lt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},this.setInfoBoxCallback=()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))}}componentDidMount(){const e=this.props.options||{},{position:n}=e,r=ey(e,["position"]);let i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));const s=new Xk(Object.assign(Object.assign({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=he({updaterMap:W1,eventMap:V1,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){const{infoBox:n}=this.state;n!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:W1,eventMap:V1,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){const{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),fe(this.registeredEvents),n.close())}render(){return this.containerElement?vi.createPortal(h.Children.only(this.props.children),this.containerElement):null}}Yj.contextType=ae;var H1=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},Zk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(dj,function(){function n(f,p,v,E,S,g){if(!(S-E<=v)){var m=E+S>>1;r(f,p,m,E,S,g%2),n(f,p,v,E,m-1,g+1),n(f,p,v,m+1,S,g+1)}}function r(f,p,v,E,S,g){for(;S>E;){if(S-E>600){var m=S-E+1,y=v-E+1,_=Math.log(m),C=.5*Math.exp(2*_/3),x=.5*Math.sqrt(_*C*(m-C)/m)*(y-m/2<0?-1:1),T=Math.max(E,Math.floor(v-y*C/m+x)),k=Math.min(S,Math.floor(v+(m-y)*C/m+x));r(f,p,v,T,k,g)}var L=p[2*v+g],I=E,D=S;for(i(f,p,E,v),p[2*S+g]>L&&i(f,p,E,S);I<D;){for(i(f,p,I,D),I++,D--;p[2*I+g]<L;)I++;for(;p[2*D+g]>L;)D--}p[2*E+g]===L?i(f,p,E,D):(D++,i(f,p,D,S)),D<=v&&(E=D+1),v<=D&&(S=D-1)}}function i(f,p,v,E){s(f,v,E),s(p,2*v,2*E),s(p,2*v+1,2*E+1)}function s(f,p,v){var E=f[p];f[p]=f[v],f[v]=E}function o(f,p,v,E,S,g,m){for(var y=[0,f.length-1,0],_=[],C,x;y.length;){var T=y.pop(),k=y.pop(),L=y.pop();if(k-L<=m){for(var I=L;I<=k;I++)C=p[2*I],x=p[2*I+1],C>=v&&C<=S&&x>=E&&x<=g&&_.push(f[I]);continue}var D=Math.floor((L+k)/2);C=p[2*D],x=p[2*D+1],C>=v&&C<=S&&x>=E&&x<=g&&_.push(f[D]);var q=(T+1)%2;(T===0?v<=C:E<=x)&&(y.push(L),y.push(D-1),y.push(q)),(T===0?S>=C:g>=x)&&(y.push(D+1),y.push(k),y.push(q))}return _}function a(f,p,v,E,S,g){for(var m=[0,f.length-1,0],y=[],_=S*S;m.length;){var C=m.pop(),x=m.pop(),T=m.pop();if(x-T<=g){for(var k=T;k<=x;k++)l(p[2*k],p[2*k+1],v,E)<=_&&y.push(f[k]);continue}var L=Math.floor((T+x)/2),I=p[2*L],D=p[2*L+1];l(I,D,v,E)<=_&&y.push(f[L]);var q=(C+1)%2;(C===0?v-S<=I:E-S<=D)&&(m.push(T),m.push(L-1),m.push(q)),(C===0?v+S>=I:E+S>=D)&&(m.push(L+1),m.push(x),m.push(q))}return y}function l(f,p,v,E){var S=f-v,g=p-E;return S*S+g*g}var u=function(f){return f[0]},c=function(f){return f[1]},d=function(p,v,E,S,g){v===void 0&&(v=u),E===void 0&&(E=c),S===void 0&&(S=64),g===void 0&&(g=Float64Array),this.nodeSize=S,this.points=p;for(var m=p.length<65536?Uint16Array:Uint32Array,y=this.ids=new m(p.length),_=this.coords=new g(p.length*2),C=0;C<p.length;C++)y[C]=C,_[2*C]=v(p[C]),_[2*C+1]=E(p[C]);n(y,_,S,0,y.length-1,0)};return d.prototype.range=function(p,v,E,S){return o(this.ids,this.coords,p,v,E,S,this.nodeSize)},d.prototype.within=function(p,v,E){return a(this.ids,this.coords,p,v,E,this.nodeSize)},d})})(Zk);var q1=Zk.exports;const Xj={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},ch=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1));class Zj{constructor(e){this.options=Ca(Object.create(Xj),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:n,minZoom:r,maxZoom:i,nodeSize:s}=this.options;n&&console.time("total time");const o=`prepare ${e.length} points`;n&&console.time(o),this.points=e;let a=[];for(let l=0;l<e.length;l++)e[l].geometry&&a.push(e3(e[l],l));this.trees[i+1]=new q1(a,K1,Q1,s,Float32Array),n&&console.timeEnd(o);for(let l=i;l>=r;l--){const u=+Date.now();a=this._cluster(a,l),this.trees[l]=new q1(a,K1,Q1,s,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,a.length,+Date.now()-u)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const c=this.getClusters([r,i,180,o],n),d=this.getClusters([-180,i,s,o],n);return c.concat(d)}const a=this.trees[this._limitZoom(n)],l=a.range(lc(r),uc(o),lc(s),uc(i)),u=[];for(const c of l){const d=a.points[c];u.push(d.numPoints?G1(d):this.points[d.index])}return u}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const o=s.points[n];if(!o)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=s.within(o.x,o.y,a),u=[];for(const c of l){const d=s.points[c];d.parentId===e&&u.push(d.numPoints?G1(d):this.points[d.index])}if(u.length===0)throw new Error(i);return u}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,u=(r-l)/s,c=(r+1+l)/s,d={features:[]};return this._addTileFeatures(i.range((n-l)/s,u,(n+1+l)/s,c),i.points,n,r,s,d),n===0&&this._addTileFeatures(i.range(1-l/s,u,1,c),i.points,s,r,s,d),n===s-1&&this._addTileFeatures(i.range(0,u,l/s,c),i.points,-1,r,s,d),d.features.length?d:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const o=this.getChildren(n);for(const a of o){const l=a.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(a),e.length===r)break}return s}_addTileFeatures(e,n,r,i,s,o){for(const a of e){const l=n[a],u=l.numPoints;let c,d,f;if(u)c=Jk(l),d=l.x,f=l.y;else{const E=this.points[l.index];c=E.properties,d=lc(E.geometry.coordinates[0]),f=uc(E.geometry.coordinates[1])}const p={type:1,geometry:[[Math.round(this.options.extent*(d*s-r)),Math.round(this.options.extent*(f*s-i))]],tags:c};let v;u?v=l.id:this.options.generateId?v=l.index:this.points[l.index].id&&(v=this.points[l.index].id),v!==void 0&&(p.id=v),o.features.push(p)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}_cluster(e,n){const r=[],{radius:i,extent:s,reduce:o,minPoints:a}=this.options,l=i/(s*Math.pow(2,n));for(let u=0;u<e.length;u++){const c=e[u];if(c.zoom<=n)continue;c.zoom=n;const d=this.trees[n+1],f=d.within(c.x,c.y,l),p=c.numPoints||1;let v=p;for(const E of f){const S=d.points[E];S.zoom>n&&(v+=S.numPoints||1)}if(v>p&&v>=a){let E=c.x*p,S=c.y*p,g=o&&p>1?this._map(c,!0):null;const m=(u<<5)+(n+1)+this.points.length;for(const y of f){const _=d.points[y];if(_.zoom<=n)continue;_.zoom=n;const C=_.numPoints||1;E+=_.x*C,S+=_.y*C,_.parentId=m,o&&(g||(g=this._map(c,!0)),o(g,this._map(_)))}c.parentId=m,r.push(Jj(E/v,S/v,m,v,g))}else if(r.push(c),v>1)for(const E of f){const S=d.points[E];S.zoom<=n||(S.zoom=n,r.push(S))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n){if(e.numPoints)return n?Ca({},e.properties):e.properties;const r=this.points[e.index].properties,i=this.options.map(r);return n&&i===r?Ca({},i):i}}function Jj(t,e,n,r,i){return{x:ch(t),y:ch(e),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function e3(t,e){const[n,r]=t.geometry.coordinates;return{x:ch(lc(n)),y:ch(uc(r)),zoom:1/0,index:e,parentId:-1}}function G1(t){return{type:"Feature",id:t.id,properties:Jk(t),geometry:{type:"Point",coordinates:[t3(t.x),n3(t.y)]}}}function Jk(t){const e=t.numPoints,n=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?`${Math.round(e/100)/10}k`:e;return Ca(Ca({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function lc(t){return t/360+.5}function uc(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function t3(t){return(t-.5)*360}function n3(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function Ca(t,e){for(const n in e)t[n]=e[n];return t}function K1(t){return t.x}function Q1(t){return t.y}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function r3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class Em{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position))return this.markers.reduce((e,n)=>e.extend(n.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class i3{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return s3(e)}}const s3=t=>t.map(n=>new Em({position:n.getPosition(),markers:[n]}));class o3 extends i3{constructor(e){var{maxZoom:n,radius:r=60}=e,i=r3(e,["maxZoom","radius"]);super({maxZoom:n}),this.superCluster=new Zj(Object.assign({maxZoom:this.maxZoom,radius:r},i)),this.state={zoom:null}}calculate(e){let n=!1;if(!H1(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>({type:"Feature",geometry:{type:"Point",coordinates:[s.getPosition().lng(),s.getPosition().lat()]},properties:{marker:s}}));this.superCluster.load(i)}const r={zoom:e.map.getZoom()};return n||this.state.zoom>this.maxZoom&&r.zoom>this.maxZoom||(n=n||!H1(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new Em({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:new google.maps.LatLng({lat:n,lng:e})});{const i=r.marker;return new Em({markers:[i],position:i.getPosition()})}}}class a3{constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class l3{render({count:e,position:n},r){const i=e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",s=window.btoa(`
  <svg fill="${i}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`);return new google.maps.Marker({position:n,icon:{url:`data:image/svg+xml;base64,${s}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}function u3(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class ty{constructor(){u3(ty,google.maps.OverlayView)}}var xa;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(xa||(xa={}));const c3=(t,e,n)=>{n.fitBounds(e.bounds)};class h3 extends ty{constructor({map:e,markers:n=[],algorithm:r=new o3({}),renderer:i=new l3,onClusterClick:s=c3}){super(),this.markers=[...n],this.clusters=[],this.algorithm=r,this.renderer=i,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(e.setMap(null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,xa.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(r||r==null)&&(this.reset(),this.clusters=n,this.renderClusters()),google.maps.event.trigger(this,xa.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new a3(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,xa.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),r.marker.setMap(n)})}}function d3(t){const e=pj(),[n,r]=h.useState(null);return h.useEffect(()=>{if(e&&n===null){const i=new h3(Object.assign(Object.assign({},t),{map:e}));r(i)}},[e]),n}function f3({children:t,options:e}){const n=d3(e);return n!==null?t(n):null}h.memo(f3);const Y1={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},X1={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function p3({children:t,anchor:e,options:n,position:r,zIndex:i,onCloseClick:s,onDomReady:o,onContentChanged:a,onPositionChanged:l,onZindexChanged:u,onLoad:c,onUnmount:d}){const f=h.useContext(ae),[p,v]=h.useState(null),[E,S]=h.useState(null),[g,m]=h.useState(null),[y,_]=h.useState(null),[C,x]=h.useState(null),[T,k]=h.useState(null),L=h.useRef(null);return h.useEffect(()=>{p!==null&&(p.close(),e?p.open(f,e):p.getPosition()&&p.open(f))},[f,p,e]),h.useEffect(()=>{n&&p!==null&&p.setOptions(n)},[p,n]),h.useEffect(()=>{r&&p!==null&&p.setPosition(r)},[r]),h.useEffect(()=>{typeof i=="number"&&p!==null&&p.setZIndex(i)},[i]),h.useEffect(()=>{p&&s&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(p,"closeclick",s)))},[s]),h.useEffect(()=>{p&&o&&(g!==null&&google.maps.event.removeListener(g),m(google.maps.event.addListener(p,"domready",o)))},[o]),h.useEffect(()=>{p&&a&&(y!==null&&google.maps.event.removeListener(y),_(google.maps.event.addListener(p,"content_changed",a)))},[a]),h.useEffect(()=>{p&&l&&(C!==null&&google.maps.event.removeListener(C),x(google.maps.event.addListener(p,"position_changed",l)))},[l]),h.useEffect(()=>{p&&u&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(p,"zindex_changed",u)))},[u]),h.useEffect(()=>{const I=new google.maps.InfoWindow(Object.assign({},n||{}));return v(I),L.current=document.createElement("div"),s&&S(google.maps.event.addListener(I,"closeclick",s)),o&&m(google.maps.event.addListener(I,"domready",o)),a&&_(google.maps.event.addListener(I,"content_changed",a)),l&&x(google.maps.event.addListener(I,"position_changed",l)),u&&k(google.maps.event.addListener(I,"zindex_changed",u)),I.setContent(L.current),r&&I.setPosition(r),i&&I.setZIndex(i),e?I.open(f,e):I.getPosition()?I.open(f):lt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),c&&c(I),()=>{E&&google.maps.event.removeListener(E),y&&google.maps.event.removeListener(y),g&&google.maps.event.removeListener(g),C&&google.maps.event.removeListener(C),T&&google.maps.event.removeListener(T),d&&d(I),I.close()}},[]),L.current?vi.createPortal(h.Children.only(t),L.current):null}h.memo(p3);class m3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=null,this.state={infoWindow:null},this.open=(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):lt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},this.setInfoWindowCallback=()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))}}componentDidMount(){const e=new google.maps.InfoWindow(Object.assign({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=he({updaterMap:X1,eventMap:Y1,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:X1,eventMap:Y1,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(fe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?vi.createPortal(h.Children.only(this.props.children),this.containerElement):null}}m3.contextType=ae;const Z1={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},J1={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},g3={};function v3({options:t,draggable:e,editable:n,visible:r,path:i,onDblClick:s,onDragEnd:o,onDragStart:a,onMouseDown:l,onMouseMove:u,onMouseOut:c,onMouseOver:d,onMouseUp:f,onRightClick:p,onClick:v,onDrag:E,onLoad:S,onUnmount:g}){const m=h.useContext(ae),[y,_]=h.useState(null),[C,x]=h.useState(null),[T,k]=h.useState(null),[L,I]=h.useState(null),[D,q]=h.useState(null),[Q,G]=h.useState(null),[oe,te]=h.useState(null),[de,N]=h.useState(null),[A,O]=h.useState(null),[z,K]=h.useState(null),[W,P]=h.useState(null),[Y,X]=h.useState(null);return h.useEffect(()=>{y!==null&&y.setMap(m)},[m]),h.useEffect(()=>{typeof t<"u"&&y!==null&&y.setOptions(t)},[y,t]),h.useEffect(()=>{typeof e<"u"&&y!==null&&y.setDraggable(e)},[y,e]),h.useEffect(()=>{typeof n<"u"&&y!==null&&y.setEditable(n)},[y,n]),h.useEffect(()=>{typeof r<"u"&&y!==null&&y.setVisible(r)},[y,r]),h.useEffect(()=>{typeof i<"u"&&y!==null&&y.setPath(i)},[y,i]),h.useEffect(()=>{y&&s&&(C!==null&&google.maps.event.removeListener(C),x(google.maps.event.addListener(y,"dblclick",s)))},[s]),h.useEffect(()=>{y&&o&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(y,"dragend",o)))},[o]),h.useEffect(()=>{y&&a&&(L!==null&&google.maps.event.removeListener(L),I(google.maps.event.addListener(y,"dragstart",a)))},[a]),h.useEffect(()=>{y&&l&&(D!==null&&google.maps.event.removeListener(D),q(google.maps.event.addListener(y,"mousedown",l)))},[l]),h.useEffect(()=>{y&&u&&(Q!==null&&google.maps.event.removeListener(Q),G(google.maps.event.addListener(y,"mousemove",u)))},[u]),h.useEffect(()=>{y&&c&&(oe!==null&&google.maps.event.removeListener(oe),te(google.maps.event.addListener(y,"mouseout",c)))},[c]),h.useEffect(()=>{y&&d&&(de!==null&&google.maps.event.removeListener(de),N(google.maps.event.addListener(y,"mouseover",d)))},[d]),h.useEffect(()=>{y&&f&&(A!==null&&google.maps.event.removeListener(A),O(google.maps.event.addListener(y,"mouseup",f)))},[f]),h.useEffect(()=>{y&&p&&(z!==null&&google.maps.event.removeListener(z),K(google.maps.event.addListener(y,"rightclick",p)))},[p]),h.useEffect(()=>{y&&v&&(W!==null&&google.maps.event.removeListener(W),P(google.maps.event.addListener(y,"click",v)))},[v]),h.useEffect(()=>{y&&E&&(Y!==null&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(y,"drag",E)))},[E]),h.useEffect(()=>{const B=new google.maps.Polyline(Object.assign(Object.assign({},t||g3),{map:m}));return i&&B.setPath(i),typeof r<"u"&&B.setVisible(r),typeof n<"u"&&B.setEditable(n),typeof e<"u"&&B.setDraggable(e),s&&x(google.maps.event.addListener(B,"dblclick",s)),o&&k(google.maps.event.addListener(B,"dragend",o)),a&&I(google.maps.event.addListener(B,"dragstart",a)),l&&q(google.maps.event.addListener(B,"mousedown",l)),u&&G(google.maps.event.addListener(B,"mousemove",u)),c&&te(google.maps.event.addListener(B,"mouseout",c)),d&&N(google.maps.event.addListener(B,"mouseover",d)),f&&O(google.maps.event.addListener(B,"mouseup",f)),p&&K(google.maps.event.addListener(B,"rightclick",p)),v&&P(google.maps.event.addListener(B,"click",v)),E&&X(google.maps.event.addListener(B,"drag",E)),_(B),S&&S(B),()=>{C!==null&&google.maps.event.removeListener(C),T!==null&&google.maps.event.removeListener(T),L!==null&&google.maps.event.removeListener(L),D!==null&&google.maps.event.removeListener(D),Q!==null&&google.maps.event.removeListener(Q),oe!==null&&google.maps.event.removeListener(oe),de!==null&&google.maps.event.removeListener(de),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),W!==null&&google.maps.event.removeListener(W),g&&g(B),B.setMap(null)}},[]),null}h.memo(v3);class y3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={polyline:null},this.setPolylineCallback=()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)}}componentDidMount(){const e=new google.maps.Polyline(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=he({updaterMap:J1,eventMap:Z1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:J1,eventMap:Z1,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),fe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}y3.contextType=ae;const e_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},t_={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function w3({options:t,draggable:e,editable:n,visible:r,path:i,paths:s,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:c,onMouseOut:d,onMouseOver:f,onMouseUp:p,onRightClick:v,onClick:E,onDrag:S,onLoad:g,onUnmount:m}){const y=h.useContext(ae),[_,C]=h.useState(null),[x,T]=h.useState(null),[k,L]=h.useState(null),[I,D]=h.useState(null),[q,Q]=h.useState(null),[G,oe]=h.useState(null),[te,de]=h.useState(null),[N,A]=h.useState(null),[O,z]=h.useState(null),[K,W]=h.useState(null),[P,Y]=h.useState(null),[X,B]=h.useState(null);return h.useEffect(()=>{_!==null&&_.setMap(y)},[y]),h.useEffect(()=>{typeof t<"u"&&_!==null&&_.setOptions(t)},[_,t]),h.useEffect(()=>{typeof e<"u"&&_!==null&&_.setDraggable(e)},[_,e]),h.useEffect(()=>{typeof n<"u"&&_!==null&&_.setEditable(n)},[_,n]),h.useEffect(()=>{typeof r<"u"&&_!==null&&_.setVisible(r)},[_,r]),h.useEffect(()=>{typeof i<"u"&&_!==null&&_.setPath(i)},[_,i]),h.useEffect(()=>{typeof s<"u"&&_!==null&&_.setPaths(s)},[_,s]),h.useEffect(()=>{_&&o&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(_,"dblclick",o)))},[o]),h.useEffect(()=>{_&&a&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(_,"dragend",a)))},[a]),h.useEffect(()=>{_&&l&&(I!==null&&google.maps.event.removeListener(I),D(google.maps.event.addListener(_,"dragstart",l)))},[l]),h.useEffect(()=>{_&&u&&(q!==null&&google.maps.event.removeListener(q),Q(google.maps.event.addListener(_,"mousedown",u)))},[u]),h.useEffect(()=>{_&&c&&(G!==null&&google.maps.event.removeListener(G),oe(google.maps.event.addListener(_,"mousemove",c)))},[c]),h.useEffect(()=>{_&&d&&(te!==null&&google.maps.event.removeListener(te),de(google.maps.event.addListener(_,"mouseout",d)))},[d]),h.useEffect(()=>{_&&f&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(_,"mouseover",f)))},[f]),h.useEffect(()=>{_&&p&&(O!==null&&google.maps.event.removeListener(O),z(google.maps.event.addListener(_,"mouseup",p)))},[p]),h.useEffect(()=>{_&&v&&(K!==null&&google.maps.event.removeListener(K),W(google.maps.event.addListener(_,"rightclick",v)))},[v]),h.useEffect(()=>{_&&E&&(P!==null&&google.maps.event.removeListener(P),Y(google.maps.event.addListener(_,"click",E)))},[E]),h.useEffect(()=>{_&&S&&(X!==null&&google.maps.event.removeListener(X),B(google.maps.event.addListener(_,"drag",S)))},[S]),h.useEffect(()=>{const ne=new google.maps.Polygon(Object.assign(Object.assign({},t||{}),{map:y}));return i&&ne.setPath(i),s&&ne.setPaths(s),typeof r<"u"&&ne.setVisible(r),typeof n<"u"&&ne.setEditable(n),typeof e<"u"&&ne.setDraggable(e),o&&T(google.maps.event.addListener(ne,"dblclick",o)),a&&L(google.maps.event.addListener(ne,"dragend",a)),l&&D(google.maps.event.addListener(ne,"dragstart",l)),u&&Q(google.maps.event.addListener(ne,"mousedown",u)),c&&oe(google.maps.event.addListener(ne,"mousemove",c)),d&&de(google.maps.event.addListener(ne,"mouseout",d)),f&&A(google.maps.event.addListener(ne,"mouseover",f)),p&&z(google.maps.event.addListener(ne,"mouseup",p)),v&&W(google.maps.event.addListener(ne,"rightclick",v)),E&&Y(google.maps.event.addListener(ne,"click",E)),S&&B(google.maps.event.addListener(ne,"drag",S)),C(ne),g&&g(ne),()=>{x!==null&&google.maps.event.removeListener(x),k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),q!==null&&google.maps.event.removeListener(q),G!==null&&google.maps.event.removeListener(G),te!==null&&google.maps.event.removeListener(te),N!==null&&google.maps.event.removeListener(N),O!==null&&google.maps.event.removeListener(O),K!==null&&google.maps.event.removeListener(K),P!==null&&google.maps.event.removeListener(P),m&&m(ne),ne.setMap(null)}},[]),null}h.memo(w3);class _3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={polygon:null},this.setPolygonCallback=()=>{this.state.polygon!==null&&this.props.onLoad&&this.props.onLoad(this.state.polygon)}}componentDidMount(){const e=new google.maps.Polygon(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=he({updaterMap:t_,eventMap:e_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polygon:e}},this.setPolygonCallback)}componentDidUpdate(e){this.state.polygon!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:t_,eventMap:e_,prevProps:e,nextProps:this.props,instance:this.state.polygon}))}componentWillUnmount(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),fe(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))}render(){return null}}_3.contextType=ae;const n_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},r_={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function E3({options:t,bounds:e,draggable:n,editable:r,visible:i,onDblClick:s,onDragEnd:o,onDragStart:a,onMouseDown:l,onMouseMove:u,onMouseOut:c,onMouseOver:d,onMouseUp:f,onRightClick:p,onClick:v,onDrag:E,onBoundsChanged:S,onLoad:g,onUnmount:m}){const y=h.useContext(ae),[_,C]=h.useState(null),[x,T]=h.useState(null),[k,L]=h.useState(null),[I,D]=h.useState(null),[q,Q]=h.useState(null),[G,oe]=h.useState(null),[te,de]=h.useState(null),[N,A]=h.useState(null),[O,z]=h.useState(null),[K,W]=h.useState(null),[P,Y]=h.useState(null),[X,B]=h.useState(null),[ne,Re]=h.useState(null);return h.useEffect(()=>{_!==null&&_.setMap(y)},[y]),h.useEffect(()=>{typeof t<"u"&&_!==null&&_.setOptions(t)},[_,t]),h.useEffect(()=>{typeof n<"u"&&_!==null&&_.setDraggable(n)},[_,n]),h.useEffect(()=>{typeof r<"u"&&_!==null&&_.setEditable(r)},[_,r]),h.useEffect(()=>{typeof i<"u"&&_!==null&&_.setVisible(i)},[_,i]),h.useEffect(()=>{typeof e<"u"&&_!==null&&_.setBounds(e)},[_,e]),h.useEffect(()=>{_&&s&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(_,"dblclick",s)))},[s]),h.useEffect(()=>{_&&o&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(_,"dragend",o)))},[o]),h.useEffect(()=>{_&&a&&(I!==null&&google.maps.event.removeListener(I),D(google.maps.event.addListener(_,"dragstart",a)))},[a]),h.useEffect(()=>{_&&l&&(q!==null&&google.maps.event.removeListener(q),Q(google.maps.event.addListener(_,"mousedown",l)))},[l]),h.useEffect(()=>{_&&u&&(G!==null&&google.maps.event.removeListener(G),oe(google.maps.event.addListener(_,"mousemove",u)))},[u]),h.useEffect(()=>{_&&c&&(te!==null&&google.maps.event.removeListener(te),de(google.maps.event.addListener(_,"mouseout",c)))},[c]),h.useEffect(()=>{_&&d&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(_,"mouseover",d)))},[d]),h.useEffect(()=>{_&&f&&(O!==null&&google.maps.event.removeListener(O),z(google.maps.event.addListener(_,"mouseup",f)))},[f]),h.useEffect(()=>{_&&p&&(K!==null&&google.maps.event.removeListener(K),W(google.maps.event.addListener(_,"rightclick",p)))},[p]),h.useEffect(()=>{_&&v&&(P!==null&&google.maps.event.removeListener(P),Y(google.maps.event.addListener(_,"click",v)))},[v]),h.useEffect(()=>{_&&E&&(X!==null&&google.maps.event.removeListener(X),B(google.maps.event.addListener(_,"drag",E)))},[E]),h.useEffect(()=>{_&&S&&(ne!==null&&google.maps.event.removeListener(ne),Re(google.maps.event.addListener(_,"bounds_changed",S)))},[S]),h.useEffect(()=>{const Se=new google.maps.Rectangle(Object.assign(Object.assign({},t||{}),{map:y}));return typeof i<"u"&&Se.setVisible(i),typeof r<"u"&&Se.setEditable(r),typeof n<"u"&&Se.setDraggable(n),typeof e<"u"&&Se.setBounds(e),s&&T(google.maps.event.addListener(Se,"dblclick",s)),o&&L(google.maps.event.addListener(Se,"dragend",o)),a&&D(google.maps.event.addListener(Se,"dragstart",a)),l&&Q(google.maps.event.addListener(Se,"mousedown",l)),u&&oe(google.maps.event.addListener(Se,"mousemove",u)),c&&de(google.maps.event.addListener(Se,"mouseout",c)),d&&A(google.maps.event.addListener(Se,"mouseover",d)),f&&z(google.maps.event.addListener(Se,"mouseup",f)),p&&W(google.maps.event.addListener(Se,"rightclick",p)),v&&Y(google.maps.event.addListener(Se,"click",v)),E&&B(google.maps.event.addListener(Se,"drag",E)),S&&Re(google.maps.event.addListener(Se,"bounds_changed",S)),C(Se),g&&g(Se),()=>{x!==null&&google.maps.event.removeListener(x),k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),q!==null&&google.maps.event.removeListener(q),G!==null&&google.maps.event.removeListener(G),te!==null&&google.maps.event.removeListener(te),N!==null&&google.maps.event.removeListener(N),O!==null&&google.maps.event.removeListener(O),K!==null&&google.maps.event.removeListener(K),P!==null&&google.maps.event.removeListener(P),X!==null&&google.maps.event.removeListener(X),ne!==null&&google.maps.event.removeListener(ne),m&&m(Se),Se.setMap(null)}},[]),null}h.memo(E3);class S3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={rectangle:null},this.setRectangleCallback=()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)}}componentDidMount(){const e=new google.maps.Rectangle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=he({updaterMap:r_,eventMap:n_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:r_,eventMap:n_,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),fe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}S3.contextType=ae;const i_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},s_={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},C3={};function x3({options:t,center:e,radius:n,draggable:r,editable:i,visible:s,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:c,onMouseOut:d,onMouseOver:f,onMouseUp:p,onRightClick:v,onClick:E,onDrag:S,onCenterChanged:g,onRadiusChanged:m,onLoad:y,onUnmount:_}){const C=h.useContext(ae),[x,T]=h.useState(null),[k,L]=h.useState(null),[I,D]=h.useState(null),[q,Q]=h.useState(null),[G,oe]=h.useState(null),[te,de]=h.useState(null),[N,A]=h.useState(null),[O,z]=h.useState(null),[K,W]=h.useState(null),[P,Y]=h.useState(null),[X,B]=h.useState(null),[ne,Re]=h.useState(null),[Se,kn]=h.useState(null),[or,bo]=h.useState(null);return h.useEffect(()=>{x!==null&&x.setMap(C)},[C]),h.useEffect(()=>{typeof t<"u"&&x!==null&&x.setOptions(t)},[x,t]),h.useEffect(()=>{typeof r<"u"&&x!==null&&x.setDraggable(r)},[x,r]),h.useEffect(()=>{typeof i<"u"&&x!==null&&x.setEditable(i)},[x,i]),h.useEffect(()=>{typeof s<"u"&&x!==null&&x.setVisible(s)},[x,s]),h.useEffect(()=>{typeof n=="number"&&x!==null&&x.setRadius(n)},[x,n]),h.useEffect(()=>{typeof e<"u"&&x!==null&&x.setCenter(e)},[x,e]),h.useEffect(()=>{x&&o&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(x,"dblclick",o)))},[o]),h.useEffect(()=>{x&&a&&(I!==null&&google.maps.event.removeListener(I),D(google.maps.event.addListener(x,"dragend",a)))},[a]),h.useEffect(()=>{x&&l&&(q!==null&&google.maps.event.removeListener(q),Q(google.maps.event.addListener(x,"dragstart",l)))},[l]),h.useEffect(()=>{x&&u&&(G!==null&&google.maps.event.removeListener(G),oe(google.maps.event.addListener(x,"mousedown",u)))},[u]),h.useEffect(()=>{x&&c&&(te!==null&&google.maps.event.removeListener(te),de(google.maps.event.addListener(x,"mousemove",c)))},[c]),h.useEffect(()=>{x&&d&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(x,"mouseout",d)))},[d]),h.useEffect(()=>{x&&f&&(O!==null&&google.maps.event.removeListener(O),z(google.maps.event.addListener(x,"mouseover",f)))},[f]),h.useEffect(()=>{x&&p&&(K!==null&&google.maps.event.removeListener(K),W(google.maps.event.addListener(x,"mouseup",p)))},[p]),h.useEffect(()=>{x&&v&&(P!==null&&google.maps.event.removeListener(P),Y(google.maps.event.addListener(x,"rightclick",v)))},[v]),h.useEffect(()=>{x&&E&&(X!==null&&google.maps.event.removeListener(X),B(google.maps.event.addListener(x,"click",E)))},[E]),h.useEffect(()=>{x&&S&&(ne!==null&&google.maps.event.removeListener(ne),Re(google.maps.event.addListener(x,"drag",S)))},[S]),h.useEffect(()=>{x&&g&&(Se!==null&&google.maps.event.removeListener(Se),kn(google.maps.event.addListener(x,"center_changed",g)))},[E]),h.useEffect(()=>{x&&m&&(or!==null&&google.maps.event.removeListener(or),bo(google.maps.event.addListener(x,"radius_changed",m)))},[m]),h.useEffect(()=>{const Ne=new google.maps.Circle(Object.assign(Object.assign({},t||C3),{map:C}));return typeof n=="number"&&Ne.setRadius(n),typeof e<"u"&&Ne.setCenter(e),typeof n=="number"&&Ne.setRadius(n),typeof s<"u"&&Ne.setVisible(s),typeof i<"u"&&Ne.setEditable(i),typeof r<"u"&&Ne.setDraggable(r),o&&L(google.maps.event.addListener(Ne,"dblclick",o)),a&&D(google.maps.event.addListener(Ne,"dragend",a)),l&&Q(google.maps.event.addListener(Ne,"dragstart",l)),u&&oe(google.maps.event.addListener(Ne,"mousedown",u)),c&&de(google.maps.event.addListener(Ne,"mousemove",c)),d&&A(google.maps.event.addListener(Ne,"mouseout",d)),f&&z(google.maps.event.addListener(Ne,"mouseover",f)),p&&W(google.maps.event.addListener(Ne,"mouseup",p)),v&&Y(google.maps.event.addListener(Ne,"rightclick",v)),E&&B(google.maps.event.addListener(Ne,"click",E)),S&&Re(google.maps.event.addListener(Ne,"drag",S)),g&&kn(google.maps.event.addListener(Ne,"center_changed",g)),m&&bo(google.maps.event.addListener(Ne,"radius_changed",m)),T(Ne),y&&y(Ne),()=>{k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),q!==null&&google.maps.event.removeListener(q),G!==null&&google.maps.event.removeListener(G),te!==null&&google.maps.event.removeListener(te),N!==null&&google.maps.event.removeListener(N),O!==null&&google.maps.event.removeListener(O),K!==null&&google.maps.event.removeListener(K),P!==null&&google.maps.event.removeListener(P),X!==null&&google.maps.event.removeListener(X),Se!==null&&google.maps.event.removeListener(Se),or!==null&&google.maps.event.removeListener(or),_&&_(Ne),Ne.setMap(null)}},[]),null}h.memo(x3);class L3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={circle:null},this.setCircleCallback=()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)}}componentDidMount(){const e=new google.maps.Circle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=he({updaterMap:s_,eventMap:i_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:s_,eventMap:i_,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),fe(this.registeredEvents),this.state.circle&&this.state.circle.setMap(null))}render(){return null}}L3.contextType=ae;const o_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},a_={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function k3({options:t,onClick:e,onDblClick:n,onMouseDown:r,onMouseMove:i,onMouseOut:s,onMouseOver:o,onMouseUp:a,onRightClick:l,onAddFeature:u,onRemoveFeature:c,onRemoveProperty:d,onSetGeometry:f,onSetProperty:p,onLoad:v,onUnmount:E}){const S=h.useContext(ae),[g,m]=h.useState(null),[y,_]=h.useState(null),[C,x]=h.useState(null),[T,k]=h.useState(null),[L,I]=h.useState(null),[D,q]=h.useState(null),[Q,G]=h.useState(null),[oe,te]=h.useState(null),[de,N]=h.useState(null),[A,O]=h.useState(null),[z,K]=h.useState(null),[W,P]=h.useState(null),[Y,X]=h.useState(null),[B,ne]=h.useState(null);return h.useEffect(()=>{g!==null&&g.setMap(S)},[S]),h.useEffect(()=>{g&&n&&(y!==null&&google.maps.event.removeListener(y),_(google.maps.event.addListener(g,"dblclick",n)))},[n]),h.useEffect(()=>{g&&r&&(C!==null&&google.maps.event.removeListener(C),x(google.maps.event.addListener(g,"mousedown",r)))},[r]),h.useEffect(()=>{g&&i&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(g,"mousemove",i)))},[i]),h.useEffect(()=>{g&&s&&(L!==null&&google.maps.event.removeListener(L),I(google.maps.event.addListener(g,"mouseout",s)))},[s]),h.useEffect(()=>{g&&o&&(D!==null&&google.maps.event.removeListener(D),q(google.maps.event.addListener(g,"mouseover",o)))},[o]),h.useEffect(()=>{g&&a&&(Q!==null&&google.maps.event.removeListener(Q),G(google.maps.event.addListener(g,"mouseup",a)))},[a]),h.useEffect(()=>{g&&l&&(oe!==null&&google.maps.event.removeListener(oe),te(google.maps.event.addListener(g,"rightclick",l)))},[l]),h.useEffect(()=>{g&&e&&(de!==null&&google.maps.event.removeListener(de),N(google.maps.event.addListener(g,"click",e)))},[e]),h.useEffect(()=>{g&&u&&(A!==null&&google.maps.event.removeListener(A),O(google.maps.event.addListener(g,"addfeature",u)))},[u]),h.useEffect(()=>{g&&c&&(z!==null&&google.maps.event.removeListener(z),K(google.maps.event.addListener(g,"removefeature",c)))},[c]),h.useEffect(()=>{g&&d&&(W!==null&&google.maps.event.removeListener(W),P(google.maps.event.addListener(g,"removeproperty",d)))},[d]),h.useEffect(()=>{g&&f&&(Y!==null&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(g,"setgeometry",f)))},[f]),h.useEffect(()=>{g&&p&&(B!==null&&google.maps.event.removeListener(B),ne(google.maps.event.addListener(g,"setproperty",p)))},[p]),h.useEffect(()=>{if(S!==null){const Re=new google.maps.Data(Object.assign(Object.assign({},t||{}),{map:S}));n&&_(google.maps.event.addListener(Re,"dblclick",n)),r&&x(google.maps.event.addListener(Re,"mousedown",r)),i&&k(google.maps.event.addListener(Re,"mousemove",i)),s&&I(google.maps.event.addListener(Re,"mouseout",s)),o&&q(google.maps.event.addListener(Re,"mouseover",o)),a&&G(google.maps.event.addListener(Re,"mouseup",a)),l&&te(google.maps.event.addListener(Re,"rightclick",l)),e&&N(google.maps.event.addListener(Re,"click",e)),u&&O(google.maps.event.addListener(Re,"addfeature",u)),c&&K(google.maps.event.addListener(Re,"removefeature",c)),d&&P(google.maps.event.addListener(Re,"removeproperty",d)),f&&X(google.maps.event.addListener(Re,"setgeometry",f)),p&&ne(google.maps.event.addListener(Re,"setproperty",p)),m(Re),v&&v(Re)}return()=>{g&&(y!==null&&google.maps.event.removeListener(y),C!==null&&google.maps.event.removeListener(C),T!==null&&google.maps.event.removeListener(T),L!==null&&google.maps.event.removeListener(L),D!==null&&google.maps.event.removeListener(D),Q!==null&&google.maps.event.removeListener(Q),oe!==null&&google.maps.event.removeListener(oe),de!==null&&google.maps.event.removeListener(de),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),W!==null&&google.maps.event.removeListener(W),Y!==null&&google.maps.event.removeListener(Y),B!==null&&google.maps.event.removeListener(B),E&&E(g),g.setMap(null))}},[]),null}h.memo(k3);class T3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={data:null},this.setDataCallback=()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)}}componentDidMount(){if(this.context!==null){const e=new google.maps.Data(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=he({updaterMap:a_,eventMap:o_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:a_,eventMap:o_,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),fe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}T3.contextType=ae;const l_={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},u_={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class I3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={kmlLayer:null},this.setKmlLayerCallback=()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)}}componentDidMount(){const e=new google.maps.KmlLayer(Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=he({updaterMap:u_,eventMap:l_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:u_,eventMap:l_,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),fe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}I3.contextType=ae;function eT(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function b3(t,e){return new e(t.lat,t.lng)}function N3(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function P3(t,e,n){return t instanceof e?t:n(t,e)}function R3(t,e,n){return t instanceof e?t:n(t,e)}function M3(t,e,n){const r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:`${i.x+e.x}px`,top:`${r.y+e.y}px`,width:`${r.x-i.x-e.x}px`,height:`${i.y-r.y-e.y}px`}:{left:"-9999px",top:"-9999px"}}function D3(t,e,n){const r=t&&t.fromLatLngToDivPixel(n);if(r){const{x:i,y:s}=r;return{left:`${i+e.x}px`,top:`${s+e.y}px`}}return{left:"-9999px",top:"-9999px"}}function tT(t,e,n,r){return n!==void 0?M3(t,e,R3(n,google.maps.LatLngBounds,N3)):D3(t,e,P3(r,google.maps.LatLng,b3))}function A3(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function O3(t,e,n,r,i){class s extends google.maps.OverlayView{constructor(a,l,u,c){super(),this.container=a,this.pane=l,this.position=u,this.bounds=c}onAdd(){var a;const l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){const a=this.getProjection(),l=Object.assign({},this.container?eT(this.container,i):{x:0,y:0}),u=tT(a,l,this.bounds,this.position);for(const[c,d]of Object.entries(u))this.container.style[c]=d}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(t,e,n,r)}function c_(t){return t?(t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng))+"":""}function h_(t){return t?(t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west)))+"":""}function $3({position:t,bounds:e,mapPaneName:n,zIndex:r,onLoad:i,onUnmount:s,getPixelPositionOffset:o,children:a}){const l=h.useContext(ae),u=h.useMemo(()=>{const d=document.createElement("div");return d.style.position="absolute",d},[]),c=h.useMemo(()=>O3(u,n,t,e,o),[u,n,t,e]);return h.useEffect(()=>(i==null||i(c),c==null||c.setMap(l),()=>{s==null||s(c),c==null||c.setMap(null)}),[l,c]),h.useEffect(()=>{u.style.zIndex=`${r}`},[r,u]),vi.createPortal(a,u)}h.memo($3);class Lo extends h.PureComponent{constructor(e){super(e),this.state={paneEl:null,containerStyle:{position:"absolute"}},this.updatePane=()=>{const r=this.props.mapPaneName,i=this.overlayView.getPanes();lt(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})},this.onAdd=()=>{var r,i;this.updatePane(),(i=(r=this.props).onLoad)===null||i===void 0||i.call(r,this.overlayView)},this.onPositionElement=()=>{const r=this.overlayView.getProjection(),i=Object.assign({x:0,y:0},this.containerRef.current?eT(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=tT(r,i,this.props.bounds,this.props.position),{left:o,top:a,width:l,height:u}=this.state.containerStyle;A3(s,{left:o,top:a,width:l,height:u})||this.setState({containerStyle:Object.assign(Object.assign({},s),{position:"absolute"})})},this.draw=()=>{this.onPositionElement()},this.onRemove=()=>{var r,i;this.setState(()=>({paneEl:null})),(i=(r=this.props).onUnmount)===null||i===void 0||i.call(r,this.overlayView)},this.containerRef=h.createRef();const n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){const n=c_(e.position),r=c_(this.props.position),i=h_(e.bounds),s=h_(this.props.bounds);(n!==r||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){const e=this.state.paneEl;return e?vi.createPortal(w.jsx("div",Object.assign({ref:this.containerRef,style:this.state.containerStyle},{children:h.Children.only(this.props.children)})),e):null}}Lo.FLOAT_PANE="floatPane";Lo.MAP_PANE="mapPane";Lo.MARKER_LAYER="markerLayer";Lo.OVERLAY_LAYER="overlayLayer";Lo.OVERLAY_MOUSE_TARGET="overlayMouseTarget";Lo.contextType=ae;function F3(){}const d_={onDblClick:"dblclick",onClick:"click"},f_={opacity(t,e){t.setOpacity(e)}};function j3({url:t,bounds:e,options:n,visible:r}){const i=h.useContext(ae),s=new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.west),new google.maps.LatLng(e.north,e.east)),o=h.useMemo(()=>new google.maps.GroundOverlay(t,s,Object.assign({},n)),[]);return h.useEffect(()=>{o!==null&&o.setMap(i)},[i]),h.useEffect(()=>{typeof t<"u"&&o!==null&&(o.set("url",t),o.setMap(i))},[o,t]),h.useEffect(()=>{typeof r<"u"&&o!==null&&o.setOpacity(r?1:0)},[o,r]),h.useEffect(()=>{const a=new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.west),new google.maps.LatLng(e.north,e.east));typeof e<"u"&&o!==null&&(o.set("bounds",a),o.setMap(i))},[o,e]),null}h.memo(j3);class nT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={groundOverlay:null},this.setGroundOverlayCallback=()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)}}componentDidMount(){lt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");const e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=he({updaterMap:f_,eventMap:d_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:f_,eventMap:d_,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}nT.defaultProps={onLoad:F3};nT.contextType=ae;const p_={},m_={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function U3({data:t,onLoad:e,onUnmount:n,options:r}){const i=h.useContext(ae),[s,o]=h.useState(null);return h.useEffect(()=>{google.maps.visualization||lt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),h.useEffect(()=>{lt(!!t,"data property is required in HeatmapLayer %s",t)},[t]),h.useEffect(()=>{s!==null&&s.setMap(i)},[i]),h.useEffect(()=>{r&&s!==null&&s.setOptions(r)},[s,r]),h.useEffect(()=>{const a=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},r||{}),{data:t,map:i}));return o(a),e&&e(a),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}h.memo(U3);class B3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={heatmapLayer:null},this.setHeatmapLayerCallback=()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)}}componentDidMount(){lt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),lt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);const e=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=he({updaterMap:m_,eventMap:p_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){fe(this.registeredEvents),this.registeredEvents=he({updaterMap:m_,eventMap:p_,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),fe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}B3.contextType=ae;const g_={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},v_={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class z3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={streetViewPanorama:null},this.setStreetViewPanoramaCallback=()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)}}componentDidMount(){const e=this.context.getStreetView();this.registeredEvents=he({updaterMap:v_,eventMap:g_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({streetViewPanorama:e}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:v_,eventMap:g_,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),fe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}z3.contextType=ae;class V3 extends h.PureComponent{constructor(){super(...arguments),this.state={streetViewService:null},this.setStreetViewServiceCallback=()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)}}componentDidMount(){const e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}V3.contextType=ae;const y_={onDirectionsChanged:"directions_changed"},w_={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class W3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={directionsRenderer:null},this.setDirectionsRendererCallback=()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))}}componentDidMount(){const e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=he({updaterMap:w_,eventMap:y_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:w_,eventMap:y_,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),fe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return w.jsx(w.Fragment,{})}}W3.contextType=ae;const __={onPlacesChanged:"places_changed"},E_={bounds(t,e){t.setBounds(e)}};class H3 extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=h.createRef(),this.state={searchBox:null},this.setSearchBoxCallback=()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)}}componentDidMount(){if(lt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){const e=this.containerElement.current.querySelector("input");if(e!==null){const n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=he({updaterMap:E_,eventMap:__,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(fe(this.registeredEvents),this.registeredEvents=he({updaterMap:E_,eventMap:__,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),fe(this.registeredEvents))}render(){return w.jsx("div",Object.assign({ref:this.containerElement},{children:h.Children.only(this.props.children)}))}}H3.contextType=ae;const S_={onPlaceChanged:"place_changed"},C_={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class rT extends h.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=h.createRef(),this.state={autocomplete:null},this.setAutocompleteCallback=()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)}}componentDidMount(){lt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);const e=this.containerElement.current.querySelector("input");if(e){const n=new google.maps.places.Autocomplete(e,this.props.options);this.registeredEvents=he({updaterMap:C_,eventMap:S_,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){fe(this.registeredEvents),this.registeredEvents=he({updaterMap:C_,eventMap:S_,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&fe(this.registeredEvents)}render(){return w.jsx("div",Object.assign({ref:this.containerElement,className:this.props.className},{children:h.Children.only(this.props.children)}))}}rT.defaultProps={className:""};rT.contextType=ae;const ny=({location:t})=>{const e={width:"100%",height:"300px"},[n,r]=h.useState(null);return h.useEffect(()=>{new window.google.maps.Geocoder().geocode({address:t},(s,o)=>{if(o==="OK"&&s.length>0){const{lat:a,lng:l}=s[0].geometry.location;r({lat:a(),lng:l()})}else console.error("Error geocoding location:",o)})},[t]),n?w.jsx(Ej,{mapContainerStyle:e,center:n,zoom:10,children:w.jsx(Qk,{position:n})}):w.jsx("div",{children:"Loading..."})};ny.propTypes={location:ce.string.isRequired};const iT=({destinationForm:t,isOpen:e,onClose:n})=>{const r=e!==void 0?e:!1,[i,s]=h.useState(!0),[o,a]=h.useState(0),l=()=>{a(0),n()},u=()=>{s(!1),window.location.href="/travelPrueba/"};return w.jsx(Mn.Root,{show:r,as:h.Fragment,children:w.jsx(jc,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:l,children:w.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[w.jsx(Mn.Child,{as:lh,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:w.jsx(jc.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),w.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),w.jsx(Mn.Child,{as:lh,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:w.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:w.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:w.jsxs("div",{className:"sm:flex sm:items-start",children:[w.jsx("div",{className:"sm:mr-6",children:w.jsx("div",{className:"w-full",children:w.jsx("div",{className:"relative",children:w.jsx(Wl.Carousel,{showThumbs:!1,dynamicHeight:!0,selectedItem:o,onChange:a,children:t.imageUrl.map((c,d)=>w.jsx("div",{children:w.jsx("img",{src:c,alt:t.title,className:"h-56 w-40 object-cover object-center"})},d))})})})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-medium mb-2",children:t.title}),w.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),w.jsxs("div",{className:"flex items-center mb-4",children:[w.jsx(Jv,{rating:t.rating}),w.jsx("span",{className:"text-gray-600 ml-2"})]}),w.jsxs("p",{className:"text-lg font-semibold mb-2",children:["$",t.price]}),w.jsx(ny,{location:t.location}),w.jsx("button",{children:i&&w.jsx($h,{to:"/travelPrueba/",onClick:u,className:"px-4 py-2 text-sm font-semibold bg-white text-indigo-600 rounded-md shadow-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600",children:"Ver ms destinos"})})]})]})})})})]})})})};iT.propTypes={destinationForm:ce.shape({imageUrl:ce.array.isRequired,title:ce.string.isRequired,description:ce.string.isRequired,rating:ce.number.isRequired,price:ce.number.isRequired,location:ce.string.isRequired}).isRequired,isOpen:ce.bool.isRequired,onClose:ce.func.isRequired};const sT=({destinationForm:t})=>{const[e,n]=h.useState(),r=()=>{n(!0)},i=()=>{n(!1)};return w.jsxs("div",{className:"group relative",children:[w.jsx(Wl.Carousel,{showThumbs:!1,dynamicHeight:!0,children:t.imageUrl.map((s,o)=>w.jsx("div",{children:w.jsx("img",{src:s,alt:t.name,className:"h-56 w-40 object-cover object-center"})},o))}),w.jsxs("div",{onClick:r,children:[w.jsxs("h3",{className:"mt-6 text-sm text-gray-500",children:[w.jsx("span",{className:"absolute inset-0"}),t.title]}),w.jsx("p",{className:"text-base font-semibold text-gray-900",children:t.description})]}),e&&w.jsx(iT,{destinationForm:t,isOpen:e,onClose:i})]})};sT.propTypes={destinationForm:ce.shape({imageUrl:ce.array.isRequired,name:ce.string.isRequired,title:ce.string.isRequired,description:ce.string.isRequired}).isRequired};const oT=({destinationsForm:t})=>w.jsx("div",{className:"mt-6 space-y-12 lg:grid lg:grid-cols-3 lg:gap-x-6 lg:space-y-0",children:t.map(e=>w.jsx("div",{children:w.jsx(sT,{destinationForm:e})},e.id))});oT.propTypes={destinationsForm:ce.array.isRequired};const q3=()=>{const[t,e]=h.useState([]);return h.useEffect(()=>{(async()=>{const r=di(),s=(await oo(Xi(r,"destinations"))).docs.map(o=>({id:o.id,...o.data()}));e(s)})()},[]),w.jsx(w.Fragment,{children:w.jsx(oT,{destinationsForm:t})})},hh=ie.forwardRef(({children:t},e)=>w.jsx("div",{ref:e,children:t}));hh.displayName="MyComponent";hh.propTypes={children:ce.node.isRequired};const aT=({destination:t,isOpen:e,onClose:n})=>{const r=e!==void 0?e:!1,[i,s]=h.useState(!0),[o,a]=h.useState(0),[l,u]=h.useState(t.rating),c=()=>{a(0),n()},d=()=>{s(!1),window.location.href="/travelPrueba/"},f=p=>{u(p)};return w.jsx(Mn.Root,{show:r,as:h.Fragment,children:w.jsx(jc,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:c,children:w.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[w.jsx(Mn.Child,{as:hh,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:w.jsx(jc.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),w.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),w.jsx(Mn.Child,{as:hh,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:w.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:w.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:w.jsxs("div",{className:"sm:flex sm:items-start",children:[w.jsx("div",{className:"sm:mr-6",children:w.jsx("div",{className:"w-full",children:w.jsx("div",{className:"relative",children:w.jsx(Wl.Carousel,{showThumbs:!1,dynamicHeight:!0,selectedItem:o,onChange:a,children:t.imageUrl.map((p,v)=>w.jsx("div",{children:w.jsx("img",{src:p,alt:t.title,className:"h-56 w-40 object-cover object-center"})},v))})})})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-medium mb-2",children:t.title}),w.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),w.jsxs("div",{className:"flex items-center mb-4",children:[w.jsx(Jv,{rating:l,onChange:f}),w.jsx("span",{className:"text-gray-600 ml-2"})]}),w.jsxs("p",{className:"text-lg font-semibold mb-2",children:["$",t.price]}),w.jsx(ny,{location:t.location}),w.jsx("button",{children:i&&w.jsx($h,{to:"/travelPrueba/",onClick:d,className:"px-4 py-2 text-sm font-semibold bg-white text-indigo-600 rounded-md shadow-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600",children:"Ver ms destinos"})})]})]})})})})]})})})};aT.propTypes={destination:ce.shape({imageUrl:ce.array.isRequired,title:ce.string.isRequired,description:ce.string.isRequired,rating:ce.number.isRequired,price:ce.number.isRequired,location:ce.string.isRequired}).isRequired,isOpen:ce.bool.isRequired,onClose:ce.func.isRequired};const lT=({destination:t})=>{const[e,n]=h.useState(),r=()=>{n(!0)},i=()=>{n(!1)};return w.jsxs("div",{className:"group relative",children:[w.jsx(Wl.Carousel,{showThumbs:!1,dynamicHeight:!0,children:t.imageUrl.map((s,o)=>w.jsx("div",{children:w.jsx("img",{src:s,alt:t.name,className:"h-56 w-40 object-cover object-center"})},o))}),w.jsxs("div",{onClick:r,children:[w.jsxs("h3",{className:"mt-6 text-sm text-gray-500",children:[w.jsx("span",{className:"absolute inset-0"}),t.title]}),w.jsx("p",{className:"text-base font-semibold text-gray-900",children:t.description})]}),e&&w.jsx(aT,{destination:t,isOpen:e,onClose:i})]})};lT.propTypes={destination:ce.shape({imageUrl:ce.array.isRequired,name:ce.string.isRequired,title:ce.string.isRequired,description:ce.string.isRequired}).isRequired};const ao=({destinations:t})=>w.jsx("div",{className:"mt-10 space-y-12 lg:grid lg:grid-cols-3 lg:gap-x-6 lg:space-y-0",children:t.map(e=>w.jsx("div",{children:w.jsx(lT,{destination:e})},e.id))});ao.propTypes={destinations:ce.array.isRequired};const G3=()=>{const[t,e]=h.useState([]);return h.useEffect(()=>{(async()=>{const r=di(),s=(await oo(Xi(r,"items"))).docs.map(o=>({id:o.id,...o.data()}));e(s)})()},[]),w.jsx(w.Fragment,{children:w.jsx(ao,{destinations:t})})};function K3(){return w.jsx("div",{className:"bg-gray-100",children:w.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"mx-auto max-w-2xl py-16 sm:py-24 lg:max-w-none lg:py-32",children:[w.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"Destinos"}),w.jsx(G3,{}),w.jsx(q3,{})]})})})}const Q3=()=>{const[t,e]=h.useState({}),[n,r]=h.useState(!1),[i,s]=h.useState(!1),o=l=>{e({...t,[l.target.name]:l.target.value})},a=async l=>{if(l.preventDefault(),r(!0),s(!1),!t.objectId){console.error(`El ID del objeto es requerido ${t.objectId}`),r(!1);return}const u=t.objectId.trim();try{const c=di(),d=Lk(c,"destinations",u);(await fF(d)).exists()?(await pF(d,t),console.log("Object updated successfully!"),r(!1),s(!0)):(console.error(`No se encontr el objeto con ID ${t.objectId}`),r(!1))}catch(c){console.error("Error updating object:",c),r(!1)}};return w.jsxs("form",{className:"mx-auto max-w-2xl",onSubmit:a,children:[w.jsxs("div",{className:"space-y-12",children:[w.jsxs("div",{className:"border-b border-gray-900/10 pb-12",children:[w.jsx("input",{type:"text",id:"objectId",name:"objectId",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.objectId||"",onChange:o,placeholder:"ID del objeto a modificar"}),w.jsx("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:w.jsxs("div",{className:"sm:col-span-6",children:[w.jsx("label",{htmlFor:"title",className:"block text-sm font-medium leading-6 text-gray-900",children:"Ttulo del anuncio"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"text",name:"title",id:"title",autoComplete:"title",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.title||"",onChange:o})})]})})]}),w.jsxs("div",{className:"col-span-full",children:[w.jsx("label",{htmlFor:"about",className:"block text-sm font-medium leading-6 text-gray-900",children:"Descripcion del Destino"}),w.jsx("div",{className:"mt-2",children:w.jsx("textarea",{id:"about",name:"description",rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.description||"",onChange:o})})]}),w.jsx("div",{className:"border-b border-gray-900/10 pb-12",children:w.jsx("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:w.jsxs("div",{className:"sm:col-span-4",children:[w.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium leading-6 text-gray-900",children:"Ciudad"}),w.jsx("div",{className:"mt-2",children:w.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md",children:w.jsx("input",{type:"text",name:"name",id:"destination",autoComplete:"name",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"",value:t.name||"",onChange:o})})})]})})}),w.jsx("div",{className:"border-b border-gray-900/10 pb-12",children:w.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium leading-6 text-gray-900",children:"Duracin"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"text",name:"duration",id:"duration",autoComplete:"duration",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.duration||"",onChange:o})})]}),w.jsxs("div",{className:"sm:col-span-4",children:[w.jsx("label",{htmlFor:"location",className:"block text-sm font-medium leading-6 text-gray-900",children:"Pais"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"text",name:"location",id:"location",autoComplete:"location",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.location||"",onChange:o})})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"price",className:`block\r
                  text-sm font-medium leading-6 text-gray-900`,children:"Precio"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"number",name:"price",id:"price",autoComplete:"price",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.price||"",onChange:o})})]})]})}),w.jsx("div",{className:"border-b border-gray-900/10 pb-12",children:w.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"availability",className:"block text-sm font-medium leading-6 text-gray-900",children:"Disponibilidad"}),w.jsx("div",{className:"mt-2",children:w.jsxs("select",{id:"availability",name:"availability",autoComplete:"availability",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6",value:t.availability||"",onChange:o,children:[w.jsx("option",{value:"true",children:"Disponible"}),w.jsx("option",{value:"false",children:"No disponible"})]})})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium leading-6 text-gray-900",children:"Calificacin"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"number",name:"rating",id:"rating",autoComplete:"rating",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.rating||"",onChange:o})})]})]})})]}),w.jsx("input",{type:"text",id:"imageUrl",name:"imageUrl",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:t.imageUrl,onChange:o,placeholder:" Pegar la ruta de la imagen"}),w.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4",disabled:n,children:n?"Guardando...":"Guardar"}),i&&w.jsx("div",{className:"text-green-500 mt-2",children:"Cambios guardados con xito en el Destino con el ID"})]})},uT=()=>{const{category:t}=x2(),[e,n]=h.useState([]),[r,i]=h.useState([]),s=t.toLowerCase();return h.useEffect(()=>{const o=async()=>{const l=di(),u=Xi(l,"items"),c=rh(u,ih("category","==",s)),f=(await oo(c)).docs.map(p=>({id:p.id,...p.data()}));n(f)},a=async()=>{const l=di(),u=Xi(l,"destinations"),c=rh(u,ih("category","==",s)),f=(await oo(c)).docs.map(p=>({id:p.id,...p.data()}));i(f)};o(),a()},[s]),w.jsxs("div",{children:[w.jsx(ao,{destinations:e}),w.jsx(ao,{destinations:r})]})};uT.propTypes={category:ce.string.isRequired};const cT=({onSearch:t})=>{const[e,n]=h.useState(""),r=i=>{i.preventDefault(),t(e)};return w.jsx(w.Fragment,{children:w.jsx("div",{className:"relative z-10",children:w.jsx("div",{className:"my-6 mx-6 h-16 items-center justify-between",children:w.jsx("form",{onSubmit:r,className:"items-center",children:w.jsxs("div",{className:"relative",children:[w.jsx("input",{className:"w-full py-2 px-4 pr-10 leading-tight border  appearance-none focus:outline-none focus:border-custom-black",type:"text",value:e,onChange:i=>n(i.target.value),placeholder:"Buscar"}),w.jsx("div",{className:"absolute top-0 right-0 mt-2 mr-2",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})]})})})})})};cT.propTypes={onSearch:ce.func.isRequired};const hT=({searchQuery:t})=>{const[e,n]=h.useState([]),[r,i]=h.useState([]);return h.useEffect(()=>{const s=async()=>{const a=di(),l=Xi(a,"items"),u=rh(l,ih("name","==",t)),d=(await oo(u)).docs.map(f=>({id:f.id,...f.data()}));n(d)},o=async()=>{const a=di(),l=Xi(a,"destinations"),u=rh(l,ih("name","==",t)),d=(await oo(u)).docs.map(f=>({id:f.id,...f.data()}));i(d)};s(),o()},[t]),w.jsxs("div",{children:[w.jsx(ao,{destinations:e}),w.jsx(ao,{destinations:r})]})};hT.propTypes={searchQuery:ce.string.isRequired};const Y3=()=>{const[t,e]=h.useState(""),[n,r]=h.useState([]),i=o=>{e(o)},s=o=>{r(o)};return w.jsx(w.Fragment,{children:w.jsxs("div",{children:[w.jsx(cT,{onSearch:i}),w.jsx(hT,{searchQuery:t,onSearchResults:s}),n.length>0?w.jsxs("div",{children:[w.jsx("h2",{children:"Search Results:"}),n.map(o=>w.jsx("p",{children:o.name},o.id))]}):t&&w.jsx("p",{children:"No results found."})]})})};function X3(){return w.jsx(V2,{children:w.jsxs("div",{className:"app-container",children:[w.jsx(OM,{}),w.jsx(Y3,{}),w.jsxs(F2,{children:[w.jsx(Zo,{path:"/travelPrueba/",element:w.jsx(K3,{})}),w.jsx(Zo,{path:"/travelPrueba/form",element:w.jsx(vF,{})}),w.jsx(Zo,{path:"/travelPrueba/formUpdate",element:w.jsx(Q3,{})}),w.jsx(Zo,{path:"/travelPrueba/category/:category",element:w.jsx(uT,{})})]})]})})}var Z3="firebase",J3="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(Z3,J3,"app");const x_="@firebase/database",L_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dT="";function e9(t){dT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),St(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ga(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new t9(e)}}catch{}return new n9},$i=fT("localStorage"),Sm=fT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Gg("@firebase/database"),r9=function(){let t=1;return function(){return t++}}(),pT=function(t){const e=iD(t),n=new nD;n.update(e);const r=n.digest();return Hg.encodeByteArray(r)},Ql=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ql.apply(null,r):typeof r=="object"?e+=St(r):e+=r,e+=" "}return e};let Bi=null,k_=!0;const i9=function(t,e){$(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Us.logLevel=xe.VERBOSE,Bi=Us.log.bind(Us),e&&Sm.set("logging_enabled",!0)):typeof t=="function"?Bi=t:(Bi=null,Sm.remove("logging_enabled"))},At=function(...t){if(k_===!0&&(k_=!1,Bi===null&&Sm.get("logging_enabled")===!0&&i9(!0)),Bi){const e=Ql.apply(null,t);Bi(e)}},Yl=function(t){return function(...e){At(t,...e)}},Cm=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ql(...t);Us.error(e)},Nr=function(...t){const e=`FIREBASE FATAL ERROR: ${Ql(...t)}`;throw Us.error(e),new Error(e)},hn=function(...t){const e="FIREBASE WARNING: "+Ql(...t);Us.warn(e)},s9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&hn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mT=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},o9=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},lo="[MIN_NAME]",Zi="[MAX_NAME]",ko=function(t,e){if(t===e)return 0;if(t===lo||e===Zi)return-1;if(e===lo||t===Zi)return 1;{const n=T_(t),r=T_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},a9=function(t,e){return t===e?0:t<e?-1:1},Wo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+St(e))},ry=function(t){if(typeof t!="object"||t===null)return St(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=St(e[r]),n+=":",n+=ry(t[e[r]]);return n+="}",n},gT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ln(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const vT=function(t){$(!mT(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},l9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},u9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},c9=new RegExp("^-?(0*)\\d{1,10}$"),h9=-2147483648,d9=2147483647,T_=function(t){if(c9.test(t)){const e=Number(t);if(e>=h9&&e<=d9)return e}return null},Xl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw hn("Exception was thrown by user callback.",n),e},Math.floor(0))}},f9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},La=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){hn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(At("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hn(e)}}class Bs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Bs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="5",yT="v",wT="s",_T="r",ET="f",ST=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CT="ls",xT="p",xm="ac",LT="websocket",kT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$i.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$i.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function g9(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function IT(t,e,n){$(typeof e=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let r;if(e===LT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===kT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);g9(t)&&(n.ns=t.namespace);const i=[];return Ln(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.counters_={}}incrementCounter(e,n=1){Rr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return jM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf={},Tf={};function sy(t){const e=t.toString();return kf[e]||(kf[e]=new v9),kf[e]}function y9(t,e){const n=t.toString();return Tf[n]||(Tf[n]=e()),Tf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Xl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="start",_9="close",E9="pLPCommand",S9="pRTLPCB",bT="id",NT="pw",PT="ser",C9="cb",x9="seg",L9="ts",k9="d",T9="dframe",RT=1870,MT=30,I9=RT-MT,b9=25e3,N9=3e4;class Is{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yl(e),this.stats_=sy(n),this.urlFn=l=>(this.appCheckToken&&(l[xm]=this.appCheckToken),IT(n,kT,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new w9(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(N9)),o9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oy((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===I_)this.id=a,this.password=l;else if(o===_9)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[I_]="t",r[PT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[C9]=this.scriptTagHolder.uniqueCallbackIdentifier),r[yT]=iy,this.transportSessionId&&(r[wT]=this.transportSessionId),this.lastSessionId&&(r[CT]=this.lastSessionId),this.applicationId&&(r[xT]=this.applicationId),this.appCheckToken&&(r[xm]=this.appCheckToken),typeof location<"u"&&location.hostname&&ST.test(location.hostname)&&(r[_T]=ET);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Is.forceAllow_=!0}static forceDisallow(){Is.forceDisallow_=!0}static isAvailable(){return Is.forceAllow_?!0:!Is.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!l9()&&!u9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=St(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ZC(n),i=gT(r,I9);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[T9]="t",r[bT]=e,r[NT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=St(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class oy{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=r9(),window[E9+this.uniqueCallbackIdentifier]=e,window[S9+this.uniqueCallbackIdentifier]=n,this.myIFrame=oy.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){At("frame writing exception"),a.stack&&At(a.stack),At(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||At("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[bT]=this.myID,e[NT]=this.myPW,e[PT]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+MT+r.length<=RT;){const o=this.pendingSegs.shift();r=r+"&"+x9+i+"="+o.seg+"&"+L9+i+"="+o.ts+"&"+k9+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(b9)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{At("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=16384,R9=45e3;let dh=null;typeof MozWebSocket<"u"?dh=MozWebSocket:typeof WebSocket<"u"&&(dh=WebSocket);class Dn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yl(this.connId),this.stats_=sy(n),this.connURL=Dn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[yT]=iy,typeof location<"u"&&location.hostname&&ST.test(location.hostname)&&(o[_T]=ET),n&&(o[wT]=n),r&&(o[CT]=r),i&&(o[xm]=i),s&&(o[xT]=s),IT(e,LT,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$i.set("previous_websocket_failure",!0);try{let r;sx(),this.mySock=new dh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Dn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&dh!==null&&!Dn.forceDisallow_}static previouslyFailed(){return $i.isInMemoryStorage||$i.get("previous_websocket_failure")===!0}markConnectionHealthy(){$i.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ga(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=St(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=gT(n,P9);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(R9))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Dn.responsesRequiredToBeHealthy=2;Dn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Is,Dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Dn&&Dn.isAvailable();let r=n&&!Dn.previouslyFailed();if(e.webSocketOnly&&(n||hn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Dn];else{const i=this.transports_=[];for(const s of cl.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);cl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}cl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=6e4,D9=5e3,A9=10*1024,O9=100*1024,If="t",b_="d",$9="s",N_="r",F9="e",P_="o",R_="a",M_="n",D_="p",j9="h";class U9{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yl("c:"+this.id+":"),this.transportManager_=new cl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=La(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>O9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>A9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(If in e){const n=e[If];n===R_?this.upgradeIfSecondaryHealthy_():n===N_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===P_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Wo("t",e),r=Wo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:D_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:R_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:M_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Wo("t",e),r=Wo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Wo(If,e);if(b_ in e){const r=e[b_];if(n===j9){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===M_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===$9?this.onConnectionShutdown_(r):n===N_?this.onReset_(r):n===F9?Cm("Server Error: "+r):n===P_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),iy!==r&&hn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),La(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(M9))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):La(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(D9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:D_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){$(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends AT{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ix()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new fh}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=32,O_=768;class Be{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Pe(){return new Be("")}function ye(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function fi(t){return t.pieces_.length-t.pieceNum_}function Oe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Be(t.pieces_,e)}function OT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function B9(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function $T(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function FT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Be(e,0)}function pt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Be)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Be(n,0)}function ge(t){return t.pieceNum_>=t.pieces_.length}function En(t,e){const n=ye(t),r=ye(e);if(n===null)return e;if(n===r)return En(Oe(t),Oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function jT(t,e){if(fi(t)!==fi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function On(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(fi(t)>fi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class z9{constructor(e,n){this.errorPrefix_=n,this.parts_=$T(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zh(this.parts_[r]);UT(this)}}function V9(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zh(e),UT(t)}function W9(t){const e=t.parts_.pop();t.byteLength_-=zh(e),t.parts_.length>0&&(t.byteLength_-=1)}function UT(t){if(t.byteLength_>O_)throw new Error(t.errorPrefix_+"has a key path longer than "+O_+" bytes ("+t.byteLength_+").");if(t.parts_.length>A_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+A_+") or object contains a cycle "+Ti(t))}function Ti(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends AT{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new ay}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=1e3,H9=60*5*1e3,$_=30*1e3,q9=1.3,G9=3e4,K9="server_kill",F_=3;class Er extends DT{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Er.nextPersistentConnectionId_++,this.log_=Yl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ho,this.maxReconnectDelay_=H9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!sx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ay.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(St(s)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new qg,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Er.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rr(e,"w")){const r=Ys(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();hn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||eD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=JM(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+St(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Cm("Unrecognized action received from server: "+St(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>G9&&(this.reconnectDelay_=Ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*q9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Er.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){$(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?At("getToken() completed but was canceled"):(At("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new U9(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{hn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(K9)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&hn(d),l())}}}interrupt(e){At("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){At("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ww(this.interruptReasons_)&&(this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ry(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Be(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){At("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=F_&&(this.reconnectDelay_=$_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){At("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=F_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+dT.replace(/\./g,"-")]=1,ix()?e["framework.cordova"]=1:GM()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fh.getInstance().currentlyOnline();return ww(this.interruptReasons_)&&e}}Er.nextPersistentConnectionId_=0;Er.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new _e(lo,e),i=new _e(lo,n);return this.compare(r,i)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;class BT extends Sd{static get __EMPTY_NODE(){return Wu}static set __EMPTY_NODE(e){Wu=e}compare(e,n){return ko(e.name,n.name)}isDefinedOn(e){throw go("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(Zi,Wu)}makePost(e,n){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new _e(e,Wu)}toString(){return".key"}}const zs=new BT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ft.RED,this.left=i??Jt.EMPTY_NODE,this.right=s??Jt.EMPTY_NODE}copy(e,n,r,i,s){return new ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Jt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Jt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ft.RED=!0;ft.BLACK=!1;class Q9{copy(e,n,r,i,s){return this}insert(e,n,r){return new ft(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Jt{constructor(e,n=Jt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Jt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ft.BLACK,null,null))}remove(e){return new Jt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ft.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Hu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Hu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Hu(this.root_,null,this.comparator_,!0,e)}}Jt.EMPTY_NODE=new Q9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t,e){return ko(t.name,e.name)}function ly(t,e){return ko(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm;function X9(t){Lm=t}const zT=function(t){return typeof t=="number"?"number:"+vT(t):"string:"+t},VT=function(t){if(t.isLeafNode()){const e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rr(e,".sv"),"Priority must be a string or number.")}else $(t===Lm||t.isEmpty(),"priority of unexpected type.");$(t===Lm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j_;class ct{constructor(e,n=ct.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),VT(this.priorityNode_)}static set __childrenNodeConstructor(e){j_=e}static get __childrenNodeConstructor(){return j_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ct(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ge(e)?this:ye(e)===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ct.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ye(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||fi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ct.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=vT(this.value_):e+=this.value_,this.lazyHash_=pT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ct.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ct.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ct.VALUE_TYPE_ORDER.indexOf(n),s=ct.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ct.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WT,HT;function Z9(t){WT=t}function J9(t){HT=t}class e6 extends Sd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ko(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(Zi,new ct("[PRIORITY-POST]",HT))}makePost(e,n){const r=WT(e);return new _e(n,new ct("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ft=new e6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=Math.log(2);class n6{constructor(e){const n=s=>parseInt(Math.log(s)/t6,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ph=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new ft(f,d.node,ft.BLACK,null,null);{const p=parseInt(c/2,10)+l,v=i(l,p),E=i(p+1,u);return d=t[p],f=n?n(d):d,new ft(f,d.node,ft.BLACK,v,E)}},s=function(l){let u=null,c=null,d=t.length;const f=function(v,E){const S=d-v,g=d;d-=v;const m=i(S+1,g),y=t[S],_=n?n(y):y;p(new ft(_,y.node,E,null,m))},p=function(v){u?(u.left=v,u=v):(c=v,u=v)};for(let v=0;v<l.count;++v){const E=l.nextBitIsOne(),S=Math.pow(2,l.count-(v+1));E?f(S,ft.BLACK):(f(S,ft.BLACK),f(S,ft.RED))}return c},o=new n6(t.length),a=s(o);return new Jt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf;const ds={};class gr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return $(ds&&Ft,"ChildrenNode.ts has not been loaded"),bf=bf||new gr({".priority":ds},{".priority":Ft}),bf}get(e){const n=Ys(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Jt?n:null}hasIndex(e){return Rr(this.indexSet_,e.toString())}addIndex(e,n){$(e!==zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(_e.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ph(r,e.getCompare()):a=ds;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new gr(c,u)}addToIndexes(e,n){const r=Bc(this.indexes_,(i,s)=>{const o=Ys(this.indexSet_,s);if($(o,"Missing index implementation for "+s),i===ds)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(_e.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),ph(a,o.getCompare())}else return ds;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new _e(e.name,a))),l.insert(e,e.node)}});return new gr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Bc(this.indexes_,i=>{if(i===ds)return i;{const s=n.get(e.name);return s?i.remove(new _e(e.name,s)):i}});return new gr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo;class ke{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&VT(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qo||(qo=new ke(new Jt(ly),null,gr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qo}updatePriority(e){return this.children_.isEmpty()?this:new ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?qo:n}}getChild(e){const n=ye(e);return n===null?this:this.getImmediateChild(n).getChild(Oe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new _e(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?qo:this.priorityNode_;return new ke(i,o,s)}}updateChild(e,n){const r=ye(e);if(r===null)return n;{$(ye(e)!==".priority"||fi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Oe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ft,(o,a)=>{n[o]=a.val(e),r++,s&&ke.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+zT(this.getPriority().val())+":"),this.forEachChild(Ft,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":pT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new _e(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _e(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _e(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,_e.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,_e.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zl?-1:0}withIndex(e){if(e===zs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===zs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ft),i=n.getIterator(Ft);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===zs?null:this.indexMap_.get(e.toString())}}ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class r6 extends ke{constructor(){super(new Jt(ly),ke.EMPTY_NODE,gr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ke.EMPTY_NODE}isEmpty(){return!1}}const Zl=new r6;Object.defineProperties(_e,{MIN:{value:new _e(lo,ke.EMPTY_NODE)},MAX:{value:new _e(Zi,Zl)}});BT.__EMPTY_NODE=ke.EMPTY_NODE;ct.__childrenNodeConstructor=ke;X9(Zl);J9(Zl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=!0;function Ot(t,e=null){if(t===null)return ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ct(n,Ot(e))}if(!(t instanceof Array)&&i6){const n=[];let r=!1;if(Ln(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ot(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new _e(o,l)))}}),n.length===0)return ke.EMPTY_NODE;const s=ph(n,Y9,o=>o.name,ly);if(r){const o=ph(n,Ft.getCompare());return new ke(s,Ot(e),new gr({".priority":o},{".priority":Ft}))}else return new ke(s,Ot(e),gr.Default)}else{let n=ke.EMPTY_NODE;return Ln(t,(r,i)=>{if(Rr(t,r)&&r.substring(0,1)!=="."){const s=Ot(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ot(e))}}Z9(Ot);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6 extends Sd{constructor(e){super(),this.indexPath_=e,$(!ge(e)&&ye(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ko(e.name,n.name):s}makePost(e,n){const r=Ot(e),i=ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new _e(n,i)}maxPost(){const e=ke.EMPTY_NODE.updateChild(this.indexPath_,Zl);return new _e(Zi,e)}toString(){return $T(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6 extends Sd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ko(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const r=Ot(e);return new _e(n,r)}toString(){return".value"}}const a6=new o6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){return{type:"value",snapshotNode:t}}function u6(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function c6(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function U_(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function h6(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lo}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ft}copy(){const e=new uy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function B_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ft?n="$priority":t.index_===a6?n="$value":t.index_===zs?n="$key":($(t.index_ instanceof s6,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=St(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=St(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+St(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=St(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+St(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function z_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ft&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends DT{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Yl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=mh.getListenId_(e,r),a={};this.listens_[o]=a;const l=B_(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Ys(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=mh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=B_(e._queryParams),r=e._path.toString(),i=new qg;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tD(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ga(a.responseText)}catch{hn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&hn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.rootNode_=ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(){return{value:null,children:new Map}}function qT(t,e,n){if(ge(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ye(e);t.children.has(r)||t.children.set(r,gh());const i=t.children.get(r);e=Oe(e),qT(i,e,n)}}function km(t,e,n){t.value!==null?n(e,t.value):f6(t,(r,i)=>{const s=new Be(e.toString()+"/"+r);km(i,s,n)})}function f6(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ln(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=10*1e3,m6=30*1e3,g6=5*60*1e3;class v6{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new p6(e);const r=V_+(m6-V_)*Math.random();La(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ln(e,(i,s)=>{s>0&&Rr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),La(this.reportStats_.bind(this),Math.floor(Math.random()*2*g6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jn||(Jn={}));function GT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function KT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function QT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Jn.ACK_USER_WRITE,this.source=GT()}operationForChild(e){if(ge(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Be(e));return new vh(Pe(),n,this.revert)}}else return $(ye(this.path)===e,"operationForChild called for unrelated child."),new vh(Oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Jn.OVERWRITE}operationForChild(e){return ge(this.path)?new Ji(this.source,Pe(),this.snap.getImmediateChild(e)):new Ji(this.source,Oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Jn.MERGE}operationForChild(e){if(ge(this.path)){const n=this.children.subtree(new Be(e));return n.isEmpty()?null:n.value?new Ji(this.source,Pe(),n.value):new hl(this.source,Pe(),n)}else return $(ye(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hl(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;const n=ye(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function y6(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(h6(o.childName,o.snapshotNode))}),Go(t,i,"child_removed",e,r,n),Go(t,i,"child_added",e,r,n),Go(t,i,"child_moved",s,r,n),Go(t,i,"child_changed",e,r,n),Go(t,i,"value",e,r,n),i}function Go(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>_6(t,a,l)),o.forEach(a=>{const l=w6(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function w6(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _6(t,e,n){if(e.childName==null||n.childName==null)throw go("Should only compare child_ events.");const r=new _e(e.childName,e.snapshotNode),i=new _e(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e){return{eventCache:t,serverCache:e}}function ka(t,e,n,r){return YT(new cy(e,n,r),t.serverCache)}function XT(t,e,n,r){return YT(t.eventCache,new cy(e,n,r))}function Tm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function es(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf;const E6=()=>(Nf||(Nf=new Jt(a9)),Nf);class Ae{constructor(e,n=E6()){this.value=e,this.children=n}static fromObject(e){let n=new Ae(null);return Ln(e,(r,i)=>{n=n.set(new Be(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Pe(),value:this.value};if(ge(e))return null;{const r=ye(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Oe(e),n);return s!=null?{path:pt(new Be(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ge(e))return this;{const n=ye(e),r=this.children.get(n);return r!==null?r.subtree(Oe(e)):new Ae(null)}}set(e,n){if(ge(e))return new Ae(n,this.children);{const r=ye(e),s=(this.children.get(r)||new Ae(null)).set(Oe(e),n),o=this.children.insert(r,s);return new Ae(this.value,o)}}remove(e){if(ge(e))return this.children.isEmpty()?new Ae(null):new Ae(null,this.children);{const n=ye(e),r=this.children.get(n);if(r){const i=r.remove(Oe(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ae(null):new Ae(this.value,s)}else return this}}get(e){if(ge(e))return this.value;{const n=ye(e),r=this.children.get(n);return r?r.get(Oe(e)):null}}setTree(e,n){if(ge(e))return n;{const r=ye(e),s=(this.children.get(r)||new Ae(null)).setTree(Oe(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ae(this.value,o)}}fold(e){return this.fold_(Pe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(pt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Pe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ge(e))return null;{const s=ye(e),o=this.children.get(s);return o?o.findOnPath_(Oe(e),pt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Pe(),n)}foreachOnPath_(e,n,r){if(ge(e))return this;{this.value&&r(n,this.value);const i=ye(e),s=this.children.get(i);return s?s.foreachOnPath_(Oe(e),pt(n,i),r):new Ae(null)}}foreach(e){this.foreach_(Pe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(pt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.writeTree_=e}static empty(){return new jn(new Ae(null))}}function Ta(t,e,n){if(ge(e))return new jn(new Ae(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=En(i,e);return s=s.updateChild(o,n),new jn(t.writeTree_.set(i,s))}else{const i=new Ae(n),s=t.writeTree_.setTree(e,i);return new jn(s)}}}function W_(t,e,n){let r=t;return Ln(n,(i,s)=>{r=Ta(r,pt(e,i),s)}),r}function H_(t,e){if(ge(e))return jn.empty();{const n=t.writeTree_.setTree(e,new Ae(null));return new jn(n)}}function Im(t,e){return as(t,e)!=null}function as(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(En(n.path,e)):null}function q_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ft,(r,i)=>{e.push(new _e(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new _e(r,i.value))}),e}function ii(t,e){if(ge(e))return t;{const n=as(t,e);return n!=null?new jn(new Ae(n)):new jn(t.writeTree_.subtree(e))}}function bm(t){return t.writeTree_.isEmpty()}function uo(t,e){return ZT(Pe(),t.writeTree_,e)}function ZT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?($(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ZT(pt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t,e){return iI(e,t)}function S6(t,e,n,r,i){$(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ta(t.visibleWrites,e,n)),t.lastWriteId=r}function C6(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function x6(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);$(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&L6(a,r.path)?i=!1:On(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return k6(t),!0;if(r.snap)t.visibleWrites=H_(t.visibleWrites,r.path);else{const a=r.children;Ln(a,l=>{t.visibleWrites=H_(t.visibleWrites,pt(r.path,l))})}return!0}else return!1}function L6(t,e){if(t.snap)return On(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&On(pt(t.path,n),e))return!0;return!1}function k6(t){t.visibleWrites=eI(t.allWrites,T6,Pe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function T6(t){return t.visible}function eI(t,e,n){let r=jn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)On(n,o)?(a=En(n,o),r=Ta(r,a,s.snap)):On(o,n)&&(a=En(o,n),r=Ta(r,Pe(),s.snap.getChild(a)));else if(s.children){if(On(n,o))a=En(n,o),r=W_(r,a,s.children);else if(On(o,n))if(a=En(o,n),ge(a))r=W_(r,Pe(),s.children);else{const l=Ys(s.children,ye(a));if(l){const u=l.getChild(Oe(a));r=Ta(r,Pe(),u)}}}else throw go("WriteRecord should have .snap or .children")}}return r}function tI(t,e,n,r,i){if(!r&&!i){const s=as(t.visibleWrites,e);if(s!=null)return s;{const o=ii(t.visibleWrites,e);if(bm(o))return n;if(n==null&&!Im(o,Pe()))return null;{const a=n||ke.EMPTY_NODE;return uo(o,a)}}}else{const s=ii(t.visibleWrites,e);if(!i&&bm(s))return n;if(!i&&n==null&&!Im(s,Pe()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(On(u.path,e)||On(e,u.path))},a=eI(t.allWrites,o,e),l=n||ke.EMPTY_NODE;return uo(a,l)}}}function I6(t,e,n){let r=ke.EMPTY_NODE;const i=as(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ft,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ii(t.visibleWrites,e);return n.forEachChild(Ft,(o,a)=>{const l=uo(ii(s,new Be(o)),a);r=r.updateImmediateChild(o,l)}),q_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ii(t.visibleWrites,e);return q_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function b6(t,e,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=pt(e,n);if(Im(t.visibleWrites,s))return null;{const o=ii(t.visibleWrites,s);return bm(o)?i.getChild(n):uo(o,i.getChild(n))}}function N6(t,e,n,r){const i=pt(e,n),s=as(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ii(t.visibleWrites,i);return uo(o,r.getNode().getImmediateChild(n))}else return null}function P6(t,e){return as(t.visibleWrites,e)}function R6(t,e,n,r,i,s,o){let a;const l=ii(t.visibleWrites,e),u=as(l,Pe());if(u!=null)a=u;else if(n!=null)a=uo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function M6(){return{visibleWrites:jn.empty(),allWrites:[],lastWriteId:-1}}function Nm(t,e,n,r){return tI(t.writeTree,t.treePath,e,n,r)}function nI(t,e){return I6(t.writeTree,t.treePath,e)}function G_(t,e,n,r){return b6(t.writeTree,t.treePath,e,n,r)}function yh(t,e){return P6(t.writeTree,pt(t.treePath,e))}function D6(t,e,n,r,i,s){return R6(t.writeTree,t.treePath,e,n,r,i,s)}function hy(t,e,n){return N6(t.writeTree,t.treePath,e,n)}function rI(t,e){return iI(pt(t.treePath,e),t.writeTree)}function iI(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,U_(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,c6(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,u6(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,U_(r,e.snapshotNode,i.oldSnap));else throw go("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const sI=new O6;class dy{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new cy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hy(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:es(this.viewCache_),s=D6(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function $6(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function F6(t,e,n,r,i){const s=new A6;let o,a;if(n.type===Jn.OVERWRITE){const u=n;u.source.fromUser?o=Pm(t,e,u.path,u.snap,r,i,s):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ge(u.path),o=wh(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Jn.MERGE){const u=n;u.source.fromUser?o=U6(t,e,u.path,u.children,r,i,s):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Rm(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Jn.ACK_USER_WRITE){const u=n;u.revert?o=V6(t,e,u.path,r,i,s):o=B6(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Jn.LISTEN_COMPLETE)o=z6(t,e,n.path,r,s);else throw go("Unknown operation type: "+n.type);const l=s.getChanges();return j6(e,o,l),{viewCache:o,changes:l}}function j6(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Tm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(l6(Tm(e)))}}function oI(t,e,n,r,i,s){const o=e.eventCache;if(yh(r,n)!=null)return e;{let a,l;if(ge(n))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=es(e),c=u instanceof ke?u:ke.EMPTY_NODE,d=nI(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Nm(r,es(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=ye(n);if(u===".priority"){$(fi(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=G_(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=Oe(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=G_(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=hy(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return ka(e,a,o.isFullyInitialized()||ge(n),t.filter.filtersNodes())}}function wh(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(ge(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=ye(n);if(!l.isCompleteForPath(n)&&fi(n)>1)return e;const v=Oe(n),S=l.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?u=c.updatePriority(l.getNode(),S):u=c.updateChild(l.getNode(),p,S,v,sI,null)}const d=XT(e,u,l.isFullyInitialized()||ge(n),c.filtersNodes()),f=new dy(i,d,s);return oI(t,d,n,i,f,a)}function Pm(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new dy(i,e,s);if(ge(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ka(e,u,!0,t.filter.filtersNodes());else{const d=ye(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=ka(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=Oe(n),p=a.getNode().getImmediateChild(d);let v;if(ge(f))v=r;else{const E=c.getCompleteChild(d);E!=null?OT(f)===".priority"&&E.getChild(FT(f)).isEmpty()?v=E:v=E.updateChild(f,r):v=ke.EMPTY_NODE}if(p.equals(v))l=e;else{const E=t.filter.updateChild(a.getNode(),d,v,f,c,o);l=ka(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function K_(t,e){return t.eventCache.isCompleteForChild(e)}function U6(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=pt(n,l);K_(e,ye(c))&&(a=Pm(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=pt(n,l);K_(e,ye(c))||(a=Pm(t,a,c,u,i,s,o))}),a}function Q_(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Rm(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ge(n)?u=r:u=new Ae(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),v=Q_(t,p,f);l=wh(t,l,new Be(d),v,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!p){const v=e.serverCache.getNode().getImmediateChild(d),E=Q_(t,v,f);l=wh(t,l,new Be(d),E,i,s,o,a)}}),l}function B6(t,e,n,r,i,s,o){if(yh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ge(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return wh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ge(n)){let u=new Ae(null);return l.getNode().forEachChild(zs,(c,d)=>{u=u.set(new Be(c),d)}),Rm(t,e,n,u,i,s,a,o)}else return e}else{let u=new Ae(null);return r.foreach((c,d)=>{const f=pt(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Rm(t,e,n,u,i,s,a,o)}}function z6(t,e,n,r,i){const s=e.serverCache,o=XT(e,s.getNode(),s.isFullyInitialized()||ge(n),s.isFiltered());return oI(t,o,n,r,sI,i)}function V6(t,e,n,r,i,s){let o;if(yh(r,n)!=null)return e;{const a=new dy(r,e,i),l=e.eventCache.getNode();let u;if(ge(n)||ye(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Nm(r,es(e));else{const d=e.serverCache.getNode();$(d instanceof ke,"serverChildren would be complete if leaf node"),c=nI(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=ye(n);let d=hy(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,Oe(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,ke.EMPTY_NODE,Oe(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Nm(r,es(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||yh(r,Pe())!=null,ka(e,u,o,t.filter.filtersNodes())}}function W6(t,e){const n=es(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ge(e)&&!n.getImmediateChild(ye(e)).isEmpty())?n.getChild(e):null}function Y_(t,e,n,r){e.type===Jn.MERGE&&e.source.queryId!==null&&($(es(t.viewCache_),"We should always have a full cache before handling merges"),$(Tm(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=F6(t.processor_,i,e,n,r);return $6(t.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,H6(t,s.changes,s.viewCache.eventCache.getNode(),null)}function H6(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return y6(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X_;function q6(t){$(!X_,"__referenceConstructor has already been defined"),X_=t}function fy(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return $(s!=null,"SyncTree gave us an op for an invalid query."),Y_(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Y_(o,e,n,r));return s}}function py(t,e){let n=null;for(const r of t.views.values())n=n||W6(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z_;function G6(t){$(!Z_,"__referenceConstructor has already been defined"),Z_=t}class J_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ae(null),this.pendingWriteTree_=M6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function K6(t,e,n,r,i){return S6(t.pendingWriteTree_,e,n,r,i),i?xd(t,new Ji(GT(),e,n)):[]}function bs(t,e,n=!1){const r=C6(t.pendingWriteTree_,e);if(x6(t.pendingWriteTree_,e)){let s=new Ae(null);return r.snap!=null?s=s.set(Pe(),!0):Ln(r.children,o=>{s=s.set(new Be(o),!0)}),xd(t,new vh(r.path,s,n))}else return[]}function Cd(t,e,n){return xd(t,new Ji(KT(),e,n))}function Q6(t,e,n){const r=Ae.fromObject(n);return xd(t,new hl(KT(),e,r))}function Y6(t,e,n,r){const i=cI(t,r);if(i!=null){const s=hI(i),o=s.path,a=s.queryId,l=En(o,e),u=new Ji(QT(a),l,n);return dI(t,o,u)}else return[]}function X6(t,e,n,r){const i=cI(t,r);if(i){const s=hI(i),o=s.path,a=s.queryId,l=En(o,e),u=Ae.fromObject(n),c=new hl(QT(a),l,u);return dI(t,o,c)}else return[]}function aI(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=En(o,e),u=py(a,l);if(u)return u});return tI(i,e,s,n,!0)}function xd(t,e){return lI(e,t.syncPointTree_,null,JT(t.pendingWriteTree_,Pe()))}function lI(t,e,n,r){if(ge(t.path))return uI(t,e,n,r);{const i=e.get(Pe());n==null&&i!=null&&(n=py(i,Pe()));let s=[];const o=ye(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=rI(r,o);s=s.concat(lI(a,l,u,c))}return i&&(s=s.concat(fy(i,t,r,n))),s}}function uI(t,e,n,r){const i=e.get(Pe());n==null&&i!=null&&(n=py(i,Pe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=rI(r,o),c=t.operationForChild(o);c&&(s=s.concat(uI(c,a,l,u)))}),i&&(s=s.concat(fy(i,t,r,n))),s}function cI(t,e){return t.tagToQueryMap.get(e)}function hI(t){const e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Be(t.substr(0,e))}}function dI(t,e,n){const r=t.syncPointTree_.get(e);$(r,"Missing sync point for query tag that we're tracking");const i=JT(t.pendingWriteTree_,e);return fy(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new my(n)}node(){return this.node_}}class gy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pt(this.path_,e);return new gy(this.syncTree_,n)}node(){return aI(this.syncTree_,this.path_)}}const Z6=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},eE=function(t,e,n){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return J6(t[".sv"],e,n);if(typeof t[".sv"]=="object")return eU(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},J6=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+t)}},eU=function(t,e,n){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);const i=e.node();if($(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},tU=function(t,e,n,r){return vy(e,new gy(n,t),r)},nU=function(t,e,n){return vy(t,new my(e),n)};function vy(t,e,n){const r=t.getPriority().val(),i=eE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=eE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ct(a,Ot(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ct(i))),o.forEachChild(Ft,(a,l)=>{const u=vy(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function wy(t,e){let n=e instanceof Be?e:new Be(e),r=t,i=ye(n);for(;i!==null;){const s=Ys(r.node.children,i)||{children:{},childCount:0};r=new yy(i,r,s),n=Oe(n),i=ye(n)}return r}function To(t){return t.node.value}function fI(t,e){t.node.value=e,Mm(t)}function pI(t){return t.node.childCount>0}function rU(t){return To(t)===void 0&&!pI(t)}function Ld(t,e){Ln(t.node.children,(n,r)=>{e(new yy(n,t,r))})}function mI(t,e,n,r){n&&!r&&e(t),Ld(t,i=>{mI(i,e,!0,r)}),n&&r&&e(t)}function iU(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Jl(t){return new Be(t.parent===null?t.name:Jl(t.parent)+"/"+t.name)}function Mm(t){t.parent!==null&&sU(t.parent,t.name,t)}function sU(t,e,n){const r=rU(n),i=Rr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Mm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Mm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=/[\[\].#$\/\u0000-\u001F\u007F]/,aU=/[\[\].#$\u0000-\u001F\u007F]/,Pf=10*1024*1024,gI=function(t){return typeof t=="string"&&t.length!==0&&!oU.test(t)},lU=function(t){return typeof t=="string"&&t.length!==0&&!aU.test(t)},uU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lU(t)},vI=function(t,e,n){const r=n instanceof Be?new z9(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ti(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ti(r)+" with contents = "+e.toString());if(mT(e))throw new Error(t+"contains "+e.toString()+" "+Ti(r));if(typeof e=="string"&&e.length>Pf/3&&zh(e)>Pf)throw new Error(t+"contains a string greater than "+Pf+" utf8 bytes "+Ti(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ln(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!gI(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ti(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);V9(r,o),vI(t,a,r),W9(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ti(r)+" in addition to actual children.")}},cU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!gI(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uU(n))throw new Error(rD(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dU(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!jT(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ls(t,e,n){dU(t,n),fU(t,r=>On(r,e)||On(e,r))}function fU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(pU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function pU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Bi&&At("event: "+n.toString()),Xl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU="repo_interrupt",gU=25;class vU{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gh(),this.transactionQueueTree_=new yy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yU(t,e,n){if(t.stats_=sy(t.repoInfo_),t.forceRestClient_||f9())t.server_=new mh(t.repoInfo_,(r,i,s,o)=>{tE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>nE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{St(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Er(t.repoInfo_,e,(r,i,s,o)=>{tE(t,r,i,s,o)},r=>{nE(t,r)},r=>{_U(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=y9(t.repoInfo_,()=>new v6(t.stats_,t.server_)),t.infoData_=new d6,t.infoSyncTree_=new J_({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Cd(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),_y(t,"connected",!1),t.serverSyncTree_=new J_({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);ls(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function wU(t){const n=t.infoData_.getNode(new Be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function yI(t){return Z6({timestamp:wU(t)})}function tE(t,e,n,r,i){t.dataUpdateCount++;const s=new Be(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Bc(n,u=>Ot(u));o=X6(t.serverSyncTree_,s,l,i)}else{const l=Ot(n);o=Y6(t.serverSyncTree_,s,l,i)}else if(r){const l=Bc(n,u=>Ot(u));o=Q6(t.serverSyncTree_,s,l)}else{const l=Ot(n);o=Cd(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Sy(t,s)),ls(t.eventQueue_,a,o)}function nE(t,e){_y(t,"connected",e),e===!1&&SU(t)}function _U(t,e){Ln(e,(n,r)=>{_y(t,n,r)})}function _y(t,e,n){const r=new Be("/.info/"+e),i=Ot(n);t.infoData_.updateSnapshot(r,i);const s=Cd(t.infoSyncTree_,r,i);ls(t.eventQueue_,r,s)}function EU(t){return t.nextWriteId_++}function SU(t){wI(t,"onDisconnectEvents");const e=yI(t),n=gh();km(t.onDisconnect_,Pe(),(i,s)=>{const o=tU(i,s,t.serverSyncTree_,e);qT(n,i,o)});let r=[];km(n,Pe(),(i,s)=>{r=r.concat(Cd(t.serverSyncTree_,i,s));const o=kU(t,i);Sy(t,o)}),t.onDisconnect_=gh(),ls(t.eventQueue_,Pe(),r)}function CU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(mU)}function wI(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),At(n,...e)}function _I(t,e,n){return aI(t.serverSyncTree_,e,n)||ke.EMPTY_NODE}function Ey(t,e=t.transactionQueueTree_){if(e||kd(t,e),To(e)){const n=SI(t,e);$(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&xU(t,Jl(e),n)}else pI(e)&&Ld(e,n=>{Ey(t,n)})}function xU(t,e,n){const r=n.map(u=>u.currentWriteId),i=_I(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];$(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=En(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{wI(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(bs(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();kd(t,wy(t.transactionQueueTree_,e)),Ey(t,t.transactionQueueTree_),ls(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)Xl(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{hn("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Sy(t,e)}},o)}function Sy(t,e){const n=EI(t,e),r=Jl(n),i=SI(t,n);return LU(t,i,r),r}function LU(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=En(n,l.path);let c=!1,d;if($(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(bs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=gU)c=!0,d="maxretry",i=i.concat(bs(t.serverSyncTree_,l.currentWriteId,!0));else{const f=_I(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){vI("transaction failed: Data returned ",p,l.path);let v=Ot(p);typeof p=="object"&&p!=null&&Rr(p,".priority")||(v=v.updatePriority(f.getPriority()));const S=l.currentWriteId,g=yI(t),m=nU(v,f,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=m,l.currentWriteId=EU(t),o.splice(o.indexOf(S),1),i=i.concat(K6(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(bs(t.serverSyncTree_,S,!0))}else c=!0,d="nodata",i=i.concat(bs(t.serverSyncTree_,l.currentWriteId,!0))}ls(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}kd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Xl(r[a]);Ey(t,t.transactionQueueTree_)}function EI(t,e){let n,r=t.transactionQueueTree_;for(n=ye(e);n!==null&&To(r)===void 0;)r=wy(r,n),e=Oe(e),n=ye(e);return r}function SI(t,e){const n=[];return CI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function CI(t,e,n){const r=To(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ld(e,i=>{CI(t,i,n)})}function kd(t,e){const n=To(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,fI(e,n.length>0?n:void 0)}Ld(e,r=>{kd(t,r)})}function kU(t,e){const n=Jl(EI(t,e)),r=wy(t.transactionQueueTree_,e);return iU(r,i=>{Rf(t,i)}),Rf(t,r),mI(r,i=>{Rf(t,i)}),n}function Rf(t,e){const n=To(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?($(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):($(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(bs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?fI(e,void 0):n.length=s+1,ls(t.eventQueue_,Jl(e),i);for(let o=0;o<r.length;o++)Xl(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function IU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):hn(`Invalid query segment '${n}' in query '${t}'`)}return e}const rE=function(t,e){const n=bU(t),r=n.namespace;n.domain==="firebase.com"&&Nr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Nr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||s9();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new TT(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Be(n.pathString)}},bU=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=TU(t.substring(c,d)));const f=IU(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ge(this._path)?null:OT(this._path)}get ref(){return new Io(this._repo,this._path)}get _queryIdentifier(){const e=z_(this._queryParams),n=ry(e);return n==="{}"?"default":n}get _queryObject(){return z_(this._queryParams)}isEqual(e){if(e=Bn(e),!(e instanceof Cy))return!1;const n=this._repo===e._repo,r=jT(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+B9(this._path)}}class Io extends Cy{constructor(e,n){super(e,n,new uy,!1)}get parent(){const e=FT(this._path);return e===null?null:new Io(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}q6(Io);G6(Io);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="FIREBASE_DATABASE_EMULATOR_HOST",Dm={};let PU=!1;function RU(t,e,n,r){t.repoInfo_=new TT(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function MU(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Nr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),At("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=rE(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[NU]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=rE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Bs(Bs.OWNER):new m9(t.name,t.options,e);cU("Invalid Firebase Database URL",o),ge(o.path)||Nr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=AU(a,t,c,new p9(t.name,n));return new OU(d,t)}function DU(t,e){const n=Dm[e];(!n||n[t.key]!==t)&&Nr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CU(t),delete n[t.key]}function AU(t,e,n,r){let i=Dm[e.name];i||(i={},Dm[e.name]=i);let s=i[t.toURLString()];return s&&Nr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new vU(t,PU,n,r),i[t.toURLString()]=s,s}class OU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(yU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Io(this._repo,Pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(DU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Nr("Cannot call "+e+" on a deleted database.")}}function $U(t=fx(),e){const n=cx(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=tx("database");r&&FU(n,...r)}return n}function FU(t,e,n,r={}){t=Bn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Nr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Nr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Bs(Bs.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:rx(r.mockUserToken,t.app.options.projectId);s=new Bs(o)}RU(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){e9(hx),Ka(new Xs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return MU(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ni(x_,L_,t),ni(x_,L_,"esm2017")}Er.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Er.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};jU();const UU={apiKey:"AIzaSyCkJyIsFVBQjeoFRog5g-Wj78vPBMtl0ao",authDomain:"travel-app-87568.firebaseapp.com",projectId:"travel-app-87568",storageBucket:"travel-app-87568.appspot.com",messagingSenderId:"209060878484",appId:"1:209060878484:web:d83a88e01d0aab8a97bc81",measurementId:"G-J35P0FWKHS"},BU=dx(UU);$U(BU);Df.createRoot(document.getElementById("root")).render(w.jsx(X3,{}));
